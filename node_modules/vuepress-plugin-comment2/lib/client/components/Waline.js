import{usePageFrontmatter as g,usePageLang as h,withBase as l}from"@vuepress/client";import{Waline as w}from"@waline/client/dist/component.mjs";import{pageviewCount as C}from"@waline/client/dist/pageview.mjs";import{pageviewCount as _}from"@waline/client/dist/pageview.mjs";import{defineComponent as d,computed as n,onMounted as L,watch as E,h as u}from"vue";import{useRoute as N}from"vue-router";import{useLocaleConfig as W}from"vuepress-shared/client";import"@waline/client/dist/waline.css";import"../styles/waline.scss";const e=COMMENT_OPTIONS,k=WALINE_LOCALES,i=Boolean(e.serverURL);WALINE_META&&import("@waline/client/dist/waline-meta.css");var A=d({name:"WalineComment",setup(){const a=N(),m=g(),p=h(),s=W(k);let t;const c=n(()=>{if(!i)return!1;const r=e.comment!==!1,o=m.value.comment;return Boolean(o)||r!==!1&&o!==!1}),v=n(()=>{if(!i)return!1;const r=e.pageview!==!1,o=m.value.pageview;return Boolean(o)||r!==!1&&o!==!1}),f=n(()=>({lang:p.value==="zh-CN"?"zh-CN":"en",locale:{...s.value,...e.locale||{}},emoji:["//unpkg.com/@waline/emojis@1.1.0/weibo","//unpkg.com/@waline/emojis@1.1.0/bilibili"],dark:"html.dark",...e,path:l(a.path)}));return L(()=>{E(()=>a.path,()=>{t==null||t(),v.value&&setTimeout(()=>{t=C({serverURL:e.serverURL,path:l(a.path)})},e.delay||500)},{immediate:!0})}),()=>c.value?u("div",{class:"waline-wrapper"},i?u(w,f.value):[]):null}});export{A as default,_ as pageviewCount};
//# sourceMappingURL=Waline.js.map
