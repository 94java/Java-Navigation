import{useSassPalettePlugin as g}from"vuepress-plugin-sass-palette";import{Logger as b,getLocales as d}from"vuepress-shared/node";import{ensureEndingSlash as $}from"@vuepress/shared";import{getDirname as h,path as y}from"@vuepress/utils";const f={"/en/":{backToTop:"Back to top"},"/zh/":{backToTop:"返回顶部"},"/zh-tw/":{backToTop:"返回頂部"},"/de-at/":{backToTop:"Zurück nach oben."},"/vi/":{backToTop:"Trở lại đầu trang"},"/uk/":{backToTop:"Повернутися до початку"},"/ru/":{backToTop:"Вернуться к началу"},"/br/":{backToTop:"Volta ao topo"},"/pl/":{backToTop:"Wróć na górę"},"/sk/":{backToTop:"Back to top"},"/fr/":{backToTop:"Back to top"},"/es/":{backToTop:"Volver arriba"},"/ja/":{backToTop:"このページのトップへ戻る"},"/tr/":{backToTop:"En başa dön"},"/ko/":{backToTop:"맨 위로"}},u=new b("vuepress-plugin-components"),j=(o="")=>o==="fontawesome"||o.match(/^(?:https:)?\/\/kit\.fontawesome\.com\//)?"fas fa-":o==="iconfont"||o.match(/^(?:https:)?\/\/at\.alicdn\.com\/t\//)?"iconfont icon-":"",C=h(import.meta.url),i=$(y.resolve(C,"../client")),B=["Badge","BiliBili","CodePen","FontIcon","PDF","StackBlitz","VideoPlayer","YouTube"],P=o=>{if(o==="fontawesome")return{type:"script",content:"https://kit.fontawesome.com/ca37c296c5.js"};if(o==="iconfont")return{type:"style",content:'@import url("//at.alicdn.com/t/font_2410206_a0xb9hku9iu.css");'};const t=o.match(/^(?:https?:)?\/\//g)?o:`//${o}`;return t.endsWith(".css")?{type:"style",content:`@import url("${o}");`}:t.endsWith(".js")?{type:"script",content:o}:(u.error(`Can not recognize icon link: "${o}"`),null)},S=(o,t)=>{let n="",r="",c="",s="",p=!1,a=!1,T=!1;return t.components.forEach(e=>{if(B.includes(e)&&(n+=`import ${e} from "${i}components/${e}.js";
`,r+=`app.component("${e}", ${e});
`),e==="FontIcon"&&t.iconAssets){const m=P(t.iconAssets);if(m){const{type:k,content:l}=m;k==="script"?(a=!0,c+=`useScriptTag(\`${l}\`);
`):(T=!0,c+=`useStyleTag(\`${l}\`, { id: "icon-assets" });
`)}}}),typeof t.addThis=="string"&&(a=!0,c+=`useScriptTag(\`//s7.addthis.com/js/300/addthis_widget.js#pubid=${t.addThis}\`);
`),t.backToTop&&(p=!0,n+=`import BackToTop from "${i}components/BackToTop.js";
`,s+=`() => h(BackToTop, { threshold: ${typeof t.backToTop=="number"?t.backToTop:300} }),
`),t.notice&&(p=!0,n+=`import Notice from "${i}components/Notice.js";
`,s+=`() => h(Notice, ${JSON.stringify(t.notice)}),
`),o.writeTemp("components/config.js",`import { defineClientConfig } from "@vuepress/client";
${p?`import { h } from "vue";
`:""}
${a?`import { useScriptTag } from "${i}vueuse.js";
`:""}${T?`import { useStyleTag } from "${i}vueuse.js";
`:""}${n}

import "${i}styles/sr-only.scss";

export default defineClientConfig({
  enhance: ({ app }) => {
${r.split(`
`).map(e=>`    ${e}`).join(`
`)}
  },
  setup: () => {
${c.split(`
`).map(e=>`    ${e}`).join(`
`)}
  },
  rootComponents: [
${s.split(`
`).map(e=>`    ${e}`).join(`
`)}
  ],
});
`)},v=o=>t=>(t.env.isDebug&&u.info(`Options: ${o.toString()}`),g(t,{id:"hope"}),{name:"vuepress-plugin-components",define:{BACK_TO_TOP_LOCALES:d({app:t,name:"backToTop",default:f,config:o.backToTopLocales}),ICON_PREFIX:typeof o.iconPrefix=="string"?o.iconPrefix:j(o.iconAssets)},clientConfigFile:n=>S(n,o)});export{f as backToTopLocales,v as componentsPlugin};
//# sourceMappingURL=index.js.map
