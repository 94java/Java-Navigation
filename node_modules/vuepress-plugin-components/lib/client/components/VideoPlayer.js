import{ref as l,computed as f,unref as a,onMounted as g,isRef as m,watch as v,defineComponent as w,h as r}from"vue";import{useEventListener as u}from"@vueuse/core";import"../styles/video-player.scss";const d=t=>typeof t=="string"?t:`${t}px`,S=(t,e=0)=>{const o=l(),n=f(()=>d(a(t.width)||"100%")),i=l("auto"),c=h=>{const p=a(t.height),y=a(t.ratio)||16/9;return p?d(p):`${Number(h)/y+a(e)}px`},s=()=>{i.value=c(o.value.clientWidth)};return g(()=>{s(),m(e)&&v(e,()=>s()),u("orientationchange",()=>s()),u("resize",()=>s())}),{el:o,width:n,height:i}};var b=w({name:"VideoPlayer",props:{src:{type:String,required:!0},title:{type:String,default:"A video"},type:{type:String,default:""},width:{type:[String,Number],default:"100%"},height:{type:[String,Number],default:void 0},ratio:{type:Number,default:16/9},poster:{type:String,default:""},tracks:{type:Array,default:()=>[]},loop:Boolean},setup(t){const{el:e,width:o,height:n}=S(t);return()=>r("div",{class:"video-wrapper",ref:e,style:{width:o.value,height:n.value}},[r("a",{class:"sr-only",href:t.src},t.title),r("video",{title:t.title,crossorigin:"anonymous",poster:t.poster,controls:"",...t.loop?{loop:""}:{}},[...t.tracks.map(i=>r("track",i)),r("source",{src:t.src,type:t.type})])])}});export{b as default};
//# sourceMappingURL=VideoPlayer.js.map
