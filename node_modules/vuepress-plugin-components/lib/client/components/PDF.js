import{withBase as m}from"@vuepress/client";import{isLinkHttp as $}from"@vuepress/shared";import{ref as a,computed as c,unref as l,onMounted as h,isRef as S,watch as y,defineComponent as k,h as p}from"vue";import{checkIsMobile as N,checkIsSafari as z,checkIsiPad as f,checkIsiPhone as g}from"vuepress-shared/client";import{useEventListener as v}from"@vueuse/core";import"../styles/pdf.scss";const w=e=>typeof e=="string"?e:`${e}px`,I=(e,r=0)=>{const u=a(),d=c(()=>w(l(e.width)||"100%")),i=a("auto"),n=o=>{const s=l(e.height),b=l(e.ratio)||16/9;return s?w(s):`${Number(o)/b+l(r)}px`},t=()=>{i.value=n(u.value.clientWidth)};return h(()=>{t(),S(r)&&y(r,()=>t()),v("orientationchange",()=>t()),v("resize",()=>t())}),{el:u,width:d,height:i}};var P=k({name:"PDF",props:{url:{type:String,required:!0},width:{type:[String,Number],default:"100%"},height:{type:[String,Number],default:void 0},ratio:{type:Number,default:16/9},page:{type:Number,default:1},noToolbar:Boolean,zoom:{type:Number,default:100}},setup(e){const{el:r,width:u,height:d}=I(e),i=a(!0),n=a(!1),t=c(()=>`#page=${e.page}&toolbar=${e.noToolbar?0:1}&zoom=${e.zoom}`);return h(()=>{const{userAgent:o}=navigator;N(o)?n.value=!0:z(o)&&(f(o)||g(o))&&(i.value=!1,(f(o)||g(o))&&(n.value=!0))}),()=>{const o=$(e.url)?e.url:__VUEPRESS_SSR__?"":`${(window==null?void 0:window.location.origin)||""}${m(e.url)}`;return p("div",{class:"pdf-preview",ref:r,style:{width:u.value,height:d.value}},[p("iframe",{class:"pdf-iframe",src:n.value?`https://drive.google.com/viewerng/viewer?embedded=true&url=${encodeURI(o)}`:`${m(e.url)}${i.value?t.value:""}`}),p("button",{class:"pdf-open-button",onClick:()=>{window.open(o)}},"Open")])}}});export{P as default};
//# sourceMappingURL=PDF.js.map
