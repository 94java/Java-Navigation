{"version":3,"file":"meta.js","sourceRoot":"","sources":["../../../../../src/client/modules/info/composables/meta.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,QAAQ,EAAE,MAAM,KAAK,CAAC;AAC/B,OAAO,EACL,WAAW,EACX,kBAAkB,EAClB,iBAAiB,GAClB,MAAM,kBAAkB,CAAC;AAC1B,OAAO,EAAE,kBAAkB,EAAE,MAAM,kCAAkC,CAAC;AACtE,OAAO,EAAE,eAAe,EAAE,MAAM,yCAAyC,CAAC;AAU1E,MAAM,CAAC,MAAM,WAAW,GAAG,GAAwC,EAAE;IACnE,MAAM,WAAW,GAAG,kBAAkB,EAAE,CAAC;IACzC,MAAM,IAAI,GAAG,WAAW,EAAiB,CAAC;IAC1C,MAAM,WAAW,GAAG,kBAAkB,EAA8B,CAAC;IAErE,OAAO,QAAQ,CAAC,GAAG,EAAE;QACnB,MAAM,EACJ,IAAI,EACJ,QAAQ,GAAG,IAAI,EACf,UAAU,GAAG,MAAM,EACnB,OAAO,GAAG,EAAE,EACZ,QAAQ,EACR,eAAe,GAAG,EAAE,GACrB,GAAG,WAAW,CAAC,KAAK,CAAC;QAEtB,MAAM,YAAY,GAAG,WAAW,CAAC,KAAK,CAAC,QAAQ,IAAI,QAAQ,IAAI,IAAI,CAAC;QAEpE,IAAI,CAAC,YAAY;YAAE,OAAO,IAAI,CAAC;QAE/B,IAAI,CAAC,QAAQ;YAAE,OAAO,IAAI,CAAC;QAE3B,MAAM,IAAI,GAAG,eAAe,CAAC;YAC3B,QAAQ;YACR,UAAU;YACV,OAAO;YACP,eAAe;YACf,gBAAgB,EAAE,IAAI,CAAC,KAAK,CAAC,gBAAgB;SAC9C,CAAC,CAAC;QAEH,IAAI,CAAC,IAAI;YAAE,OAAO,IAAI,CAAC;QAEvB,OAAO;YACL,IAAI,EAAE,WAAW,CAAC,KAAK,CAAC,WAAW,CAAC,QAAQ;YAC5C,IAAI;SACL,CAAC;IACJ,CAAC,CAAC,CAAC;AACL,CAAC,CAAC;AAEF,MAAM,CAAC,MAAM,aAAa,GAAG,GAA+B,EAAE;IAC5D,MAAM,UAAU,GAAG,iBAAiB,EAAE,CAAC;IACvC,MAAM,WAAW,GAAG,kBAAkB,EAAE,CAAC;IACzC,MAAM,IAAI,GAAG,WAAW,EAAiB,CAAC;IAC1C,MAAM,WAAW,GAAG,kBAAkB,EAA8B,CAAC;IAErE,OAAO,QAAQ,CAAC,GAAG,EAAE;QACnB,MAAM,eAAe,GACnB,WAAW,CAAC,KAAK,CAAC,WAAW,IAAI,WAAW,CAAC,KAAK,CAAC,WAAW,IAAI,IAAI,CAAC;QAEzE,IAAI,CAAC,eAAe;YAAE,OAAO,IAAI,CAAC;QAElC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,EAAE,WAAW;YAAE,OAAO,IAAI,CAAC;QAE9C,MAAM,WAAW,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,EAAE,WAAW,CAAC,CAAC;QAE1D,OAAO,WAAW,CAAC,cAAc,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;IAC3D,CAAC,CAAC,CAAC;AACL,CAAC,CAAC;AAEF,MAAM,CAAC,MAAM,eAAe,GAAG,GAAyC,EAAE;IACxE,MAAM,WAAW,GAAG,kBAAkB,EAAE,CAAC;IACzC,MAAM,IAAI,GAAG,WAAW,EAAiB,CAAC;IAC1C,MAAM,WAAW,GAAG,kBAAkB,EAA8B,CAAC;IAErE,OAAO,QAAQ,CAAC,GAAG,EAAE;QACnB,MAAM,gBAAgB,GACpB,WAAW,CAAC,KAAK,CAAC,YAAY,IAAI,WAAW,CAAC,KAAK,CAAC,YAAY,IAAI,IAAI,CAAC;QAE3E,IAAI,CAAC,gBAAgB;YAAE,OAAO,IAAI,CAAC;QAEnC,OAAO,IAAI,CAAC,KAAK,CAAC,GAAG,EAAE,YAAY,IAAI,IAAI,CAAC;IAC9C,CAAC,CAAC,CAAC;AACL,CAAC,CAAC","sourcesContent":["import { computed } from \"vue\";\nimport {\n  usePageData,\n  usePageFrontmatter,\n  useSiteLocaleData,\n} from \"@vuepress/client\";\nimport { useThemeLocaleData } from \"@theme-hope/composables/index.js\";\nimport { resolveEditLink } from \"@theme-hope/modules/info/utils/index.js\";\n\nimport type { GitContributor } from \"@vuepress/plugin-git\";\nimport type { ComputedRef } from \"vue\";\nimport type {\n  AutoLinkOptions,\n  ThemePageData,\n  ThemeNormalPageFrontmatter,\n} from \"../../../../shared/index.js\";\n\nexport const useEditLink = (): ComputedRef<null | AutoLinkOptions> => {\n  const themeLocale = useThemeLocaleData();\n  const page = usePageData<ThemePageData>();\n  const frontmatter = usePageFrontmatter<ThemeNormalPageFrontmatter>();\n\n  return computed(() => {\n    const {\n      repo,\n      docsRepo = repo,\n      docsBranch = \"main\",\n      docsDir = \"\",\n      editLink,\n      editLinkPattern = \"\",\n    } = themeLocale.value;\n\n    const showEditLink = frontmatter.value.editLink ?? editLink ?? true;\n\n    if (!showEditLink) return null;\n\n    if (!docsRepo) return null;\n\n    const link = resolveEditLink({\n      docsRepo,\n      docsBranch,\n      docsDir,\n      editLinkPattern,\n      filePathRelative: page.value.filePathRelative,\n    });\n\n    if (!link) return null;\n\n    return {\n      text: themeLocale.value.metaLocales.editLink,\n      link,\n    };\n  });\n};\n\nexport const useUpdateTime = (): ComputedRef<null | string> => {\n  const siteLocale = useSiteLocaleData();\n  const themeLocale = useThemeLocaleData();\n  const page = usePageData<ThemePageData>();\n  const frontmatter = usePageFrontmatter<ThemeNormalPageFrontmatter>();\n\n  return computed(() => {\n    const showLastUpdated =\n      frontmatter.value.lastUpdated ?? themeLocale.value.lastUpdated ?? true;\n\n    if (!showLastUpdated) return null;\n\n    if (!page.value.git?.updatedTime) return null;\n\n    const updatedDate = new Date(page.value.git?.updatedTime);\n\n    return updatedDate.toLocaleString(siteLocale.value.lang);\n  });\n};\n\nexport const useContributors = (): ComputedRef<null | GitContributor[]> => {\n  const themeLocale = useThemeLocaleData();\n  const page = usePageData<ThemePageData>();\n  const frontmatter = usePageFrontmatter<ThemeNormalPageFrontmatter>();\n\n  return computed(() => {\n    const showContributors =\n      frontmatter.value.contributors ?? themeLocale.value.contributors ?? true;\n\n    if (!showContributors) return null;\n\n    return page.value.git?.contributors ?? null;\n  });\n};\n"]}