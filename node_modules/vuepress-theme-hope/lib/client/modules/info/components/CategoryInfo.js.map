{"version":3,"file":"CategoryInfo.js","sourceRoot":"","sources":["../../../../../src/client/modules/info/components/CategoryInfo.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,eAAe,EAAE,CAAC,EAAE,MAAM,KAAK,CAAC;AACzC,OAAO,EAAE,QAAQ,EAAE,SAAS,EAAE,MAAM,YAAY,CAAC;AACjD,OAAO,EAAE,qBAAqB,EAAE,MAAM,wBAAwB,CAAC;AAE/D,OAAO,EAAE,YAAY,EAAE,MAAM,8CAA8C,CAAC;AAC5E,OAAO,EAAE,aAAa,EAAE,MAAM,+CAA+C,CAAC;AAK9E,OAAO,yBAAyB,CAAC;AAEjC,eAAe,eAAe,CAAC;IAC7B,IAAI,EAAE,cAAc;IAEpB,YAAY,EAAE,KAAK;IAEnB,KAAK,EAAE;QACL;;;;WAIG;QACH,QAAQ,EAAE;YACR,IAAI,EAAE,KAAiC;YACvC,QAAQ,EAAE,IAAI;SACf;QAED;;;;WAIG;QACH,IAAI,EAAE,OAAO;KACd;IAED,KAAK,CAAC,KAAK;QACT,MAAM,MAAM,GAAG,SAAS,EAAE,CAAC;QAC3B,MAAM,KAAK,GAAG,QAAQ,EAAE,CAAC;QACzB,MAAM,UAAU,GAAG,aAAa,EAAE,CAAC;QAEnC,MAAM,QAAQ,GAAG,CAAC,KAAY,EAAE,IAAI,GAAG,EAAE,EAAQ,EAAE;YACjD,IAAI,IAAI,IAAI,KAAK,CAAC,IAAI,KAAK,IAAI,EAAE;gBAC/B,KAAK,CAAC,cAAc,EAAE,CAAC;gBACvB,KAAK,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;aACxB;QACH,CAAC,CAAC;QAEF,OAAO,GAAiB,EAAE,CACxB,KAAK,CAAC,QAAQ,CAAC,MAAM;YACnB,CAAC,CAAC,CAAC,CACC,MAAM,EACN;gBACE,KAAK,EAAE,eAAe;gBACtB,YAAY,EAAE,GAAG,UAAU,CAAC,KAAK,CAAC,QAAQ,GACxC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IACpB,EAAE;gBACF,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,kBAAkB,EAAE,MAAM,EAAE,CAAC;aACtD,EACD;gBACE,CAAC,CAAC,YAAY,CAAC;gBAEf,GAAG,KAAK,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE,EAAE,EAAE,CACvC,CAAC,CACC,MAAM,EACN;oBACE,KAAK,EAAE;wBACL,eAAe;wBACf;4BACE,sCAAsC;4BACtC,CAAC,WAAW,qBAAqB,CAAC,IAAI,EAAE,CAAC,CAAC,EAAE,CAAC,EAC3C,CAAC,KAAK,CAAC,IAAI;4BACb,SAAS,EAAE,IAAI;yBAChB;qBACF;oBACD,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,EAAE;oBAC9B,OAAO,EAAE,CAAC,KAAY,EAAE,EAAE,CAAC,QAAQ,CAAC,KAAK,EAAE,IAAI,CAAC;iBACjD,EACD,IAAI,CACL,CACF;gBACD,CAAC,CAAC,MAAM,EAAE;oBACR,QAAQ,EAAE,gBAAgB;oBAC1B,OAAO,EAAE,KAAK,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,EAAE,EAAE,EAAE,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC;iBAC1D,CAAC;aACH,CACF;YACH,CAAC,CAAC,IAAI,CAAC;IACb,CAAC;CACF,CAAC,CAAC","sourcesContent":["import { defineComponent, h } from \"vue\";\nimport { useRoute, useRouter } from \"vue-router\";\nimport { generateIndexFromHash } from \"vuepress-shared/client\";\n\nimport { CategoryIcon } from \"@theme-hope/modules/info/components/icons.js\";\nimport { useMetaLocale } from \"@theme-hope/modules/info/composables/index.js\";\n\nimport type { PropType, VNode } from \"vue\";\nimport type { PageCategory } from \"@theme-hope/modules/info/utils/index.js\";\n\nimport \"../styles/category.scss\";\n\nexport default defineComponent({\n  name: \"CategoryInfo\",\n\n  inheritAttrs: false,\n\n  props: {\n    /**\n     * Category information\n     *\n     * ÂàÜÁ±ª‰ø°ÊÅØ\n     */\n    category: {\n      type: Array as PropType<PageCategory[]>,\n      required: true,\n    },\n\n    /**\n     * Whether in pure mode\n     *\n     * ÊòØÂê¶Â§Ñ‰∫éÁ∫ØÂáÄÊ®°Âºè\n     */\n    pure: Boolean,\n  },\n\n  setup(props) {\n    const router = useRouter();\n    const route = useRoute();\n    const metaLocale = useMetaLocale();\n\n    const navigate = (event: Event, path = \"\"): void => {\n      if (path && route.path !== path) {\n        event.preventDefault();\n        void router.push(path);\n      }\n    };\n\n    return (): VNode | null =>\n      props.category.length\n        ? h(\n            \"span\",\n            {\n              class: \"category-info\",\n              \"aria-label\": `${metaLocale.value.category}${\n                props.pure ? \"\" : \"üåà\"\n              }`,\n              ...(props.pure ? {} : { \"data-balloon-pos\": \"down\" }),\n            },\n            [\n              h(CategoryIcon),\n\n              ...props.category.map(({ name, path }) =>\n                h(\n                  \"span\",\n                  {\n                    class: [\n                      \"category-item\",\n                      {\n                        // TODO: magic number 9 is tricky here\n                        [`category${generateIndexFromHash(name, 9)}`]:\n                          !props.pure,\n                        clickable: path,\n                      },\n                    ],\n                    role: path ? \"navigation\" : \"\",\n                    onClick: (event: Event) => navigate(event, path),\n                  },\n                  name\n                )\n              ),\n              h(\"meta\", {\n                property: \"articleSection\",\n                content: props.category.map(({ name }) => name).join(\",\"),\n              }),\n            ]\n          )\n        : null;\n  },\n});\n"]}