{"version":3,"file":"ReadingTimeInfo.js","sourceRoot":"","sources":["../../../../../src/client/modules/info/components/ReadingTimeInfo.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,QAAQ,EAAE,eAAe,EAAE,CAAC,EAAE,MAAM,KAAK,CAAC;AACnD,OAAO,EAAE,eAAe,EAAE,MAAM,wBAAwB,CAAC;AAEzD,OAAO,EAAE,SAAS,EAAE,MAAM,8CAA8C,CAAC;AACzE,OAAO,EAAE,aAAa,EAAE,MAAM,+CAA+C,CAAC;AAC9E,OAAO,EAAE,kBAAkB,EAAE,MAAM,yCAAyC,CAAC;AAK7E,eAAe,eAAe,CAAC;IAC7B,IAAI,EAAE,iBAAiB;IAEvB,YAAY,EAAE,KAAK;IAEnB,KAAK,EAAE;QACL;;;;WAIG;QACH,WAAW,EAAE;YACX,IAAI,EAAE,MAAsC;YAC5C,OAAO,EAAE,GAAG,EAAE,CAAC,IAAI;SACpB;QAED;;;;WAIG;QACH,IAAI,EAAE,OAAO;KACd;IAED,KAAK,CAAC,KAAK;QACT,MAAM,UAAU,GAAG,aAAa,EAAE,CAAC;QACnC,MAAM,iBAAiB,GAAG,eAAe,CAAC,kBAAkB,CAAC,CAAC;QAE9D,MAAM,WAAW,GAAG,QAAQ,CAAC,GAAG,EAAE;YAChC,IAAI,CAAC,KAAK,CAAC,WAAW;gBAAE,OAAO,IAAI,CAAC;YAEpC,MAAM,EAAE,OAAO,EAAE,GAAG,KAAK,CAAC,WAAW,CAAC;YAEtC,OAAO,OAAO,GAAG,CAAC;gBAChB,CAAC,CAAC,EAAE,IAAI,EAAE,iBAAiB,CAAC,KAAK,CAAC,WAAW,EAAE,IAAI,EAAE,MAAM,EAAE;gBAC7D,CAAC,CAAC;oBACE,IAAI,EAAE,iBAAiB,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,CACxC,OAAO,EACP,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,QAAQ,EAAE,CAC/B;oBACD,IAAI,EAAE,KAAK,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,GAAG;iBAClC,CAAC;QACR,CAAC,CAAC,CAAC;QAEH,OAAO,GAAiB,EAAE,CACxB,WAAW,CAAC,KAAK;YACf,CAAC,CAAC,CAAC,CACC,MAAM,EACN;gBACE,KAAK,EAAE,mBAAmB;gBAC1B,YAAY,EAAE,GAAG,UAAU,CAAC,KAAK,CAAC,WAAW,GAC3C,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,GACpB,EAAE;gBACF,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,kBAAkB,EAAE,MAAM,EAAE,CAAC;aACtD,EACD;gBACE,CAAC,CAAC,SAAS,CAAC;gBACZ,CAAC,CAAC,MAAM,EAAE,WAAW,CAAC,KAAK,CAAC,IAAI,CAAC;gBACjC,CAAC,CAAC,MAAM,EAAE;oBACR,QAAQ,EAAE,cAAc;oBACxB,OAAO,EAAE,WAAW,CAAC,KAAK,CAAC,IAAI;iBAChC,CAAC;aACH,CACF;YACH,CAAC,CAAC,IAAI,CAAC;IACb,CAAC;CACF,CAAC,CAAC","sourcesContent":["import { computed, defineComponent, h } from \"vue\";\nimport { useLocaleConfig } from \"vuepress-shared/client\";\n\nimport { TimerIcon } from \"@theme-hope/modules/info/components/icons.js\";\nimport { useMetaLocale } from \"@theme-hope/modules/info/composables/index.js\";\nimport { readingTimeLocales } from \"@theme-hope/modules/info/utils/index.js\";\n\nimport type { PropType, VNode } from \"vue\";\nimport type { ReadingTime } from \"vuepress-plugin-reading-time2\";\n\nexport default defineComponent({\n  name: \"ReadingTimeInfo\",\n\n  inheritAttrs: false,\n\n  props: {\n    /**\n     * Reading time information\n     *\n     * 阅读时间信息\n     */\n    readingTime: {\n      type: Object as PropType<ReadingTime | null>,\n      default: () => null,\n    },\n\n    /**\n     * Whether in pure mode\n     *\n     * 是否处于纯净模式\n     */\n    pure: Boolean,\n  },\n\n  setup(props) {\n    const metaLocale = useMetaLocale();\n    const readingTimeLocale = useLocaleConfig(readingTimeLocales);\n\n    const readingTime = computed(() => {\n      if (!props.readingTime) return null;\n\n      const { minutes } = props.readingTime;\n\n      return minutes < 1\n        ? { text: readingTimeLocale.value.less1Minute, time: \"PT1M\" }\n        : {\n            text: readingTimeLocale.value.time.replace(\n              \"$time\",\n              Math.round(minutes).toString()\n            ),\n            time: `PT${Math.round(minutes)}M`,\n          };\n    });\n\n    return (): VNode | null =>\n      readingTime.value\n        ? h(\n            \"span\",\n            {\n              class: \"reading-time-info\",\n              \"aria-label\": `${metaLocale.value.readingTime}${\n                props.pure ? \"\" : \"⌛\"\n              }`,\n              ...(props.pure ? {} : { \"data-balloon-pos\": \"down\" }),\n            },\n            [\n              h(TimerIcon),\n              h(\"span\", readingTime.value.text),\n              h(\"meta\", {\n                property: \"timeRequired\",\n                content: readingTime.value.time,\n              }),\n            ]\n          )\n        : null;\n  },\n});\n"]}