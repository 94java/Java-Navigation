{"version":3,"file":"ProjectPanel.js","sourceRoot":"","sources":["../../../../../src/client/modules/blog/components/ProjectPanel.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,kBAAkB,EAAE,QAAQ,EAAE,MAAM,kBAAkB,CAAC;AAChE,OAAO,EAAE,eAAe,EAAE,CAAC,EAAE,gBAAgB,EAAE,MAAM,KAAK,CAAC;AAE3D,OAAO,IAAI,MAAM,gCAAgC,CAAC;AAClD,OAAO,EACL,WAAW,EACX,QAAQ,EACR,UAAU,EACV,QAAQ,EACR,WAAW,GACZ,MAAM,oDAAoD,CAAC;AAC5D,OAAO,EAAE,WAAW,EAAE,OAAO,EAAE,MAAM,kCAAkC,CAAC;AAKxE,OAAO,8BAA8B,CAAC;AAEtC,MAAM,uBAAuB,GAAG;IAC9B,MAAM;IACN,SAAS;IACT,MAAM;IACN,SAAS;IACT,QAAQ;CACT,CAAC;AAEF,eAAe,eAAe,CAAC;IAC7B,IAAI,EAAE,cAAc;IAEpB,UAAU,EAAE,EAAE,WAAW,EAAE,QAAQ,EAAE,UAAU,EAAE,QAAQ,EAAE,WAAW,EAAE;IAExE,KAAK;QACH,MAAM,WAAW,GAAG,kBAAkB,EAAgC,CAAC;QACvE,MAAM,IAAI,GAAG,OAAO,EAAE,CAAC;QACvB,MAAM,QAAQ,GAAG,WAAW,EAAE,CAAC;QAE/B,MAAM,UAAU,GAAG,CAAC,IAAI,GAAG,EAAE,EAAE,GAAG,GAAG,MAAM,EAAgB,EAAE;YAC3D,gBAAgB;YAChB,IAAI,uBAAuB,CAAC,QAAQ,CAAC,IAAI,CAAC;gBACxC,OAAO,CAAC,CAAC,gBAAgB,CAAC,GAAG,IAAI,OAAO,CAAC,CAAC,CAAC;YAE7C,yBAAyB;YACzB,IAAI,IAAI,CAAC,KAAK,CAAC,cAAc,CAAC;gBAC5B,OAAO,CAAC,CAAC,KAAK,EAAE,EAAE,GAAG,EAAE,IAAI,EAAE,GAAG,EAAE,KAAK,EAAE,OAAO,EAAE,CAAC,CAAC;YAEtD,8BAA8B;YAC9B,IAAI,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC;gBACtB,OAAO,CAAC,CAAC,KAAK,EAAE,EAAE,GAAG,EAAE,QAAQ,CAAC,IAAI,CAAC,EAAE,GAAG,EAAE,KAAK,EAAE,OAAO,EAAE,CAAC,CAAC;YAEhE,sBAAsB;YACtB,OAAO,CAAC,CAAC,IAAI,EAAE,EAAE,IAAI,EAAE,CAAC,CAAC;QAC3B,CAAC,CAAC;QAEF,OAAO,GAAiB,EAAE,CACxB,WAAW,CAAC,KAAK,CAAC,QAAQ,EAAE,MAAM;YAChC,CAAC,CAAC,CAAC,CACC,KAAK,EACL,EAAE,KAAK,EAAE,eAAe,EAAE,EAC1B,WAAW,CAAC,KAAK,CAAC,QAAQ,CAAC,GAAG,CAC5B,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,EAAE,KAAK,EAAE,EAAE,CACpC,CAAC,CACC,KAAK,EACL;gBACE,KAAK,EAAE;oBACL,SAAS;oBACT,sCAAsC;oBACtC,EAAE,CAAC,UAAU,KAAK,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,KAAK,EAAE;iBACzC;gBACD,OAAO,EAAE,GAAG,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC;aAC9B,EACD;gBACE,UAAU,CAAC,IAAI,EAAE,IAAI,CAAC;gBACtB,CAAC,CAAC,KAAK,EAAE,EAAE,KAAK,EAAE,MAAM,EAAE,EAAE,IAAI,CAAC;gBACjC,CAAC,CAAC,KAAK,EAAE,EAAE,KAAK,EAAE,MAAM,EAAE,EAAE,IAAI,CAAC;aAClC,CACF,CACJ,CACF;YACH,CAAC,CAAC,IAAI,CAAC;IACb,CAAC;CACF,CAAC,CAAC","sourcesContent":["import { usePageFrontmatter, withBase } from \"@vuepress/client\";\nimport { defineComponent, h, resolveComponent } from \"vue\";\n\nimport Icon from \"@theme-hope/components/Icon.js\";\nimport {\n  ArticleIcon,\n  BookIcon,\n  FriendIcon,\n  LinkIcon,\n  ProjectIcon,\n} from \"@theme-hope/modules/blog/components/icons/index.js\";\nimport { useNavigate, usePure } from \"@theme-hope/composables/index.js\";\n\nimport type { VNode } from \"vue\";\nimport type { ThemeBlogHomePageFrontmatter } from \"../../../../shared/index.js\";\n\nimport \"../styles/project-panel.scss\";\n\nconst AVAILABLE_PROJECT_TYPES = [\n  \"link\",\n  \"article\",\n  \"book\",\n  \"project\",\n  \"friend\",\n];\n\nexport default defineComponent({\n  name: \"ProjectPanel\",\n\n  components: { ArticleIcon, BookIcon, FriendIcon, LinkIcon, ProjectIcon },\n\n  setup() {\n    const frontmatter = usePageFrontmatter<ThemeBlogHomePageFrontmatter>();\n    const pure = usePure();\n    const navigate = useNavigate();\n\n    const renderIcon = (icon = \"\", alt = \"icon\"): VNode | null => {\n      // built in icon\n      if (AVAILABLE_PROJECT_TYPES.includes(icon))\n        return h(resolveComponent(`${icon}-icon`));\n\n      // it’s a full image link\n      if (icon.match(/^https?:\\/\\//))\n        return h(\"img\", { src: icon, alt, class: \"image\" });\n\n      // it’s an absolute image link\n      if (icon.startsWith(\"/\"))\n        return h(\"img\", { src: withBase(icon), alt, class: \"image\" });\n\n      // render as icon font\n      return h(Icon, { icon });\n    };\n\n    return (): VNode | null =>\n      frontmatter.value.projects?.length\n        ? h(\n            \"div\",\n            { class: \"project-panel\" },\n            frontmatter.value.projects.map(\n              ({ icon, link, name, desc }, index) =>\n                h(\n                  \"div\",\n                  {\n                    class: [\n                      \"project\",\n                      // TODO: magic number 9 is tricky here\n                      { [`project${index % 9}`]: !pure.value },\n                    ],\n                    onClick: () => navigate(link),\n                  },\n                  [\n                    renderIcon(icon, name),\n                    h(\"div\", { class: \"name\" }, name),\n                    h(\"div\", { class: \"desc\" }, desc),\n                  ]\n                )\n            )\n          )\n        : null;\n  },\n});\n"]}