{"version":3,"file":"BlogHero.js","sourceRoot":"","sources":["../../../../../src/client/modules/blog/components/BlogHero.ts"],"names":[],"mappings":"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","sourcesContent":["import {\n  usePageFrontmatter,\n  usePageHeadTitle,\n  withBase,\n} from \"@vuepress/client\";\nimport { computed, defineComponent, h, ref } from \"vue\";\n\nimport DropTransition from \"@theme-hope/components/transitions/DropTransition.js\";\nimport { SlideDownIcon } from \"./icons/icons.js\";\nimport defaultHeroBgImagePath from \"../assets/hero.jpg\";\n\nimport type { VNode } from \"vue\";\nimport type { ThemeBlogHomePageFrontmatter } from \"../../../../shared/index.js\";\n\nimport \"../styles/blog-hero.scss\";\n\nexport default defineComponent({\n  name: \"BlogHero\",\n\n  setup(_props, { slots }) {\n    const title = usePageHeadTitle();\n    const frontmatter = usePageFrontmatter<ThemeBlogHomePageFrontmatter>();\n\n    const hero = ref<HTMLElement>();\n    const heroImage = computed(() => frontmatter.value.heroImage || null);\n\n    const isFullScreen = computed(\n      () => frontmatter.value.heroFullScreen || false\n    );\n\n    const heroImageStyle = computed(() => {\n      const defaultStyle = {\n        maxHeight: \"180px\",\n        margin:\n          frontmatter.value.heroText === false\n            ? \"6rem auto 1.5rem\"\n            : \"1rem auto\",\n      };\n\n      return {\n        ...defaultStyle,\n        ...frontmatter.value.heroImageStyle,\n      };\n    });\n\n    const bgImage = computed(() =>\n      frontmatter.value.bgImage\n        ? withBase(frontmatter.value.bgImage)\n        : frontmatter.value.bgImage ?? defaultHeroBgImagePath\n    );\n\n    const bgImageStyle = computed(() => {\n      const defaultStyle = {\n        height: \"350px\",\n        textAlign: \"center\",\n        overflow: \"hidden\",\n      };\n\n      return {\n        ...defaultStyle,\n        ...frontmatter.value.bgImageStyle,\n      };\n    });\n\n    return (): VNode | null =>\n      frontmatter.value.hero !== false\n        ? h(\n            \"div\",\n            {\n              ref: hero,\n              class: [\"blog-hero\", { fullscreen: isFullScreen.value }],\n              style: bgImageStyle.value,\n            },\n            [\n              bgImage.value\n                ? h(\"div\", {\n                    class: \"mask\",\n                    style: {\n                      background: `url(${bgImage.value}) center/cover no-repeat`,\n                    },\n                  })\n                : null,\n              slots[\"heroImage\"]?.() ||\n                h(DropTransition, { appear: true, delay: 0.04 }, () =>\n                  heroImage.value\n                    ? h(\"img\", {\n                        class: \"hero-image\",\n                        style: heroImageStyle.value,\n                        src: withBase(heroImage.value),\n                        alt: frontmatter.value.heroAlt || \"hero image\",\n                      })\n                    : null\n                ),\n              h(DropTransition, { appear: true, delay: 0.08 }, () =>\n                frontmatter.value.heroText !== false\n                  ? h(\"h1\", frontmatter.value.heroText || title.value)\n                  : null\n              ),\n              h(DropTransition, { appear: true, delay: 0.12 }, () =>\n                frontmatter.value.tagline\n                  ? h(\"p\", {\n                      class: \"description\",\n                      innerHTML: frontmatter.value.tagline,\n                    })\n                  : null\n              ),\n              isFullScreen.value\n                ? h(\n                    \"button\",\n                    {\n                      class: \"slide-down-button\",\n                      onClick: () => {\n                        window.scrollTo({\n                          top: hero.value!.clientHeight,\n                          behavior: \"smooth\",\n                        });\n                      },\n                    },\n                    [h(SlideDownIcon), h(SlideDownIcon)]\n                  )\n                : null,\n            ]\n          )\n        : null;\n  },\n});\n"]}