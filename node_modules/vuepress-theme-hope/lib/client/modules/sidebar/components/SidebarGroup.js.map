{"version":3,"file":"SidebarGroup.js","sourceRoot":"","sources":["../../../../../src/client/modules/sidebar/components/SidebarGroup.ts"],"names":[],"mappings":"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","sourcesContent":["import { computed, defineComponent, h } from \"vue\";\nimport { RouterLink, useRoute } from \"vue-router\";\n\nimport Icon from \"@theme-hope/components/Icon.js\";\nimport SidebarLinks from \"@theme-hope/modules/sidebar/components/SidebarLinks.js\";\nimport { isActiveSidebarItem } from \"@theme-hope/modules/sidebar/utils/index.js\";\n\nimport type { PropType, VNode } from \"vue\";\nimport type { ResolvedSidebarGroupItem } from \"../utils/index.js\";\n\nimport \"../styles/sidebar-group.scss\";\n\nexport default defineComponent({\n  name: \"SidebarGroup\",\n\n  props: {\n    /**\n     * Sidebar group item config\n     *\n     * 侧边栏分组配置\n     */\n    config: {\n      type: Object as PropType<ResolvedSidebarGroupItem>,\n      required: true,\n    },\n\n    /**\n     * Whether current group is open\n     *\n     * 当前分组是否展开\n     */\n    open: {\n      type: Boolean,\n      required: true,\n    },\n  },\n\n  emits: {\n    toggle: () => true,\n  },\n\n  setup(props, { emit }) {\n    const route = useRoute();\n    const active = computed(() => isActiveSidebarItem(route, props.config));\n\n    const exact = computed(() =>\n      isActiveSidebarItem(route, props.config, true)\n    );\n\n    return (): VNode => {\n      const {\n        collapsible,\n        children = [],\n        icon,\n        prefix,\n        link,\n        text,\n      } = props.config;\n\n      return h(\"section\", { class: \"sidebar-group\" }, [\n        h(\n          collapsible ? \"button\" : \"p\",\n          {\n            class: [\n              \"sidebar-heading\",\n              {\n                clickable: collapsible || link,\n                exact: exact.value,\n                active: active.value,\n              },\n            ],\n            ...(collapsible\n              ? {\n                  onClick: () => emit(\"toggle\"),\n                  onKeydown: (event: KeyboardEvent): void => {\n                    if (event.key === \"Enter\") emit(\"toggle\");\n                  },\n                }\n              : {}),\n          },\n          [\n            // icon\n            h(Icon, { icon }),\n            // title\n            link\n              ? h(RouterLink, { to: link, class: \"title\" }, () => text)\n              : h(\"span\", { class: \"title\" }, text),\n            // arrow\n            collapsible\n              ? h(\"span\", { class: [\"arrow\", props.open ? \"down\" : \"right\"] })\n              : null,\n          ]\n        ),\n\n        props.open || !collapsible\n          ? h(SidebarLinks, { key: prefix, config: children })\n          : null,\n      ]);\n    };\n  },\n});\n"]}