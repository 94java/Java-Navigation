{"version":3,"file":"use.js","sourceRoot":"","sources":["../../../src/node/plugins/use.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,UAAU,EAAE,IAAI,EAAE,MAAM,iBAAiB,CAAC;AACnD,OAAO,EAAE,oBAAoB,EAAE,MAAM,+BAA+B,CAAC;AACrE,OAAO,EAAE,oBAAoB,EAAE,MAAM,8BAA8B,CAAC;AACpE,OAAO,EAAE,YAAY,EAAE,MAAM,sBAAsB,CAAC;AAKpD,MAAM,SAAS,GAAG,UAAU,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;AAE9C,MAAM,CAAC,MAAM,SAAS,GAAG,CACvB,GAAQ,EACR,OAAuB,EACvB,SAAS,GAAG,KAAK,EACX,EAAE;IACR,sBAAsB;IACtB,IAAI,KAAK,IAAI,OAAO;QAClB,YAAY,CACV,GAAG,EACH,KAAK,IAAI,OAAO;YACd,CAAC,CAAC,OAAO,CAAC,GAAG,KAAK,IAAI;gBACpB,CAAC,CAAC;oBACE,WAAW,EAAE,IAAI;oBACjB,YAAY,EAAE,IAAI;oBAClB,WAAW,EAAE,IAAI;iBAClB;gBACH,CAAC,CAAC,OAAO,CAAC,GAAG;YACf,CAAC,CAAC,EAAE,CACP,CAAC;IACJ,kDAAkD;SAC7C,IAAI,SAAS,IAAI,GAAG,CAAC,GAAG,CAAC,OAAO;QACnC,YAAY,CAAC,GAAG,EAAE;YAChB,WAAW,EAAE,IAAI;YACjB,YAAY,EAAE,IAAI;YAClB,WAAW,EAAE,IAAI;SAClB,CAAC,CAAC;IAEL,IAAI,OAAO,CAAC,WAAW,KAAK,KAAK;QAC/B,oBAAoB,CAClB,GAAG,EACH,OAAO,OAAO,CAAC,WAAW,KAAK,QAAQ,CAAC,CAAC,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC,CAAC,EAAE,CACnE,CAAC;IAEJ,oBAAoB,CAAC,GAAG,EAAE;QACxB,EAAE,EAAE,MAAM;QACV,MAAM,EAAE,8BAA8B;QACtC,aAAa,EAAE,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE,gCAAgC,CAAC;QACxE,cAAc,EAAE,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE,iCAAiC,CAAC;QAC1E,SAAS,EAAE,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE,mCAAmC,CAAC;QACvE,OAAO,EAAE,+BAA+B;QACxC,KAAK,EAAE,6BAA6B;KACrC,CAAC,CAAC;AACL,CAAC,CAAC","sourcesContent":["import { getDirname, path } from \"@vuepress/utils\";\nimport { useReadingTimePlugin } from \"vuepress-plugin-reading-time2\";\nimport { useSassPalettePlugin } from \"vuepress-plugin-sass-palette\";\nimport { useGitPlugin } from \"vuepress-shared/node\";\n\nimport type { App } from \"@vuepress/core\";\nimport type { PluginsOptions } from \"../../shared/index.js\";\n\nconst __dirname = getDirname(import.meta.url);\n\nexport const usePlugin = (\n  app: App,\n  plugins: PluginsOptions,\n  hotReload = false\n): void => {\n  // respect git options\n  if (\"git\" in plugins)\n    useGitPlugin(\n      app,\n      \"git\" in plugins\n        ? plugins.git === true\n          ? {\n              createdTime: true,\n              contributors: true,\n              updatedTime: true,\n            }\n          : plugins.git\n        : {}\n    );\n  // only use git plugin in production or debug mode\n  else if (hotReload || app.env.isBuild)\n    useGitPlugin(app, {\n      createdTime: true,\n      contributors: true,\n      updatedTime: true,\n    });\n\n  if (plugins.readingTime !== false)\n    useReadingTimePlugin(\n      app,\n      typeof plugins.readingTime === \"object\" ? plugins.readingTime : {}\n    );\n\n  useSassPalettePlugin(app, {\n    id: \"hope\",\n    config: \".vuepress/styles/config.scss\",\n    defaultConfig: path.resolve(__dirname, \"../../../templates/config.scss\"),\n    defaultPalette: path.resolve(__dirname, \"../../../templates/palette.scss\"),\n    generator: path.resolve(__dirname, \"../../../templates/generator.scss\"),\n    palette: \".vuepress/styles/palette.scss\",\n    style: \".vuepress/styles/index.scss\",\n  });\n};\n"]}