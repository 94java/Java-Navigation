{"version":3,"file":"PWAInstall.js","sources":["../../../src/client/components/icons.ts","../../../src/client/define.ts","../../../src/client/components/PWAInstallModal.ts","../../../src/client/components/PWAInstall.ts"],"sourcesContent":["import { h } from \"vue\";\nimport { IconBase } from \"vuepress-shared/client\";\n\nimport type { FunctionalComponent } from \"vue\";\n\nexport const ArrowLeftIcon: FunctionalComponent = () =>\n  h(\n    IconBase,\n    { name: \"arrow-left\" },\n\n    () =>\n      h(\"path\", {\n        d: \"M802.8 448h-428l166-158.8c23.8-25 23.8-65.4 0-90.4s-62.4-25-86.4 0L178 466.8c-12 11.6-18 27.4-18 44.8v0.8c0 17.4 6 33.2 18 44.8l276.2 268c24 25 62.6 25 86.4 0 23.8-25 23.8-65.4 0-90.4l-166-158.8h428c33.8 0 61.2-28.6 61.2-64 0.2-36-27.2-64-61-64z\",\n      })\n  );\n\nArrowLeftIcon.displayName = \"ArrowLeftIcon\";\n\nexport const ArrowRightIcon: FunctionalComponent = () =>\n  h(IconBase, { name: \"arrow-right\" }, () =>\n    h(\"path\", {\n      d: \"M569.8 825.2l276.2-268c12-11.6 18-27.4 18-44.8v-0.8c0-17.4-6-33.2-18-44.8l-276.2-268c-24-25-62.6-25-86.4 0-23.8 25-23.8 65.4 0 90.4l166 158.8h-428c-34 0-61.4 28.6-61.4 64 0 36 27.4 64 61.2 64h428l-166 158.8c-23.8 25-23.8 65.4 0 90.4 24 25 62.6 25 86.6 0z\",\n    })\n  );\n\nArrowRightIcon.displayName = \"ArrowRightIcon\";\n\nexport const CloseIcon: FunctionalComponent = () =>\n  h(IconBase, { name: \"close\" }, () =>\n    h(\"path\", {\n      d: \"M589.654 511.965 1007.212 84.22a49.777 49.777 0 0 0-.73-70.02 49.046 49.046 0 0 0-69.687.665L519.967 441.946 85.882 14.2a49.08 49.08 0 0 0-69.687.664 49.777 49.777 0 0 0 .664 70.019l433.454 427.082L16.859 939.048a49.777 49.777 0 0 0-.664 70.019 49.013 49.013 0 0 0 69.687.663l434.085-427.746 416.828 427.083A49.013 49.013 0 0 0 972.037 1024a48.416 48.416 0 0 0 34.512-14.27 49.777 49.777 0 0 0 .73-70.019z\",\n    })\n  );\n\nCloseIcon.displayName = \"CloseIcon\";\n\nexport const UpdateIcon: FunctionalComponent = () =>\n  h(IconBase, { name: \"update\" }, () =>\n    h(\"path\", {\n      d: \"M949.949 146.25v255.826c0 21.981-13.989 35.97-35.97 35.97H658.154c-13.988 0-25.983-7.992-33.973-21.981-5.997-13.989-4-27.977 7.991-39.97l79.942-77.946c-55.954-51.973-121.918-77.955-199.863-77.955-37.975 0-75.95 8.002-113.924 21.99-37.975 15.985-67.948 37.976-91.934 63.957-25.982 23.987-47.973 53.96-63.957 91.934-29.983 73.955-29.983 153.895 0 227.85 15.984 37.976 37.975 67.947 63.957 91.934 23.986 25.982 53.959 47.973 91.934 63.956 37.974 13.989 75.95 21.991 113.924 21.991 45.967 0 87.942-9.998 127.913-29.982 41.976-17.99 75.951-45.967 101.931-83.943 7.993-4 11.994-5.995 13.989-5.995 5.997 0 9.998 1.994 13.988 5.995l77.958 77.946c3.989 4 5.986 7.993 5.986 11.994 0 1.994-1.996 5.995-3.99 11.994-43.973 51.962-93.941 91.934-151.9 117.914-53.958 25.983-115.92 39.972-185.874 39.972-61.961 0-119.921-11.984-169.89-33.973-57.96-25.985-105.923-57.963-139.896-93.943-35.98-33.972-67.958-81.936-93.94-139.897-45.967-101.93-45.967-237.846 0-339.777 25.982-57.96 57.96-105.923 93.94-139.896 33.973-35.98 81.936-67.958 139.896-93.94 49.968-21.99 107.928-33.974 169.89-33.974 55.963 0 109.923 9.988 161.885 29.973 53.97 21.99 101.933 51.963 139.908 89.938l73.954-73.944c9.987-9.998 23.987-13.988 39.971-8.002 13.988 8.002 21.98 19.995 21.98 33.984z\",\n    })\n  );\n\nUpdateIcon.displayName = \"UpdateIcon\";\n","import type { PWALocaleConfig } from \"../shared/index.js\";\n\ndeclare const PWA_LOCALES: PWALocaleConfig;\n\nexport const locales = PWA_LOCALES;\n","import { useEventListener } from \"@vueuse/core\";\nimport { withBase } from \"@vuepress/client\";\nimport { defineComponent, h, onMounted, ref } from \"vue\";\nimport { useLocaleConfig } from \"vuepress-shared/client\";\n\nimport { ArrowLeftIcon, ArrowRightIcon, CloseIcon } from \"./icons.js\";\nimport { locales } from \"../define.js\";\n\nimport type { VNode } from \"vue\";\nimport type { ManifestOption } from \"../../shared/index.js\";\n\ninterface InstallPromptEvent extends Event {\n  readonly platforms: string;\n  prompt: () => void;\n  readonly userChoice: Promise<{ outcome: \"accepted\" | \"dismissed\" }>;\n}\n\nexport default defineComponent({\n  name: \"PWAInstallModal\",\n\n  props: {\n    /**\n     * Whether use hint message instead of showing a button\n     *\n     * 是否使用提示\n     */\n    useHint: Boolean,\n  },\n\n  emits: {\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    canInstall: (_status: boolean) => true,\n    hint: () => true,\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    toggle: (_status: boolean) => true,\n  },\n\n  setup(props, { emit }) {\n    const locale = useLocaleConfig(locales);\n\n    const manifest = ref<ManifestOption>({});\n    const deferredPrompt = ref<InstallPromptEvent>();\n\n    const getManifest = async (): Promise<void> => {\n      const manifestContent = localStorage.getItem(\"manifest\");\n\n      if (manifestContent)\n        manifest.value = <ManifestOption>JSON.parse(manifestContent);\n      else\n        try {\n          const response = await fetch(withBase(\"manifest.webmanifest\"));\n          const data = <ManifestOption>await response.json();\n\n          manifest.value = data;\n          localStorage.setItem(\"manifest\", JSON.stringify(data));\n        } catch (err) {\n          console.error(\n            \"[PWA]: Error getting manifest, check that you have a valid web manifest or network connection\"\n          );\n        }\n    };\n\n    const scrollToLeft = (): void => {\n      const screenshotsDiv = document.querySelector(\".screenshot\");\n\n      if (screenshotsDiv)\n        screenshotsDiv.scrollBy({\n          left: -screenshotsDiv.clientWidth,\n          top: 0,\n          behavior: \"smooth\",\n        });\n    };\n\n    const scrollToRight = (): void => {\n      const screenshotsDiv = document.querySelector(\".screenshot\");\n\n      if (screenshotsDiv)\n        screenshotsDiv.scrollBy({\n          left: screenshotsDiv.clientWidth,\n          top: 0,\n          behavior: \"smooth\",\n        });\n    };\n\n    const install = async (): Promise<void> => {\n      if (deferredPrompt.value) {\n        deferredPrompt.value.prompt();\n\n        document.dispatchEvent(new CustomEvent(\"show\"));\n\n        const choiceResult = await deferredPrompt.value.userChoice;\n\n        if (choiceResult.outcome === \"accepted\") {\n          console.info(\"PWA has been installed\");\n\n          emit(\"toggle\", false);\n          emit(\"canInstall\", false);\n        } else {\n          console.info(\"You choose to not install PWA\");\n\n          emit(\"toggle\", false);\n          emit(\"canInstall\", false);\n        }\n      }\n    };\n\n    const hint = (): void => {\n      console.info(\"You accepted the install hint\");\n      emit(\"hint\");\n    };\n\n    onMounted(() => {\n      // eslint-disable-next-line no-prototype-builtins\n      if (window.hasOwnProperty(\"BeforeInstallPromptEvent\")) {\n        useEventListener(window, \"beforeinstallprompt\", (event) => {\n          deferredPrompt.value = <InstallPromptEvent>event;\n\n          emit(\"canInstall\", true);\n          event.preventDefault();\n\n          useEventListener(\"keyup\", (event): void => {\n            if (event.key === \"Escape\") emit(\"toggle\", false);\n          });\n        });\n\n        void getManifest();\n      }\n    });\n\n    return (): VNode =>\n      h(\"div\", { id: \"install-modal-wrapper\" }, [\n        h(\"div\", { class: \"background\", onClick: () => emit(\"toggle\", false) }),\n\n        h(\"div\", { class: \"install-modal\" }, [\n          h(\"div\", { class: \"header\" }, [\n            // close button\n            h(\n              \"button\",\n              {\n                class: \"close-button\",\n                \"aria-label\": locale.value.close,\n                onClick: () => emit(\"toggle\", false),\n              },\n              h(CloseIcon)\n            ),\n\n            h(\"div\", { class: \"logo\" }, [\n              manifest.value.icons\n                ? h(\"img\", {\n                    src: manifest.value.icons[0]?.src,\n                    alt: \"App Logo\",\n                  })\n                : null,\n              h(\"div\", { class: \"title\" }, [\n                h(\"h1\", manifest.value.short_name || manifest.value.name),\n                h(\"p\", { class: \"desc\" }, locale.value.explain),\n              ]),\n            ]),\n          ]),\n\n          h(\"div\", { class: \"content\" }, [\n            h(\"div\", { class: \"highlight\" }, [\n              manifest.value.features\n                ? h(\"div\", { class: \"feature-wrapper\" }, [\n                    h(\"h3\", locale.value.feature),\n                    h(\n                      \"ul\",\n                      manifest.value.features.map((feature) => h(\"li\", feature))\n                    ),\n                  ])\n                : null,\n\n              manifest.value.screenshots\n                ? h(\"div\", { class: \"screenshot-wrapper\" }, [\n                    h(\n                      \"button\",\n                      {\n                        \"aria-label\": locale.value.prevImage,\n                        onClick: scrollToLeft,\n                      },\n                      h(ArrowLeftIcon)\n                    ),\n                    h(\"section\", { class: \"screenshot\" }, [\n                      manifest.value.screenshots.map((screenshot) =>\n                        h(\n                          \"div\",\n                          h(\"img\", {\n                            src: screenshot.src,\n                            alt: \"App Screenshot\",\n                          })\n                        )\n                      ),\n                    ]),\n                    h(\n                      \"button\",\n                      {\n                        \"aria-label\": locale.value.nextImage,\n                        onClick: scrollToRight,\n                      },\n                      h(ArrowRightIcon)\n                    ),\n                  ])\n                : null,\n            ]),\n\n            h(\"div\", { class: \"description\" }, [\n              h(\"h3\", locale.value.desc),\n              h(\"p\", manifest.value.description),\n            ]),\n          ]),\n\n          props.useHint\n            ? h(\"div\", { class: \"ios-text\", onClick: hint }, [\n                h(\"p\", locale.value.iOSInstall),\n                h(\"button\", { class: \"success\" }, \"Got it!\"),\n              ])\n            : h(\"div\", { class: \"button-wrapper\" }, [\n                h(\"button\", { class: \"install-button\", onClick: install }, [\n                  locale.value.install,\n                  h(\"span\", manifest.value.short_name),\n                ]),\n                h(\n                  \"button\",\n                  {\n                    class: \"cancel-button\",\n                    onClick: () => emit(\"toggle\", false),\n                  },\n                  locale.value.cancel\n                ),\n              ]),\n        ]),\n      ]);\n  },\n});\n","import { computed, defineComponent, h, onMounted, ref } from \"vue\";\nimport { useLocaleConfig } from \"vuepress-shared/client\";\n\nimport PWAInstallModal from \"./PWAInstallModal.js\";\nimport { locales } from \"../define.js\";\n\nimport type { VNode } from \"vue\";\nimport type { ManifestRelatedApps } from \"../../shared/index.js\";\n\nimport \"../styles/modal.scss\";\n\ninterface ModernNavigator extends Navigator {\n  // Nonstandard Api\n  getInstalledRelatedApps: () => Promise<ManifestRelatedApps[]>;\n}\n\ninterface SafariNavigator extends Navigator {\n  // Available on Apple’s iOS Safari only.\n  standalone: boolean;\n}\n\nexport default defineComponent({\n  name: \"PWAInstall\",\n\n  setup() {\n    const locale = useLocaleConfig(locales);\n\n    const canInstall = ref(false);\n    const hasRelatedApps = ref(false);\n    const isOpen = ref(false);\n    const isIOS = ref(false);\n    const isSafari = ref(false);\n    const hinted = ref(false);\n\n    const useHint = computed(\n      () => isIOS.value && isSafari.value && hinted.value === false\n    );\n\n    const showInstall = computed(\n      () => (hasRelatedApps.value && canInstall.value) || useHint.value\n    );\n\n    const getInstalledStatus = (): boolean => {\n      if ((navigator as SafariNavigator).standalone)\n        return (navigator as SafariNavigator).standalone;\n\n      return matchMedia(\"(display-mode: standalone)\").matches;\n    };\n\n    const hint = (): void => {\n      isOpen.value = false;\n      hinted.value = true;\n      // do not notify again\n      localStorage.setItem(\"iOS-pwa-hint\", \"hinted\");\n    };\n\n    onMounted(() => {\n      if (getInstalledStatus()) {\n        const { userAgent } = navigator;\n\n        // handle iOS specifically\n        isIOS.value =\n          // regular iPhone\n          userAgent.includes(\"iPhone\") ||\n          // regular iPad\n          userAgent.includes(\"iPad\") ||\n          // iPad pro\n          Boolean(\n            userAgent.includes(\"Macintosh\") &&\n              navigator.maxTouchPoints &&\n              navigator.maxTouchPoints > 2\n          );\n\n        isSafari.value =\n          navigator.userAgent.includes(\"Safari\") &&\n          !userAgent.includes(\"Chrome\");\n\n        hinted.value = Boolean(localStorage.getItem(\"iOS-pwa-hint\"));\n      }\n\n      if (\"getInstalledRelatedApps\" in (navigator as ModernNavigator))\n        void (navigator as ModernNavigator)\n          .getInstalledRelatedApps()\n          .then((result) => {\n            hasRelatedApps.value = result.length > 0;\n          });\n    });\n\n    return (): VNode =>\n      h(\"div\", { id: \"pwa-install\" }, [\n        showInstall.value\n          ? h(\n              \"button\",\n              {\n                class: \"modal-button\",\n                useHint: useHint.value,\n                onClick: () => {\n                  isOpen.value = true;\n                },\n              },\n              locale.value.install\n            )\n          : null,\n        h(PWAInstallModal, {\n          style: {\n            display: isOpen.value ? \"block\" : \"none\",\n          },\n          onCanInstall: (value: boolean) => {\n            canInstall.value = value;\n          },\n          onHint: () => hint(),\n          onToggle: (value: boolean) => {\n            isOpen.value = value;\n          },\n        }),\n      ]);\n  },\n});\n"],"names":["ArrowLeftIcon","h","IconBase","ArrowRightIcon","CloseIcon","locales","defineComponent","_status","props","emit","locale","useLocaleConfig","manifest","ref","deferredPrompt","getManifest","manifestContent","data","withBase","scrollToLeft","screenshotsDiv","scrollToRight","install","hint","onMounted","useEventListener","event","_a","feature","screenshot","PWAInstall","canInstall","hasRelatedApps","isOpen","isIOS","isSafari","hinted","useHint","computed","showInstall","getInstalledStatus","userAgent","result","PWAInstallModal","value"],"mappings":"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"}