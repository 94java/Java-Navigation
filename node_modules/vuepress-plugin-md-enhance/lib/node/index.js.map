{"version":3,"file":"index.js","sources":["../../src/node/markdown-it/container.ts","../../src/node/markdown-it/align.ts","../../src/node/markdown-it/attrs.ts","../../src/node/markdown-it/chart.ts","../../src/node/markdown-it/codeDemo.ts","../../src/node/markdown-it/tabs.ts","../../src/node/markdown-it/codeTabs.ts","../../src/node/markdown-it/echarts.ts","../../src/node/markdown-it/figure.ts","../../src/node/markdown-it/flowchart.ts","../../src/node/markdown-it/footnote.ts","../../src/node/markdown-it/hint.ts","../../src/node/markdown-it/imageLazyload.ts","../../src/node/markdown-it/imageMark.ts","../../src/node/markdown-it/imageSize.ts","../../src/node/markdown-it/tex.ts","../../src/node/markdown-it/utils.ts","../../src/node/markdown-it/katex.ts","../../src/node/markdown-it/mathjax.ts","../../src/node/markdown-it/mark.ts","../../src/node/markdown-it/include.ts","../../src/node/markdown-it/mermaid.ts","../../src/node/markdown-it/playground/plugin.ts","../../src/node/markdown-it/playground/ventors/lzstring.ts","../../src/node/markdown-it/playground/ventors/optionDelcarations.ts","../../src/node/markdown-it/playground/ts.ts","../../src/node/markdown-it/playground/vue.ts","../../src/node/markdown-it/uml.ts","../../src/node/markdown-it/presentation.ts","../../src/node/markdown-it/sub.ts","../../src/node/markdown-it/sup.ts","../../src/node/markdown-it/tasklist.ts","../../src/node/markdown-it/vPre.ts","../../src/node/markdown-it/stylize.ts","../../src/node/markdown-it/vuePlayground.ts","../../src/node/locales.ts","../../src/node/utils.ts","../../src/node/checkLink.ts","../../src/node/compact/utils.ts","../../src/node/compact/convert.ts","../../src/node/compact/codeDemo.ts","../../src/node/compact/codeGroup.ts","../../src/node/compact/flowchart.ts","../../src/node/prepare.ts","../../src/node/plugin.ts"],"sourcesContent":["/**\n * Forked and modified from https://github.com/markdown-it/markdown-it-container/blob/master/index.js\n *\n * Copyright (c) 2015 Vitaly Puzrin, Alex Kocharin.\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport type { MarkdownEnv } from \"@vuepress/markdown\";\nimport type { Options, PluginWithOptions } from \"markdown-it\";\nimport type Token from \"markdown-it/lib/token.js\";\nimport type {\n  default as Renderer,\n  RenderRule,\n} from \"markdown-it/lib/renderer.js\";\nimport type { RuleBlock } from \"markdown-it/lib/parser_block.js\";\n\nexport interface MarkdownItContainerOptions {\n  /** container name */\n  name: string;\n  /** container marker */\n  marker?: string;\n  /** validate whether this should be regarded as a container */\n  validate?: (params: string, markup: string) => boolean;\n  /** open tag render function */\n  openRender?: RenderRule;\n  /** close tag render function */\n  closeRender?: RenderRule;\n}\n\nexport const container: PluginWithOptions<MarkdownItContainerOptions> = (\n  md,\n  {\n    name,\n    marker = \":\",\n    validate = (params: string): boolean =>\n      params.trim().split(\" \", 2)[0] === name,\n    openRender = (\n      tokens: Token[],\n      index: number,\n      options: Options,\n      _env: MarkdownEnv,\n      slf: Renderer\n    ): string => {\n      // add a class to the opening tag\n      tokens[index].attrJoin(\"class\", name);\n\n      return slf.renderToken(tokens, index, options);\n    },\n    closeRender = (\n      tokens: Token[],\n      index: number,\n      options: Options,\n      _env: MarkdownEnv,\n      slf: Renderer\n    ): string => slf.renderToken(tokens, index, options),\n  } = { name: \"\" }\n) => {\n  const MIN_MARKER_NUM = 3;\n  const markerStart = marker[0];\n  const markerLength = marker.length;\n\n  const container: RuleBlock = (state, startLine, endLine, silent) => {\n    let start = state.bMarks[startLine] + state.tShift[startLine];\n    let max = state.eMarks[startLine];\n\n    // Check out the first character quickly,\n    // this should filter out most of non-containers\n    //\n    if (markerStart !== state.src[start]) return false;\n\n    let pos = start + 1;\n\n    // Check out the rest of the marker string\n    while (pos <= max) {\n      if (marker[(pos - start) % markerLength] !== state.src[pos]) break;\n      pos += 1;\n    }\n\n    const markerCount = Math.floor((pos - start) / markerLength);\n\n    if (markerCount < MIN_MARKER_NUM) return false;\n\n    pos -= (pos - start) % markerLength;\n\n    const markup = state.src.slice(start, pos);\n    const params = state.src.slice(pos, max);\n\n    if (!validate(params, markup)) return false;\n\n    // Since start is found, we can report success here in validation mode\n\n    if (silent) return true;\n\n    let nextLine = startLine;\n    let autoClosed = false;\n\n    // Search for the end of the block\n    while (\n      // unclosed block should be auto closed by end of document.\n      // also block seems to be auto closed by end of parent\n      nextLine < endLine\n    ) {\n      nextLine += 1;\n      start = state.bMarks[nextLine] + state.tShift[nextLine];\n      max = state.eMarks[nextLine];\n\n      if (start < max && state.sCount[nextLine] < state.blkIndent)\n        // non-empty line with negative indent should stop the list:\n        // - ```\n        //  test\n        break;\n\n      if (\n        // match start\n        markerStart === state.src[start] &&\n        // closing fence should be indented less than 4 spaces\n        state.sCount[nextLine] - state.blkIndent < 4\n      ) {\n        // check rest of marker\n        for (pos = start + 1; pos <= max; pos++)\n          if (marker[(pos - start) % markerLength] !== state.src[pos]) break;\n\n        // closing code fence must be at least as long as the opening one\n        if (Math.floor((pos - start) / markerLength) >= markerCount) {\n          // make sure tail has spaces only\n          pos -= (pos - start) % markerLength;\n          pos = state.skipSpaces(pos);\n\n          if (pos >= max) {\n            // found!\n            autoClosed = true;\n            break;\n          }\n        }\n      }\n    }\n\n    const oldParent = state.parentType;\n    const oldLineMax = state.lineMax;\n\n    // @ts-expect-error\n    state.parentType = \"container\";\n\n    // this will prevent lazy continuations from ever going past our end marker\n    state.lineMax = nextLine;\n\n    const openToken = state.push(`container_${name}_open`, \"div\", 1);\n\n    openToken.markup = markup;\n    openToken.block = true;\n    openToken.info = params;\n    openToken.map = [startLine, nextLine];\n\n    state.md.block.tokenize(state, startLine + 1, nextLine);\n\n    const closeToken = state.push(`container_${name}_close`, \"div\", -1);\n\n    closeToken.markup = state.src.slice(start, pos);\n    closeToken.block = true;\n\n    state.parentType = oldParent;\n    state.lineMax = oldLineMax;\n    state.line = nextLine + (autoClosed ? 1 : 0);\n\n    return true;\n  };\n\n  md.block.ruler.before(\"fence\", `container_${name}`, container, {\n    alt: [\"paragraph\", \"reference\", \"blockquote\", \"list\"],\n  });\n  md.renderer.rules[`container_${name}_open`] = openRender;\n  md.renderer.rules[`container_${name}_close`] = closeRender;\n};\n","import { container } from \"./container.js\";\n\nimport type { PluginSimple } from \"markdown-it\";\n\nexport const align: PluginSimple = (md) => {\n  [\"left\", \"center\", \"right\", \"justify\"].forEach((name) =>\n    md.use((md) =>\n      container(md, {\n        name,\n        openRender: () => `<div style=\"text-align:${name}\">\\n`,\n      })\n    )\n  );\n};\n","/**\n * Forked and modified from https://github.com/arve0/markdown-it-attrs/\n * The MIT License (MIT)\n *\n * Copyright (c) Arve Seljebu <arve.seljebu@gmail.com> (arve0.github.io)\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\nimport type { PluginWithOptions } from \"markdown-it\";\nimport type Token from \"markdown-it/lib/token.js\";\nimport type { RuleCore } from \"markdown-it/lib/parser_core.js\";\nimport type { AttrsOptions } from \"../typings/index.js\";\n\ntype Attr = [key: string, value: string];\n\n// not tab, line feed, form feed, space, solidus, greater than sign, quotation mark, apostrophe and equals sign\nconst ALLOWED_KEY_CHARS = /[^\\t\\n\\f />\"'=]/;\nconst PAIR_SPERATOR = \" \";\nconst KEY_SPERATOR = \"=\";\nconst CLASS_MARKER = \".\";\nconst ID_MARKER = \"#\";\n\nexport const getAttrs = (\n  str: string,\n  start: number,\n  { left, right, allowed }: Required<AttrsOptions>\n): Attr[] => {\n  let key = \"\";\n  let value = \"\";\n  let parsingKey = true;\n  let valueInsideQuotes = false;\n\n  const attrs: Attr[] = [];\n\n  // read inside {}\n  // start + left delimiter length to avoid beginning {\n  // breaks when } is found or end of string\n  for (let index = start + left.length; index < str.length; index++) {\n    if (str.slice(index, index + right.length) === right) {\n      if (key !== \"\") attrs.push([key, value]);\n      break;\n    }\n\n    const char = str.charAt(index);\n\n    // switch to reading value if equal sign\n    if (char === KEY_SPERATOR && parsingKey) {\n      parsingKey = false;\n      continue;\n    }\n\n    // {.class} {..css-module}\n    if (char === CLASS_MARKER && key === \"\") {\n      if (str.charAt(index + 1) === CLASS_MARKER) {\n        key = \"css-module\";\n        index += 1;\n      } else key = \"class\";\n\n      parsingKey = false;\n      continue;\n    }\n\n    // {#id}\n    if (char === ID_MARKER && key === \"\") {\n      key = \"id\";\n      parsingKey = false;\n      continue;\n    }\n\n    // {value=\"inside quotes\"}\n    if (char === '\"' && value === \"\") {\n      valueInsideQuotes = true;\n      continue;\n    }\n\n    if (char === '\"' && valueInsideQuotes) {\n      valueInsideQuotes = false;\n      continue;\n    }\n\n    // read next key/value pair\n    if (char === PAIR_SPERATOR && !valueInsideQuotes) {\n      if (key === \"\") {\n        // beginning or ending space: { .red } vs {.red}\n        continue;\n      }\n\n      attrs.push([key, value]);\n      key = \"\";\n      value = \"\";\n      parsingKey = true;\n\n      continue;\n    }\n\n    // continue if character not allowed\n    if (parsingKey && char.search(ALLOWED_KEY_CHARS) === -1) continue;\n\n    // no other conditions met; append to key/value\n    if (parsingKey) {\n      key += char;\n      continue;\n    }\n\n    value += char;\n  }\n\n  return allowed.length\n    ? attrs.filter(([attr]) =>\n        allowed.some((item) =>\n          item instanceof RegExp ? item.test(attr) : item === attr\n        )\n      )\n    : attrs;\n};\n\nconst addAttrs = (attrs: Attr[], token: Token | null): void => {\n  if (token)\n    attrs.forEach((attrItem) => {\n      const [key, value] = attrItem;\n\n      if (key === \"class\") token.attrJoin(\"class\", value);\n      else if (key === \"css-module\") token.attrJoin(\"css-module\", value);\n      else token.attrPush(attrItem);\n    });\n};\n\nconst hasDelimiters =\n  (\n    where: \"start\" | \"end\" | \"only\",\n    { left, right }: Required<AttrsOptions>\n  ): ((str: string) => boolean) =>\n  (str: string): boolean => {\n    const leftLength = left.length;\n    const rightLength = right.length;\n    // we need minimum three chars, for example {b}\n    const minCurlyLength = leftLength + 1 + rightLength;\n\n    if (!str || typeof str !== \"string\" || str.length < minCurlyLength)\n      return false;\n\n    const validCurlyLength = (curly: string): boolean => {\n      const isClass = curly.charAt(leftLength) === \".\";\n      const isId = curly.charAt(leftLength) === \"#\";\n\n      return isClass || isId\n        ? curly.length >= minCurlyLength + 1\n        : curly.length >= minCurlyLength;\n    };\n\n    let start, end, slice, nextChar;\n    const rightDelimiterMinimumShift = minCurlyLength - rightLength;\n\n    switch (where) {\n      case \"start\":\n        // first char should be {, } found in char 2 or more\n        slice = str.slice(0, leftLength);\n        start = slice === left ? 0 : -1;\n        end =\n          start === -1 ? -1 : str.indexOf(right, rightDelimiterMinimumShift);\n        // check if next character is not one of the delimiters\n        nextChar = str.charAt(end + rightLength);\n        if (nextChar && right.indexOf(nextChar) !== -1) end = -1;\n        break;\n\n      case \"end\":\n        // last char should be }\n        start = str.lastIndexOf(left);\n        end =\n          start === -1\n            ? -1\n            : str.indexOf(right, start + rightDelimiterMinimumShift);\n        end = end === str.length - rightLength ? end : -1;\n        break;\n\n      case \"only\":\n        // '{.a}'\n        slice = str.slice(0, leftLength);\n        start = slice === left ? 0 : -1;\n        slice = str.slice(str.length - rightLength);\n        end = slice === right ? str.length - rightLength : -1;\n        break;\n    }\n\n    return (\n      start !== -1 &&\n      end !== -1 &&\n      validCurlyLength(str.substring(start, end + rightLength))\n    );\n  };\n\nconst removeDelimiter = (\n  str: string,\n  { left, right }: Required<AttrsOptions>\n): string => {\n  const start = escapeRegExp(left);\n  const end = escapeRegExp(right);\n  const pos = str.search(\n    new RegExp(`[ \\\\n]?${start}[^${start}${end}]+${end}$`)\n  );\n\n  return pos !== -1 ? str.slice(0, pos) : str;\n};\n\nconst getMatchingOpeningToken = (tokens: Token[], i: number): Token | null => {\n  if (tokens[i].type === \"softbreak\") return null;\n\n  // non closing blocks, example img\n  if (tokens[i].nesting === 0) return tokens[i];\n\n  const level = tokens[i].level;\n  const type = tokens[i].type.replace(\"_close\", \"_open\");\n\n  for (; i >= 0; --i)\n    if (tokens[i].type === type && tokens[i].level === level) return tokens[i];\n\n  return null;\n};\n\n/**\n * Get n item of array. Supports negative n, where -1 is last\n * element in array.\n */\nconst getElement = <T>(arr: T[], n: number): T =>\n  n >= 0 ? arr[n] : arr[arr.length + n];\n\nconst isArrayOfObjects = (arr: unknown): arr is object[] =>\n  Array.isArray(arr) &&\n  Boolean(arr.length) &&\n  arr.every((item) => typeof item === \"object\");\n\n// eslint-disable-next-line @typescript-eslint/ban-types\nconst isArrayOfFunctions = (arr: unknown): arr is Function[] =>\n  Array.isArray(arr) &&\n  Boolean(arr.length) &&\n  arr.every((item) => typeof item === \"function\");\n\n/**\n * Escapes special characters in string s such that the string\n * can be used in `new RegExp`. For example \"[\" becomes \"\\\\[\".\n */\nconst escapeRegExp = (regexp: string): string =>\n  regexp.replace(/[-/\\\\^$*+?.()|[\\]{}]/g, \"\\\\$&\");\n\ninterface RuleSet {\n  position?: number;\n  shift?: number;\n  type?: string | ((type: string) => boolean);\n  block?: boolean;\n  info?: boolean | ((info: string) => boolean);\n  content?: boolean | ((content: string) => boolean);\n  nesting?: 0 | 1 | -1;\n  children?: RuleSet[] | ((children: unknown[]) => boolean);\n}\n\ninterface Rule {\n  name: string;\n  tests: RuleSet[];\n  transform: (tokens: Token[], index: number, subIndex: number) => void;\n}\n\nconst patternsConfig = (options: Required<AttrsOptions>): Rule[] => [\n  /**\n   * ```python {.cls}\n   * for i in range(10):\n   *     print(i)\n   * ```\n   */\n  {\n    name: \"fenced code blocks\",\n    tests: [\n      {\n        shift: 0,\n        block: true,\n        info: hasDelimiters(\"end\", options),\n      },\n    ],\n    transform: (tokens, index): void => {\n      const token = tokens[index];\n      let lineNumber = \"\";\n\n      const results = token.info.match(/{(?:[\\d,-]+)}/);\n\n      if (results) {\n        token.info = token.info.replace(results[0], \"\");\n        lineNumber = results[0];\n      }\n\n      const start = token.info.lastIndexOf(options.left);\n      const attrs = getAttrs(token.info, start, options);\n\n      addAttrs(attrs, token);\n      token.info = `${removeDelimiter(token.info, options)} ${lineNumber}`;\n    },\n  },\n\n  /**\n   * bla `click()`{.c} ![](img.png){.d}\n   *\n   * differs from 'inline attributes' as it does\n   * not have a closing tag (nesting: -1)\n   */\n  {\n    name: \"inline nesting 0\",\n    tests: [\n      {\n        shift: 0,\n        type: \"inline\",\n        children: [\n          {\n            shift: -1,\n            type: (str) => str === \"image\" || str === \"code_inline\",\n          },\n          {\n            shift: 0,\n            type: \"text\",\n            content: hasDelimiters(\"start\", options),\n          },\n        ],\n      },\n    ],\n    transform: (tokens, index, childIndex): void => {\n      const token = tokens[index].children![childIndex];\n\n      const endChar = token.content.indexOf(options.right);\n      const attrToken = tokens[index].children![childIndex - 1];\n      const attrs = getAttrs(token.content, 0, options);\n\n      addAttrs(attrs, attrToken);\n      if (token.content.length === endChar + options.right.length)\n        tokens[index].children!.splice(childIndex, 1);\n      else token.content = token.content.slice(endChar + options.right.length);\n    },\n  },\n\n  /**\n   * | h1 |\n   * | -- |\n   * | c1 |\n   *\n   * {.c}\n   */\n  {\n    name: \"tables\",\n    tests: [\n      {\n        // let this token be i, such that for-loop continues at\n        // next token after tokens.splice\n        shift: 0,\n        type: \"table_close\",\n      },\n      {\n        shift: 1,\n        type: \"paragraph_open\",\n      },\n      {\n        shift: 2,\n        type: \"inline\",\n        content: hasDelimiters(\"only\", options),\n      },\n    ],\n    transform: (tokens, index): void => {\n      const token = tokens[index + 2];\n      const tableOpen = getMatchingOpeningToken(tokens, index);\n      const attrs = getAttrs(token.content, 0, options);\n\n      // add attributes\n      addAttrs(attrs, tableOpen);\n      // remove <p>{.c}</p>\n      tokens.splice(index + 1, 3);\n    },\n  },\n\n  /**\n   * *emphasis*{.with attrs=1}\n   */\n  {\n    name: \"inline attributes\",\n    tests: [\n      {\n        shift: 0,\n        type: \"inline\",\n        children: [\n          {\n            shift: -1,\n            nesting: -1, // closing inline tag, </em>{.a}\n          },\n          {\n            shift: 0,\n            type: \"text\",\n            content: hasDelimiters(\"start\", options),\n          },\n        ],\n      },\n    ],\n    transform: (tokens, index, childIndex): void => {\n      const token = tokens[index].children![childIndex];\n      const { content } = token;\n      const attrs = getAttrs(content, 0, options);\n      const openingToken = getMatchingOpeningToken(\n        tokens[index].children!,\n        childIndex - 1\n      );\n\n      addAttrs(attrs, openingToken);\n      token.content = content.slice(\n        content.indexOf(options.right) + options.right.length\n      );\n    },\n  },\n\n  /**\n   * - item\n   * {.a}\n   */\n  {\n    name: \"list softbreak\",\n    tests: [\n      {\n        shift: -2,\n        type: \"list_item_open\",\n      },\n      {\n        shift: 0,\n        type: \"inline\",\n        children: [\n          {\n            position: -2,\n            type: \"softbreak\",\n          },\n          {\n            position: -1,\n            type: \"text\",\n            content: hasDelimiters(\"only\", options),\n          },\n        ],\n      },\n    ],\n    transform: (tokens, indx, childIndex): void => {\n      const token = tokens[indx].children![childIndex];\n      const attrs = getAttrs(token.content, 0, options);\n      let ii = indx - 2;\n\n      while (\n        tokens[ii - 1] &&\n        tokens[ii - 1].type !== \"ordered_list_open\" &&\n        tokens[ii - 1].type !== \"bullet_list_open\"\n      ) {\n        ii--;\n      }\n      addAttrs(attrs, tokens[ii - 1]);\n      tokens[indx].children = tokens[indx].children!.slice(0, -2);\n    },\n  },\n\n  /**\n   * - nested list\n   *   - with double \\n\n   *   {.a} <-- apply to nested ul\n   *\n   * {.b} <-- apply to root <ul>\n   */\n  {\n    name: \"list double softbreak\",\n    tests: [\n      {\n        // let this token be i = 0 so that we can erase\n        // the <p>{.a}</p> tokens below\n        shift: 0,\n        type: (type) =>\n          type === \"bullet_list_close\" || type === \"ordered_list_close\",\n      },\n      {\n        shift: 1,\n        type: \"paragraph_open\",\n      },\n      {\n        shift: 2,\n        type: \"inline\",\n        content: hasDelimiters(\"only\", options),\n        children: (children) => children.length === 1,\n      },\n      {\n        shift: 3,\n        type: \"paragraph_close\",\n      },\n    ],\n    transform: (tokens, index): void => {\n      const token = tokens[index + 2];\n      const attrs = getAttrs(token.content, 0, options);\n      const openingToken = getMatchingOpeningToken(tokens, index);\n\n      addAttrs(attrs, openingToken);\n      tokens.splice(index + 1, 3);\n    },\n  },\n\n  /**\n   * - end of {.list-item}\n   */\n  {\n    name: \"list item end\",\n    tests: [\n      {\n        shift: -2,\n        type: \"list_item_open\",\n      },\n      {\n        shift: 0,\n        type: \"inline\",\n        children: [\n          {\n            position: -1,\n            type: \"text\",\n            content: hasDelimiters(\"end\", options),\n          },\n        ],\n      },\n    ],\n    transform: (tokens, index, childIndex): void => {\n      const token = tokens[index].children![childIndex];\n      const { content } = token;\n      const attrs = getAttrs(\n        content,\n        content.lastIndexOf(options.left),\n        options\n      );\n\n      addAttrs(attrs, tokens[index - 2]);\n\n      const trimmed = content.slice(0, content.lastIndexOf(options.left));\n\n      token.content =\n        trimmed[trimmed.length - 1] === \" \" ? trimmed.slice(0, -1) : trimmed;\n    },\n  },\n\n  /**\n   * something with softbreak\n   * {.cls}\n   */\n  {\n    name: \"\\n{.a} softbreak then curly in start\",\n    tests: [\n      {\n        shift: 0,\n        type: \"inline\",\n        children: [\n          {\n            position: -2,\n            type: \"softbreak\",\n          },\n          {\n            position: -1,\n            type: \"text\",\n            content: hasDelimiters(\"only\", options),\n          },\n        ],\n      },\n    ],\n    transform: (tokens, index, childIndex): void => {\n      const token = tokens[index].children![childIndex];\n      const attrs = getAttrs(token.content, 0, options);\n\n      // find last closing tag\n      let ii = index + 1;\n\n      while (tokens[ii + 1] && tokens[ii + 1].nesting === -1) ii++;\n\n      const openingToken = getMatchingOpeningToken(tokens, ii);\n\n      addAttrs(attrs, openingToken);\n      tokens[index].children = tokens[index].children!.slice(0, -2);\n    },\n  },\n\n  /**\n   * horizontal rule --- {#id}\n   */\n  {\n    name: \"horizontal rule\",\n    tests: [\n      {\n        shift: 0,\n        type: \"paragraph_open\",\n      },\n      {\n        shift: 1,\n        type: \"inline\",\n        children: (children) => children.length === 1,\n        content: (content) =>\n          content.match(\n            new RegExp(\n              `^ {0,3}[-*_]{3,} ?${escapeRegExp(options.left)}[^${escapeRegExp(\n                options.right\n              )}]`\n            )\n          ) !== null,\n      },\n      {\n        shift: 2,\n        type: \"paragraph_close\",\n      },\n    ],\n    transform: (tokens, index): void => {\n      const token = tokens[index];\n\n      token.type = \"hr\";\n      token.tag = \"hr\";\n      token.nesting = 0;\n\n      const { content } = tokens[index + 1];\n      const start = content.lastIndexOf(options.left);\n      const attrs = getAttrs(content, start, options);\n\n      addAttrs(attrs, token);\n      token.markup = content;\n      tokens.splice(index + 1, 2);\n    },\n  },\n\n  /**\n   * end of {.block}\n   */\n  {\n    name: \"end of block\",\n    tests: [\n      {\n        shift: 0,\n        type: \"inline\",\n        children: [\n          {\n            position: -1,\n            content: hasDelimiters(\"end\", options),\n            type: (type) => type !== \"code_inline\" && type !== \"math_inline\",\n          },\n        ],\n      },\n    ],\n    transform: (tokens, indx, childIndex): void => {\n      const token = tokens[indx].children![childIndex];\n      const { content } = token;\n      const attrs = getAttrs(\n        content,\n        content.lastIndexOf(options.left),\n        options\n      );\n      let ii = indx + 1;\n\n      while (tokens[ii + 1] && tokens[ii + 1].nesting === -1) ii++;\n\n      const openingToken = getMatchingOpeningToken(tokens, ii);\n\n      addAttrs(attrs, openingToken);\n\n      const trimmed = content.slice(0, content.lastIndexOf(options.left));\n\n      token.content =\n        trimmed[trimmed.length - 1] === \" \" ? trimmed.slice(0, -1) : trimmed;\n    },\n  },\n];\n\n/**\n * Test if rule matches token stream.\n *\n * @param {array} tokens\n * @param {number} index\n * @param {object} rule Test to match.\n * @return {object} { match: true|false, j: null|number }\n */\nconst test = (\n  tokens: Token[],\n  index: number,\n  rule: RuleSet\n): { match: boolean; pos: null | number } => {\n  const res = {\n    match: false,\n    pos: null as number | null, // position of child\n  };\n\n  const ii = rule.shift !== undefined ? index + rule.shift : rule.position!;\n\n  // we should never shift to negative indexes (rolling around to back of array)\n  if (rule.shift !== undefined && ii < 0) return res;\n\n  // supports negative ii\n  const token = getElement(tokens, ii);\n\n  if (token === undefined) return res;\n\n  for (const key of Object.keys(rule) as (keyof typeof rule)[]) {\n    if (key === \"shift\" || key === \"position\") continue;\n\n    if (token[key as keyof Token] === undefined) return res;\n\n    if (key === \"children\" && isArrayOfObjects(rule.children)) {\n      if (token.children?.length === 0) return res;\n\n      let match;\n      const childTests = rule.children;\n      const children = token.children!;\n\n      if (childTests?.every((tt) => tt.position !== undefined)) {\n        // positions instead of shifts, do not loop all children\n        match = childTests.every(\n          (tt) => test(children, tt.position!, tt).match\n        );\n\n        if (match) {\n          // we may need position of child in transform\n          const j = childTests[childTests.length - 1]?.position || 0;\n\n          res.pos = j >= 0 ? j : children.length + j;\n        }\n      } else {\n        for (let j = 0; j < children.length; j++) {\n          match = childTests.every((tt) => test(children, j, tt).match);\n\n          if (match) {\n            res.pos = j;\n            // all tests true, continue with next key of pattern t\n            break;\n          }\n        }\n      }\n\n      if (match === false) return res;\n\n      continue;\n    }\n\n    const ruleDetail = rule[key];\n\n    switch (typeof ruleDetail) {\n      case \"boolean\":\n      case \"number\":\n      case \"string\":\n        if (token[key] !== ruleDetail) return res;\n\n        break;\n\n      case \"function\":\n        // @ts-ignore\n        if (!ruleDetail(token[key])) return res;\n\n        break;\n\n      case \"object\":\n        if (isArrayOfFunctions(ruleDetail)) {\n          const r = ruleDetail.every((tt) =>\n            (tt as (key: unknown) => boolean)(token[key])\n          );\n\n          if (r === false) return res;\n\n          break;\n        }\n\n        continue;\n\n      // fall through for objects !== arrays of functions\n      default:\n        throw new Error(\n          `Unknown type of pattern test (key: ${key}). Test should be of type boolean, number, string, function or array of functions.`\n        );\n    }\n  }\n\n  // no tests returned false -> all tests returns true\n  res.match = true;\n\n  return res;\n};\n\nexport const attrs: PluginWithOptions<AttrsOptions> = (\n  md,\n  { left = \"{\", right = \"}\", allowed = [] } = {}\n) => {\n  const patterns = patternsConfig({\n    left,\n    right,\n    allowed,\n  });\n\n  const curlyAttrs: RuleCore = (state) => {\n    const tokens = state.tokens;\n\n    for (let index = 0; index < tokens.length; index++) {\n      for (\n        let patternIndex = 0;\n        patternIndex < patterns.length;\n        patternIndex++\n      ) {\n        const pattern = patterns[patternIndex];\n        // position of child with offset 0\n        let pos: null | number = null;\n\n        const match = pattern.tests.every((t) => {\n          const res = test(tokens, index, t);\n\n          if (res.pos !== null) pos = res.pos;\n\n          return res.match;\n        });\n\n        if (match) {\n          pattern.transform(tokens, index, pos!);\n\n          if (\n            pattern.name === \"inline attributes\" ||\n            pattern.name === \"inline nesting 0\"\n          ) {\n            // retry, may be several inline attributes\n            patternIndex--;\n          }\n        }\n      }\n    }\n  };\n\n  md.core.ruler.before(\"linkify\", \"curly_attributes\", curlyAttrs);\n};\n","import { utoa } from \"vuepress-shared/node\";\nimport { container } from \"./container.js\";\n\nimport type { PluginSimple } from \"markdown-it\";\n\nexport const chart: PluginSimple = (md) => {\n  container(md, {\n    name: \"chart\",\n    openRender: (tokens, index) => {\n      const title = tokens[index].info\n        .trimStart()\n        // 'chart' length\n        .slice(5)\n        .trim();\n\n      const key = `chart-${index}`;\n\n      let config = \"{}\";\n      let configType = \"\";\n\n      for (let i = index; i < tokens.length; i++) {\n        const { type, content, info } = tokens[i];\n\n        if (type === \"container_chart_close\") break;\n\n        if (!content) continue;\n        if (type === \"fence\") {\n          if (info === \"json\") {\n            config = utoa(content);\n            configType = \"json\";\n          } else if (info === \"js\" || info === \"javascript\") {\n            config = utoa(content);\n            configType = \"js\";\n          }\n        }\n\n        // set to an unexist token type\n        tokens[i].type = \"chart_empty\";\n        // hide token\n        tokens[i].hidden = true;\n      }\n\n      return `<ChartJS id=\"${key}\" config=\"${config}\" ${\n        title ? `title=\"${encodeURIComponent(title)}\" ` : \"\"\n      }type=\"${configType}\">`;\n    },\n    closeRender: () => `</ChartJS>`,\n  });\n};\n","import { utoa } from \"vuepress-shared/node\";\nimport { container } from \"./container.js\";\n\nimport type { PluginSimple } from \"markdown-it\";\nimport type Token from \"markdown-it/lib/token.js\";\nimport type { CodeDemoOptions } from \"../../shared/index.js\";\n\nexport const CODE_DEMO_DEFAULT_SETTING: CodeDemoOptions = {\n  useBabel: false,\n  jsLib: [],\n  cssLib: [],\n  codepenLayout: \"left\",\n  codepenEditors: \"101\",\n  babel: \"https://unpkg.com/@babel/standalone/babel.min.js\",\n  vue: \"https://unpkg.com/vue/dist/vue.global.prod.js\",\n  react: \"https://unpkg.com/react/umd/react.production.min.js\",\n  reactDOM: \"https://unpkg.com/react-dom/umd/react-dom.production.min.js\",\n};\n\nconst getPlugin =\n  (name: string): PluginSimple =>\n  (md) =>\n    container(md, {\n      name,\n      openRender: (tokens: Token[], index: number): string => {\n        const title = tokens[index].info.trimStart().slice(name.length).trim();\n\n        let config = \"\";\n        const code: Record<string, string> = {};\n\n        for (let i = index; i < tokens.length; i++) {\n          const { type, content, info } = tokens[i];\n\n          if (type === `container_${name}_close`) break;\n          if (!content) continue;\n          if (type === \"fence\") {\n            if (info === \"json\") config = utoa(content);\n            else code[info] = content;\n          }\n        }\n\n        return `\n<CodeDemo id=\"code-demo-${index}\" type=\"${name.split(\"-\")[0]}\"${\n          title ? ` title=\"${encodeURIComponent(title)}\"` : \"\"\n        }${config ? ` config=\"${config}\"` : \"\"} code=\"${utoa(\n          JSON.stringify(code)\n        )}\">\n`;\n      },\n      closeRender: () => `</CodeDemo>`,\n    });\n\nexport const normalDemo: PluginSimple = getPlugin(\"normal-demo\");\n\nexport const vueDemo: PluginSimple = getPlugin(\"vue-demo\");\n\nexport const reactDemo: PluginSimple = getPlugin(\"react-demo\");\n","import type { Options, PluginWithOptions } from \"markdown-it\";\nimport type { RuleBlock } from \"markdown-it/lib/parser_block.js\";\nimport type Renderer from \"markdown-it/lib/renderer.js\";\nimport type Token from \"markdown-it/lib/token.js\";\n\ninterface BaseTabData {\n  title: string;\n  value?: string;\n}\n\nexport interface TabOptions {\n  name: string;\n  component: string;\n  getter: (\n    tokens: Token[],\n    index: number,\n    options: Options,\n    env: unknown,\n    self: Renderer\n  ) => Record<string, unknown>[];\n}\n\nexport const tabs: PluginWithOptions<TabOptions> = (\n  md,\n  { name, component, getter } = {\n    name: \"tabs\",\n    component: \"Tabs\",\n    getter: () => [],\n  }\n) => {\n  const CODETAB_MARKER = `@tab`;\n\n  const tabsRule: RuleBlock = (state, startLine, endLine, silent) => {\n    let start = state.bMarks[startLine] + state.tShift[startLine];\n    let max = state.eMarks[startLine];\n\n    // Check out the first character quickly,\n    // this should filter out most of non-containers\n    if (state.src[start] !== \":\") return false;\n\n    let pos = start + 1;\n\n    // Check out the rest of the marker string\n    while (pos <= max) {\n      if (state.src[pos] !== \":\") break;\n      pos += 1;\n    }\n\n    const markerCount = pos - start;\n\n    if (markerCount < 3) return false;\n\n    const markup = state.src.slice(start, pos);\n    const params = state.src.slice(pos, max);\n\n    const [containerName, id = \"\"] = params.split(\"#\", 2);\n\n    if (containerName.trim() !== name) return false;\n\n    // Since start is found, we can report success here in validation mode\n    if (silent) return true;\n\n    // Search for the end of the block\n    let nextLine = startLine;\n    let autoClosed = false;\n\n    // Search for the end of the block\n    while (\n      // unclosed block should be auto closed by end of document.\n      // also block seems to be auto closed by end of parent\n      nextLine < endLine\n    ) {\n      nextLine += 1;\n      start = state.bMarks[nextLine] + state.tShift[nextLine];\n      max = state.eMarks[nextLine];\n\n      if (start < max && state.sCount[nextLine] < state.blkIndent)\n        // non-empty line with negative indent should stop the list:\n        // - ```\n        //  test\n        break;\n\n      if (\n        // match start\n\n        state.src[start] === \":\" &&\n        // closing fence should be indented less than 4 spaces\n        state.sCount[nextLine] - state.blkIndent < 4\n      ) {\n        // check rest of marker\n        for (pos = start + 1; pos <= max; pos++)\n          if (state.src[pos] !== \":\") break;\n\n        // closing code fence must be at least as long as the opening one\n        if (pos - start >= markerCount) {\n          // make sure tail has spaces only\n          pos = state.skipSpaces(pos);\n\n          if (pos >= max) {\n            // found!\n            autoClosed = true;\n            break;\n          }\n        }\n      }\n    }\n\n    const oldParent = state.parentType;\n    const oldLineMax = state.lineMax;\n\n    // @ts-expect-error\n    state.parentType = `${name}_tabs`;\n\n    // this will prevent lazy continuations from ever going past our end marker\n    state.lineMax = nextLine - (autoClosed ? 1 : 0);\n\n    const openToken = state.push(`${name}_tabs_open`, component, 1);\n\n    openToken.markup = markup;\n    openToken.block = true;\n    openToken.info = containerName;\n    openToken.meta = { id: id.trim() };\n    openToken.map = [startLine, nextLine - (autoClosed ? 1 : 0)];\n\n    state.md.block.tokenize(\n      state,\n      startLine + 1,\n      nextLine - (autoClosed ? 1 : 0)\n    );\n\n    const closeToken = state.push(`${name}_tabs_close`, component, -1);\n\n    closeToken.markup = state.src.slice(start, pos);\n    closeToken.block = true;\n\n    state.parentType = oldParent;\n    state.lineMax = oldLineMax;\n    state.line = nextLine + (autoClosed ? 1 : 0);\n\n    return true;\n  };\n\n  const tabRule: RuleBlock = (state, startLine, endLine, silent) => {\n    let start = state.bMarks[startLine] + state.tShift[startLine];\n    let max = state.eMarks[startLine];\n\n    /*\n     * Check out the first character quickly,\n     * this should filter out most of non-uml blocks\n     */\n    if (state.src.charAt(start) !== \"@\") return false;\n\n    let index;\n\n    // Check out the rest of the marker string\n    for (index = 0; index < CODETAB_MARKER.length; index++)\n      if (CODETAB_MARKER[index] !== state.src[start + index]) return false;\n\n    const markup = state.src.slice(start, start + index);\n    const info = state.src.slice(start + index, max);\n\n    // Since start is found, we can report success here in validation mode\n    if (silent) return true;\n\n    let nextLine = startLine;\n    let autoClosed = false;\n\n    // Search for the end of the block\n    while (\n      // unclosed block should be auto closed by end of document.\n      // also block seems to be auto closed by end of parent\n      nextLine < endLine\n    ) {\n      nextLine += 1;\n      start = state.bMarks[nextLine] + state.tShift[nextLine];\n      max = state.eMarks[nextLine];\n\n      if (start < max && state.sCount[nextLine] < state.blkIndent)\n        // non-empty line with negative indent should stop the list:\n        // - ```\n        //  test\n        break;\n\n      if (\n        // match start\n        state.src[start] === \"@\" &&\n        // marker should not be indented with respect of opening fence\n        state.sCount[nextLine] <= state.sCount[startLine]\n      ) {\n        let openMakerMatched = true;\n\n        for (index = 0; index < CODETAB_MARKER.length; index++)\n          if (CODETAB_MARKER[index] !== state.src[start + index]) {\n            openMakerMatched = false;\n            break;\n          }\n\n        if (openMakerMatched) {\n          // found!\n          autoClosed = true;\n          nextLine -= 1;\n          break;\n        }\n      }\n    }\n\n    const oldParent = state.parentType;\n    const oldLineMax = state.lineMax;\n\n    // @ts-expect-error\n    state.parentType = `tab`;\n\n    // this will prevent lazy continuations from ever going past our end marker\n    state.lineMax = nextLine;\n\n    const openToken = state.push(\"tab_open\", \"template\", 1);\n\n    const [title, id] = info.replace(/^:active/, \"\").split(\"#\", 2);\n\n    openToken.block = true;\n    openToken.markup = markup;\n    openToken.info = title.trim();\n    openToken.meta = {\n      active: info.includes(\":active\"),\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n    if (id) openToken.meta.value = id.trim();\n    openToken.map = [startLine, nextLine];\n\n    state.md.block.tokenize(state, startLine + 1, nextLine);\n\n    const closeToken = state.push(\"tab_close\", \"template\", -1);\n\n    closeToken.block = true;\n    closeToken.markup = \"\";\n\n    state.parentType = oldParent;\n    state.lineMax = oldLineMax;\n    state.line = nextLine + (autoClosed ? 1 : 0);\n\n    return true;\n  };\n\n  md.block.ruler.before(\"fence\", `${name}_tabs`, tabsRule, {\n    alt: [\"paragraph\", \"reference\", \"blockquote\", \"list\"],\n  });\n\n  // WARNING:  Here we use an internal variable to make sure tab rule is not registered\n\n  // @ts-ignore\n  // eslint-disable-next-line\n  if (!md.block.ruler.__rules__.find(({ name }) => name === \"tab\"))\n    md.block.ruler.before(\"fence\", \"tab\", tabRule, {\n      alt: [\"paragraph\", \"reference\", \"blockquote\", \"list\"],\n    });\n\n  md.renderer.rules[`${name}_tabs_open`] = (\n    tokens,\n    index,\n    options,\n    env,\n    self\n  ): string => {\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n    const { meta } = tokens[index];\n    const basicData: BaseTabData[] = [];\n    const customData = getter(tokens, index, options, env, self);\n    let activeIndex = -1;\n    let isTabStart = false;\n\n    for (let i = index; i < tokens.length; i++) {\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n      const { block, meta, type, info } = tokens[i];\n\n      if (block) {\n        if (type === `${name}_tabs_close`) break;\n        if (type === `${name}_tabs_open`) continue;\n\n        if (type === \"tab_open\") {\n          // code tab is active\n          // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n          if (meta.active) activeIndex = basicData.length;\n\n          tokens[i].attrPush([\n            `#tab${basicData.length}`,\n            \"{ title, value, isActive }\",\n          ]);\n\n          isTabStart = true;\n          basicData.push({\n            title: info,\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n            ...(meta.value ? { value: meta.value as string } : {}),\n          });\n\n          continue;\n        }\n\n        if (type === \"tab_close\") continue;\n\n        if (!isTabStart) {\n          tokens[i].type = `${name}_tabs_empty`;\n          tokens[i].hidden = true;\n        }\n      }\n    }\n\n    const data = basicData.map((item, index) => ({\n      ...item,\n      ...customData[index],\n    }));\n\n    return `<${component} id=\"${index}\" :data='${\n      // single quote will break @vue/compiler-sfc\n      JSON.stringify(data).replace(/'/g, \"&#39\")\n    }'${activeIndex !== -1 ? ` :active=\"${activeIndex}\"` : \"\"}${\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n      meta.id ? ` tab-id=\"${meta.id as string}\"` : \"\"\n    }>\\n`;\n  };\n\n  md.renderer.rules[`${name}_tabs_close`] = (): string => `</${component}>\\n`;\n};\n","import { tabs } from \"./tabs.js\";\n\nimport type { PluginSimple } from \"markdown-it\";\n\nexport const codeTabs: PluginSimple = (md) => {\n  tabs(md, {\n    name: \"code-tabs\",\n    component: \"CodeTabs\",\n    getter: (tokens, index) => {\n      let inCodeTab = false;\n      let foundFence = false;\n      const codeTabsData: { content: string }[] = [];\n\n      for (let i = index; i < tokens.length; i++) {\n        const { block, type } = tokens[i];\n\n        if (block) {\n          if (type === \"code-tabs_tabs_close\") {\n            break;\n          }\n\n          if (type === \"tab_close\") {\n            inCodeTab = false;\n            continue;\n          }\n\n          if (type === \"tab_open\") {\n            // found a code tab\n            inCodeTab = true;\n            foundFence = false;\n            continue;\n          }\n\n          if (inCodeTab && type === \"fence\" && !foundFence) {\n            foundFence = true;\n            continue;\n          }\n\n          tokens[i].type = \"code_tab_empty\";\n          tokens[i].hidden = true;\n        }\n      }\n\n      return codeTabsData;\n    },\n  });\n};\n","import { utoa } from \"vuepress-shared/node\";\nimport { container } from \"./container.js\";\nimport type Token from \"markdown-it/lib/token.js\";\n\nimport type { PluginSimple } from \"markdown-it\";\n\nconst echartsRender = (tokens: Token[], index: number): string => {\n  const token = tokens[index];\n  const key = `echarts-${index}`;\n  const { content, info } = token;\n  const title = info.trim().split(\":\", 2)[1];\n\n  return `<ECharts id=\"${key}\" config=\"${utoa(content)}\"${\n    title ? ` title=\"${encodeURIComponent(title)}\"` : \"\"\n  }></ECharts>`;\n};\n\nexport const echarts: PluginSimple = (md) => {\n  // Handle ```echarts blocks\n  const fence = md.renderer.rules.fence;\n\n  md.renderer.rules.fence = (...args): string => {\n    const [tokens, index] = args;\n    const { info } = tokens[index];\n    const realInfo = info.split(\":\", 2)[0];\n\n    if (realInfo === \"echarts\") return echartsRender(tokens, index);\n\n    return fence!(...args);\n  };\n\n  md.renderer.rules[\"echarts\"] = echartsRender;\n\n  container(md, {\n    name: \"echarts\",\n\n    openRender: (tokens, index) => {\n      const title = tokens[index].info\n        .trimStart()\n        // 'echarts' length\n        .slice(7)\n        .trim();\n\n      const key = `echarts-${index}`;\n\n      let config = \"{}\";\n      let isJavaScript = false;\n\n      for (let i = index; i < tokens.length; i++) {\n        const { type, content, info } = tokens[i];\n\n        if (type === \"container_echarts_close\") break;\n\n        if (!content) continue;\n        if (type === \"fence\") {\n          if (info === \"json\") config = content;\n          else if (info === \"js\" || info === \"javascript\") {\n            config = content;\n            isJavaScript = true;\n          }\n        }\n\n        // set to an unexist token type\n        tokens[i].type = \"echarts_empty\";\n        // hide token\n        tokens[i].hidden = true;\n      }\n\n      return `<ECharts id=\"${key}\" config=\"${utoa(config)}\"${\n        title ? ` title=\"${encodeURIComponent(title)}\"` : \"\"\n      }${isJavaScript ? ' type=\"js\"' : \"\"}>`;\n    },\n    closeRender: () => `</ECharts>`,\n  });\n};\n","/**\n * Forked and modified from https://github.com/Antonio-Laguna/markdown-it-image-figures\n * The MIT License (MIT)\n *\n * Copyright (c) 2020 Antonio Laguna\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\nimport type { PluginWithOptions } from \"markdown-it\";\nimport type Token from \"markdown-it/lib/token.js\";\nimport type { FigureOptions } from \"../typings/index.js\";\n\nconst removeAttribute = (token: Token, attribute: string) => {\n  token.attrs = (token.attrs || []).filter(([key]) => key !== attribute);\n};\n\nconst getCaption = (image: Token) => {\n  const title = image.attrs?.find(([attr]) => attr === \"title\")?.[1];\n\n  if (title) {\n    removeAttribute(image, \"title\");\n\n    return title;\n  }\n\n  return image.content;\n};\n\nexport const figure: PluginWithOptions<FigureOptions> = (md, options = {}) => {\n  md.core.ruler.before(\"linkify\", \"figure\", (state) => {\n    // do not process first and last token\n    for (\n      let index = 1, { length } = state.tokens;\n      index < length - 1;\n      index++\n    ) {\n      const token = state.tokens[index];\n\n      if (token.type !== \"inline\") continue;\n\n      // children: image alone, or link_open -> image -> link_close\n      if (\n        !token.children ||\n        (token.children.length !== 1 && token.children.length !== 3)\n      )\n        continue;\n\n      // one child, should be img\n      if (token.children.length === 1 && token.children[0].type !== \"image\")\n        continue;\n\n      // three children, should be image enclosed in link\n      if (token.children.length === 3) {\n        const [childrenA, childrenB, childrenC] = token.children;\n        const isEnclosed =\n          childrenA.type !== \"link_open\" ||\n          childrenB.type !== \"image\" ||\n          childrenC.type !== \"link_close\";\n\n        if (isEnclosed) continue;\n      }\n\n      // prev token is paragraph open\n      if (index !== 0 && state.tokens[index - 1].type !== \"paragraph_open\")\n        continue;\n\n      // next token is paragraph close\n      if (\n        index !== length - 1 &&\n        state.tokens[index + 1].type !== \"paragraph_close\"\n      )\n        continue;\n\n      // We have inline token containing an image only.\n      // Previous token is paragraph open.\n      // Next token is paragraph close.\n      // Lets replace the paragraph tokens with figure tokens.\n      const figure = state.tokens[index - 1];\n\n      figure.type = \"figure_open\";\n      figure.tag = \"figure\";\n      state.tokens[index + 1].type = \"figure_close\";\n      state.tokens[index + 1].tag = \"figure\";\n\n      // for linked images, image is one off\n      const image =\n        token.children.length === 1 ? token.children[0] : token.children[1];\n\n      const figCaption = getCaption(image);\n      const [captionContent] = md.parseInline(figCaption, state.env);\n\n      token.children.push(new state.Token(\"figcaption_open\", \"figcaption\", 1));\n      token.children.push(...(captionContent.children || []));\n      token.children.push(\n        new state.Token(\"figcaption_close\", \"figcaption\", -1)\n      );\n\n      if (options.focusable !== false) image.attrPush([\"tabindex\", \"0\"]);\n    }\n  });\n};\n","import { utoa } from \"vuepress-shared/node\";\nimport type { PluginSimple } from \"markdown-it\";\nimport type Token from \"markdown-it/lib/token.js\";\n\nconst flowchartRender = (tokens: Token[], index: number): string => {\n  const token = tokens[index];\n  const key = `flowchart-${index}`;\n  const { content, info } = token;\n\n  return `<FlowChart id=\"${key}\" code=\"${utoa(content)}\" preset=\"${\n    info.trim().split(\":\", 2)[1] || \"vue\"\n  }\"></FlowChart>`;\n};\n\nexport const flowchart: PluginSimple = (md) => {\n  // Handle ```flow and ```flowchart blocks\n  const fence = md.renderer.rules.fence;\n\n  md.renderer.rules.fence = (...args): string => {\n    const [tokens, index] = args;\n    const { info } = tokens[index];\n    const realInfo = info.split(\":\", 2)[0];\n\n    if (realInfo === \"flow\" || realInfo === \"flowchart\")\n      return flowchartRender(tokens, index);\n\n    return fence!(...args);\n  };\n\n  md.renderer.rules[\"flowchart\"] = flowchartRender;\n};\n","/**\n * Forked from https://github.com/markdown-it/markdown-it-footnote/blob/master/index.js\n *\n * Copyright (c) 2014-2015 Vitaly Puzrin, Alex Kocharin.\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport Token from \"markdown-it/lib/token.js\";\nimport parseLinkLabel from \"markdown-it/lib/helpers/parse_link_label.js\";\n\nimport type { MarkdownEnv } from \"@vuepress/markdown\";\nimport type Renderer from \"markdown-it/lib/renderer.js\";\nimport type StateBlock from \"markdown-it/lib/rules_block/state_block.js\";\nimport type StateCore from \"markdown-it/lib/rules_core/state_core.js\";\nimport type StateInline from \"markdown-it/lib/rules_inline/state_inline.js\";\nimport type { PluginSimple } from \"markdown-it\";\nimport type { RuleBlock } from \"markdown-it/lib/parser_block.js\";\nimport type { RuleInline } from \"markdown-it/lib/parser_inline.js\";\n\ninterface FootNoteToken extends Token {\n  meta: {\n    id: number;\n    subId: number;\n    label: string;\n  };\n}\n\ninterface FootNoteEnv extends MarkdownEnv {\n  docId?: string;\n  footnotes: {\n    label?: string;\n    refs?: Record<string, number>;\n    list?: {\n      label?: string;\n      count?: number;\n      content?: string;\n      tokens?: Token[] | null;\n    }[];\n  };\n}\n\ninterface FootNoteStateBlock extends StateBlock {\n  tokens: FootNoteToken[];\n  env: FootNoteEnv;\n}\n\ninterface FootNoteStateInline extends StateInline {\n  tokens: FootNoteToken[];\n  env: FootNoteEnv;\n}\n\ninterface FootNoteStateCore extends StateCore {\n  tokens: FootNoteToken[];\n  env: FootNoteEnv;\n}\n\nconst getIDSuffix = (tokens: FootNoteToken[], index: number): string =>\n  // add suffix when multiple id was found\n  tokens[index].meta.subId > 0 ? `:${tokens[index].meta.subId}` : \"\";\n\nconst renderFootnoteAnchorName: Renderer.RenderRule = (\n  tokens: FootNoteToken[],\n  index,\n  _options,\n  env: FootNoteEnv\n): string =>\n  `${\n    // prefix\n    typeof env.docId === \"string\" ? `-${env.docId}-` : \"\"\n  }${\n    // increasing id\n    (tokens[index].meta.id + 1).toString()\n  }`;\n\nconst renderFootnoteCaption: Renderer.RenderRule = (\n  tokens: FootNoteToken[],\n  index\n): string =>\n  `[${\n    // number\n    (tokens[index].meta.id + 1).toString()\n  }${getIDSuffix(tokens, index)}]`;\n\nconst renderFootnoteRef: Renderer.RenderRule = (\n  tokens: FootNoteToken[],\n  index,\n  options,\n  env: FootNoteEnv,\n  self\n): string => {\n  const id = self.rules[\"footnoteAnchorName\"]!(\n    tokens,\n    index,\n    options,\n    env,\n    self\n  );\n  const caption = self.rules[\"footnoteCaption\"]!(\n    tokens,\n    index,\n    options,\n    env,\n    self\n  );\n\n  return `<sup class=\"footnote-ref\"><a href=\"#footnote${id}\">${caption}</a><a class=\"footnote-anchor\" id=\"footnote-ref${id}${getIDSuffix(\n    tokens,\n    index\n  )}\" /></sup>`;\n};\n\nconst renderFootnoteBlockOpen: Renderer.RenderRule = (\n  _tokens: FootNoteToken[],\n  _index,\n  options\n): string =>\n  `${\n    options.xhtmlOut\n      ? '<hr class=\"footnotes-sep\" />\\n'\n      : '<hr class=\"footnotes-sep\">\\n'\n  }<section class=\"footnotes\">\\n<ol class=\"footnotes-list\">\\n`;\n\nconst renderFootnoteBlockClose = (): string => \"</ol>\\n</section>\\n\";\n\nconst renderFootnoteOpen: Renderer.RenderRule = (\n  tokens: FootNoteToken[],\n  index,\n  options,\n  env: FootNoteEnv,\n  self\n): string =>\n  `<li id=\"footnote${self.rules[\"footnoteAnchorName\"]!(\n    tokens,\n    index,\n    options,\n    env,\n    self\n  )}${getIDSuffix(tokens, index)}\" class=\"footnote-item\">`;\n\nconst renderFootnoteClose = (): string => \"</li>\\n\";\n\nconst renderFootnoteAnchor: Renderer.RenderRule = (\n  tokens: FootNoteToken[],\n  index,\n  options,\n  env: FootNoteEnv,\n  self\n): string => {\n  return ` <a href=\"#footnote-ref${self.rules[\"footnoteAnchorName\"]!(\n    tokens,\n    index,\n    options,\n    env,\n    self\n  )}${\n    getIDSuffix(tokens, index)\n    /* ↩ with escape code to prevent display as Apple Emoji on iOS */\n  }\" class=\"footnote-backref\">\\u21a9\\uFE0E</a>`;\n};\n\n// Process footnote block definition\nconst footnoteDef: RuleBlock = (\n  state: FootNoteStateBlock,\n  startLine,\n  endLine,\n  silent\n) => {\n  let pos;\n  let token;\n  let offset;\n  let ch;\n  const start = state.bMarks[startLine] + state.tShift[startLine];\n  const max = state.eMarks[startLine];\n\n  // line should be at least 5 chars - \"[^x]:\"\n  if (start + 4 > max) return false;\n\n  if (state.src.charAt(start) !== \"[\") return false;\n\n  if (state.src.charAt(start + 1) !== \"^\") return false;\n\n  for (pos = start + 2; pos < max; pos++) {\n    if (state.src.charAt(pos) === \" \") return false;\n    if (state.src.charAt(pos) === \"]\") break;\n  }\n\n  // no empty footnote labels\n  if (pos === start + 2) return false;\n\n  if (pos + 1 >= max || state.src.charAt(++pos) !== \":\") return false;\n\n  if (silent) return true;\n  pos += 1;\n\n  if (!state.env.footnotes) state.env.footnotes = {};\n  if (!state.env.footnotes.refs) state.env.footnotes.refs = {};\n  const label = state.src.slice(start + 2, pos - 2);\n\n  state.env.footnotes.refs[`:${label}`] = -1;\n\n  token = new Token(\"footnoteReferenceOpen\", \"\", 1);\n  token.meta = { label };\n  token.level = state.level++;\n  state.tokens.push(token);\n\n  const oldBMark = state.bMarks[startLine];\n  const oldTShift = state.tShift[startLine];\n  const oldSCount = state.sCount[startLine];\n  const oldParentType = state.parentType;\n  const posAfterColon = pos;\n  const initial =\n    state.sCount[startLine] +\n    pos -\n    (state.bMarks[startLine] + state.tShift[startLine]);\n\n  offset =\n    state.sCount[startLine] +\n    pos -\n    (state.bMarks[startLine] + state.tShift[startLine]);\n\n  while (pos < max) {\n    ch = state.src.charAt(pos);\n\n    if (ch === \"\\t\") offset += 4 - (offset % 4);\n    else if (ch === \" \") offset += 1;\n    else break;\n\n    pos += 1;\n  }\n\n  state.tShift[startLine] = pos - posAfterColon;\n  state.sCount[startLine] = offset - initial;\n\n  state.bMarks[startLine] = posAfterColon;\n  state.blkIndent += 4;\n  state.parentType = \"footnote\" as unknown as StateBlock.ParentType;\n\n  if (state.sCount[startLine] < state.blkIndent)\n    state.sCount[startLine] += state.blkIndent;\n\n  state.md.block.tokenize(state, startLine, endLine);\n\n  state.parentType = oldParentType;\n  state.blkIndent -= 4;\n  state.tShift[startLine] = oldTShift;\n  state.sCount[startLine] = oldSCount;\n  state.bMarks[startLine] = oldBMark;\n\n  token = new Token(\"footnoteReferenceClose\", \"\", -1);\n  token.level = --state.level;\n  state.tokens.push(token);\n\n  return true;\n};\n\n// Process inline footnotes (^[...])\nconst footnoteInline: RuleInline = (state: FootNoteStateInline, silent) => {\n  let footnoteId;\n  let token;\n  let tokens: Token[];\n  const max = state.posMax;\n  const start = state.pos;\n\n  if (start + 2 >= max) return false;\n  if (state.src.charAt(start) !== \"^\") return false;\n\n  if (state.src.charAt(start + 1) !== \"[\") return false;\n\n  const labelStart = start + 2;\n  const labelEnd = parseLinkLabel(state, start + 1);\n\n  // parser failed to find ']', so it’s not a valid note\n  if (labelEnd < 0) return false;\n\n  /*\n   * We found the end of the link, and know for a fact it’s a valid link;\n   * so all that’s left to do is to call tokenizer.\n   *\n   */\n  if (!silent) {\n    if (!state.env.footnotes) state.env.footnotes = {};\n    if (!state.env.footnotes.list) state.env.footnotes.list = [];\n    footnoteId = state.env.footnotes.list.length;\n\n    state.md.inline.parse(\n      state.src.slice(labelStart, labelEnd),\n      state.md,\n      state.env,\n      (tokens = [])\n    );\n\n    token = state.push(\"footnoteRef\", \"\", 0);\n    token.meta = { id: footnoteId };\n\n    state.env.footnotes.list[footnoteId] = {\n      content: state.src.slice(labelStart, labelEnd),\n      tokens,\n    };\n  }\n\n  state.pos = labelEnd + 1;\n  state.posMax = max;\n\n  return true;\n};\n\n// Process footnote references ([^...])\nconst footnoteRef: RuleInline = (state: FootNoteStateInline, silent) => {\n  let pos;\n  let footnoteId;\n  let footnoteSubId;\n  let token;\n  const max = state.posMax;\n  const start = state.pos;\n\n  // should be at least 4 chars - \"[^x]\"\n  if (start + 3 > max) return false;\n\n  if (!state.env.footnotes || !state.env.footnotes.refs) return false;\n  if (state.src.charAt(start) !== \"[\") return false;\n\n  if (state.src.charAt(start + 1) !== \"^\") return false;\n\n  for (pos = start + 2; pos < max; pos++) {\n    if (state.src.charAt(pos) === \" \") return false;\n    if (state.src.charAt(pos) === \"\\n\") return false;\n    if (state.src.charAt(pos) === \"]\") break;\n  }\n\n  if (pos === start + 2) return false; // no empty footnote labels\n  if (pos >= max) return false;\n\n  pos += 1;\n\n  const label = state.src.slice(start + 2, pos - 1);\n\n  if (typeof state.env.footnotes.refs[`:${label}`] === \"undefined\")\n    return false;\n\n  if (!silent) {\n    if (!state.env.footnotes.list) state.env.footnotes.list = [];\n\n    if (state.env.footnotes.refs[`:${label}`] < 0) {\n      footnoteId = state.env.footnotes.list.length;\n      state.env.footnotes.list[footnoteId] = { label, count: 0 };\n      state.env.footnotes.refs[`:${label}`] = footnoteId;\n    } else footnoteId = state.env.footnotes.refs[`:${label}`];\n\n    footnoteSubId = state.env.footnotes.list[footnoteId].count!;\n    state.env.footnotes.list[footnoteId].count =\n      state.env.footnotes.list[footnoteId].count! + 1;\n\n    token = state.push(\"footnoteRef\", \"\", 0);\n    token.meta = { id: footnoteId, subId: footnoteSubId, label };\n  }\n\n  state.pos = pos;\n  state.posMax = max;\n\n  return true;\n};\n\n// Glue footnote tokens to end of token stream\nconst footnoteTail = (state: FootNoteStateCore): boolean => {\n  let lastParagraph: FootNoteToken | null;\n  let token: Token;\n  let tokens: Token[];\n  let current: Token[];\n  let currentLabel: string;\n  let insideRef = false;\n  const refTokens: Record<string, Token[]> = {};\n\n  if (!state.env.footnotes) return false;\n\n  state.tokens = state.tokens.filter((stateToken) => {\n    if (stateToken.type === \"footnoteReferenceOpen\") {\n      insideRef = true;\n      current = [];\n      currentLabel = stateToken.meta.label;\n\n      return false;\n    }\n    if (stateToken.type === \"footnoteReferenceClose\") {\n      insideRef = false;\n      // prepend ':' to avoid conflict with Object.prototype members\n      refTokens[`:${currentLabel}`] = current;\n\n      return false;\n    }\n    if (insideRef) current.push(stateToken);\n\n    return !insideRef;\n  });\n\n  if (!state.env.footnotes.list) return false;\n  const { list } = state.env.footnotes;\n\n  token = new Token(\"footnoteBlockOpen\", \"\", 1);\n  state.tokens.push(token);\n\n  for (let i = 0, { length } = list; i < length; i++) {\n    token = new Token(\"footnoteOpen\", \"\", 1);\n    token.meta = { id: i, label: list[i].label };\n    state.tokens.push(token);\n\n    if (list[i].tokens) {\n      tokens = [];\n\n      token = new Token(\"paragraph_open\", \"p\", 1);\n      token.block = true;\n      tokens.push(token);\n\n      token = new Token(\"inline\", \"\", 0);\n      token.children = list[i].tokens!;\n      token.content = list[i].content!;\n      tokens.push(token);\n\n      token = new Token(\"paragraph_close\", \"p\", -1);\n      token.block = true;\n      tokens.push(token);\n    } else if (list[i].label) tokens = refTokens[`:${list[i].label!}`];\n    else tokens = [];\n\n    if (tokens) state.tokens = state.tokens.concat(tokens);\n    if (state.tokens[state.tokens.length - 1].type === \"paragraph_close\")\n      lastParagraph = state.tokens.pop() || null;\n    else lastParagraph = null;\n\n    for (let j = 0; j < (Number(list[i].count) > 0 ? list[i].count! : 1); j++) {\n      token = new Token(\"footnoteAnchor\", \"\", 0);\n      token.meta = { id: i, subId: j, label: list[i].label };\n      state.tokens.push(token);\n    }\n\n    if (lastParagraph) state.tokens.push(lastParagraph);\n\n    token = new Token(\"footnoteClose\", \"\", -1);\n    state.tokens.push(token);\n  }\n\n  token = new Token(\"footnoteBlockClose\", \"\", -1);\n  state.tokens.push(token);\n\n  return true;\n};\n\nexport const footnote: PluginSimple = (md) => {\n  md.renderer.rules[\"footnoteRef\"] = renderFootnoteRef;\n  md.renderer.rules[\"footnoteBlockOpen\"] = renderFootnoteBlockOpen;\n  md.renderer.rules[\"footnoteBlockClose\"] = renderFootnoteBlockClose;\n  md.renderer.rules[\"footnoteOpen\"] = renderFootnoteOpen;\n  md.renderer.rules[\"footnoteClose\"] = renderFootnoteClose;\n  md.renderer.rules[\"footnoteAnchor\"] = renderFootnoteAnchor;\n\n  // helpers (only used in other rules, no tokens are attached to those)\n  // helpers (only used in other rules, no tokens are attached to those)\n  md.renderer.rules[\"footnoteCaption\"] = renderFootnoteCaption;\n  md.renderer.rules[\"footnoteAnchorName\"] = renderFootnoteAnchorName;\n\n  md.block.ruler.before(\"reference\", \"footnoteDef\", footnoteDef, {\n    alt: [\"paragraph\", \"reference\"],\n  });\n  md.inline.ruler.after(\"image\", \"footnoteInline\", footnoteInline);\n  md.inline.ruler.after(\"footnoteInline\", \"footnoteRef\", footnoteRef);\n  md.core.ruler.after(\"inline\", \"footnoteTail\", footnoteTail);\n};\n","import { ensureLeadingSlash, resolveLocalePath } from \"@vuepress/shared\";\n\nimport { container } from \"./container.js\";\n\nimport type { MarkdownEnv } from \"@vuepress/markdown\";\nimport type { PluginWithOptions } from \"markdown-it\";\nimport type { ConvertLocaleConfig } from \"vuepress-shared\";\nimport type { MarkdownHintLocaleData } from \"../typings/index.js\";\n\nexport type MarkdownItHintOptions = ConvertLocaleConfig<MarkdownHintLocaleData>;\n\nexport type MarkdownHintBoxName = keyof MarkdownHintLocaleData;\n\nexport const hint: PluginWithOptions<MarkdownItHintOptions> = (\n  md,\n  options = {}\n) => {\n  const containers: MarkdownHintBoxName[] = [\n    \"info\",\n    \"note\",\n    \"tip\",\n    \"warning\",\n    \"danger\",\n  ];\n\n  containers.forEach((name) => {\n    md.use(container, {\n      name,\n      openRender: (tokens, index, _options, env: MarkdownEnv): string => {\n        const token = tokens[index];\n\n        // resolve info (title)\n        let info = token.info.trim().slice(name.length).trim();\n\n        // get locale\n        if (!info) {\n          const { filePathRelative } = env;\n          const relativePath = ensureLeadingSlash(filePathRelative ?? \"\");\n          const localePath = resolveLocalePath(options, relativePath);\n\n          info = options[localePath]?.[name];\n        }\n\n        return `<div class=\"custom-container ${name}\">\\n<p class=\"custom-container-title\">${\n          info || name\n        }</p>\\n`;\n      },\n      closeRender: () => \"</div>\\n\",\n    });\n  });\n\n  md.use((md) =>\n    container(md, {\n      name: \"details\",\n      openRender: (tokens, index, _options, env: MarkdownEnv): string => {\n        const token = tokens[index];\n\n        // resolve info (title)\n        let info = token.info\n          .trim()\n          .slice(\n            // length of \"details\"\n            7\n          )\n          .trim();\n\n        // get locale\n        if (!info) {\n          const { filePathRelative } = env;\n          const relativePath = ensureLeadingSlash(filePathRelative ?? \"\");\n          const localePath = resolveLocalePath(options, relativePath);\n\n          info = options[localePath]?.details;\n        }\n\n        return `<details class=\"custom-container details\"><summary>${\n          info || \"Details\"\n        }</summary>\\n`;\n      },\n      closeRender: () => \"</details>\\n\",\n    })\n  );\n};\n","import type { PluginSimple } from \"markdown-it\";\n\nexport const imageLazyload: PluginSimple = (md) => {\n  const originalImageRender = md.renderer.rules.image!;\n\n  md.renderer.rules.image = (tokens, index, options, env, self): string => {\n    tokens[index].attrSet(\"loading\", \"lazy\");\n\n    return originalImageRender(tokens, index, options, env, self);\n  };\n};\n","import type { PluginWithOptions } from \"markdown-it\";\nimport type { ImageMarkOptions } from \"../typings/index.js\";\n\nexport const imageMark: PluginWithOptions<ImageMarkOptions> = (\n  md,\n  {\n    light = [\"gh-light-mode-only\", \"light\"],\n    dark = [\"gh-dark-mode-only\", \"dark\"],\n  } = {}\n): void => {\n  const originalImageRender = md.renderer.rules.image!;\n\n  md.renderer.rules.image = (tokens, index, options, env, self): string => {\n    const token = tokens[index];\n    const src = token.attrGet(\"src\");\n\n    if (src) {\n      if (light.some((item) => src.endsWith(`#${item}`))) {\n        token.attrSet(\"data-mode\", \"lightmode-only\");\n        token.attrSet(\"src\", src.replace(/#.*?$/, \"\"));\n      } else if (dark.some((item) => src.endsWith(`#${item}`))) {\n        token.attrSet(\"data-mode\", \"darkmode-only\");\n        token.attrSet(\"src\", src.replace(/#.*?$/, \"\"));\n      }\n    }\n\n    return originalImageRender(tokens, index, options, env, self);\n  };\n};\n","import type { MarkdownEnv } from \"@vuepress/markdown\";\nimport type { PluginSimple } from \"markdown-it\";\nimport type { RuleInline } from \"markdown-it/lib/parser_inline.js\";\nimport type Token from \"markdown-it/lib/token.js\";\n\ninterface MarkdownReference {\n  href: string;\n  title?: string;\n}\n\nexport interface ImageEnv extends MarkdownEnv {\n  references?: Record<string, MarkdownReference>;\n}\n\n// Parse image size\n//\nconst parseNextNumber = (\n  str: string,\n  pos: number,\n  max: number\n): { ok: boolean; pos: number; value: string } => {\n  let code;\n  const start = pos;\n  const result = {\n    ok: false,\n    pos: pos,\n    value: \"\",\n  };\n\n  code = str.charCodeAt(pos);\n\n  while (\n    (pos < max && code >= 0x30 /* 0 */ && code <= 0x39) /* 9 */ ||\n    code === 0x25 /* % */\n  ) {\n    code = str.charCodeAt(++pos);\n  }\n\n  result.ok = true;\n  result.pos = pos;\n  result.value = str.slice(start, pos);\n\n  return result;\n};\n\nconst parseImageSize = (\n  str: string,\n  pos: number,\n  max: number\n): { ok: boolean; pos: number; width: string; height: string } => {\n  const result = {\n    ok: false,\n    pos: 0,\n    width: \"\",\n    height: \"\",\n  };\n\n  if (pos >= max) return result;\n\n  if (str.charAt(pos) !== \"=\") return result;\n\n  pos += 1;\n\n  // size must follow = without any white spaces as follows\n  // (1) =300x200\n  // (2) =300x\n  // (3) =x200\n  const code = str.charCodeAt(pos);\n\n  if (code !== 0x78 /* x */ && (code < 0x30 || code > 0x39) /* [0-9] */)\n    return result;\n\n  // parse width\n  const width = parseNextNumber(str, pos, max);\n\n  pos = width.pos;\n\n  // next character must be 'x'\n  if (str.charAt(pos) !== \"x\") return result;\n\n  pos += 1;\n\n  // parse height\n  const height = parseNextNumber(str, pos, max);\n\n  pos = height.pos;\n\n  result.width = width.value;\n  result.height = height.value;\n  result.pos = pos;\n  result.ok = true;\n\n  return result;\n};\n\nconst imageSizeRule: RuleInline = (state, silent) => {\n  const env = <ImageEnv>state.env;\n  const oldPos = state.pos;\n  const max = state.posMax;\n\n  if (state.src.charAt(state.pos) !== \"!\") return false;\n  if (state.src.charAt(state.pos + 1) !== \"[\") return false;\n\n  const labelStart = state.pos + 2;\n  const labelEnd = state.md.helpers.parseLinkLabel(state, state.pos + 1, false);\n\n  // parser failed to find ']', so it's not a valid link\n  if (labelEnd < 0) return false;\n\n  let pos = labelEnd + 1;\n  let code: number;\n\n  let href = \"\";\n  let title = \"\";\n  let width = \"\";\n  let height = \"\";\n\n  if (pos < max && state.src.charAt(pos) === \"(\") {\n    //\n    // Inline link\n    //\n\n    // [link](  <href>  \"title\"  )\n    //        ^^ skipping these spaces\n    pos += 1;\n\n    for (; pos < max; pos++) {\n      code = state.src.charCodeAt(pos);\n      if (!state.md.utils.isSpace(code) && code !== 0x0a) break;\n    }\n\n    if (pos >= max) return false;\n\n    // [link](  <href>  \"title\"  )\n    //          ^^^^^^ parsing link destination\n    let res;\n\n    res = state.md.helpers.parseLinkDestination(state.src, pos, state.posMax);\n\n    if (res.ok) {\n      href = state.md.normalizeLink(res.str);\n\n      if (state.md.validateLink(href)) pos = res.pos;\n      else href = \"\";\n    }\n\n    // [link](  <href>  \"title\"  )\n    //                ^^ skipping these spaces\n    const start = pos;\n\n    for (; pos < max; pos++) {\n      code = state.src.charCodeAt(pos);\n      if (!state.md.utils.isSpace(code) && code !== 0x0a) break;\n    }\n\n    // [link](  <href>  \"title\"  )\n    //                  ^^^^^^^ parsing link title\n    res = state.md.helpers.parseLinkTitle(state.src, pos, state.posMax);\n\n    if (pos < max && start !== pos && res.ok) {\n      title = res.str;\n      pos = res.pos;\n\n      // [link](  <href>  \"title\"  )\n      //                         ^^ skipping these spaces\n      for (; pos < max; pos++) {\n        code = state.src.charCodeAt(pos);\n        if (!state.md.utils.isSpace(code) && code !== 0x0a) break;\n      }\n    } else title = \"\";\n\n    // [link](  <href>  \"title\" =WxH  )\n    //                          ^^^^ parsing image size\n    if (pos - 1 >= 0) {\n      code = state.src.charCodeAt(pos - 1);\n\n      // there must be at least one white spaces\n      // between previous field and the size\n      if (code === 0x20) {\n        res = parseImageSize(state.src, pos, state.posMax);\n        if (res.ok) {\n          width = res.width;\n          height = res.height;\n          pos = res.pos;\n\n          // [link](  <href>  \"title\" =WxH  )\n          //                              ^^ skipping these spaces\n          for (; pos < max; pos++) {\n            code = state.src.charCodeAt(pos);\n            if (code !== 0x20 && code !== 0x0a) break;\n          }\n        }\n      }\n    }\n\n    if (pos >= max || state.src.charAt(pos) !== \")\") {\n      state.pos = oldPos;\n\n      return false;\n    }\n    pos += 1;\n  } else {\n    let label = \"\";\n\n    //\n    // Link reference\n    //\n    if (typeof env.references === \"undefined\") return false;\n\n    if (pos < max && state.src.charAt(pos) === \"[\") {\n      const start = pos + 1;\n\n      pos = state.md.helpers.parseLinkLabel(state, pos);\n\n      if (pos >= 0) label = state.src.slice(start, pos++);\n      else pos = labelEnd + 1;\n    } else pos = labelEnd + 1;\n\n    // covers label === '' and label === undefined\n    // (collapsed reference link and shortcut reference link respectively)\n    if (!label) label = state.src.slice(labelStart, labelEnd);\n\n    const ref = env.references[state.md.utils.normalizeReference(label)];\n\n    if (!ref) {\n      state.pos = oldPos;\n\n      return false;\n    }\n\n    href = ref.href;\n    title = ref.title || \"\";\n  }\n\n  //\n  // We found the end of the link, and know for a fact it's a valid link;\n  // so all that's left to do is to call tokenizer.\n  //\n  if (!silent) {\n    const content = state.src.slice(labelStart, labelEnd);\n    const tokens: Token[] = [];\n\n    state.md.inline.parse(content, state.md, state.env, tokens);\n\n    const token = state.push(\"image\", \"img\", 0);\n\n    token.attrs = <[string, string][]>[\n      [\"src\", href],\n      [\"alt\", \"\"],\n    ];\n    if (title) token.attrs.push([\"title\", title]);\n    if (width !== \"\") token.attrs.push([\"width\", width]);\n    if (height !== \"\") token.attrs.push([\"height\", height]);\n\n    token.children = tokens;\n    token.content = content;\n  }\n\n  state.pos = pos;\n  state.posMax = max;\n\n  return true;\n};\n\nexport const imageSize: PluginSimple = (md) => {\n  md.inline.ruler.before(\"emphasis\", \"image\", imageSizeRule);\n};\n","/**\n * Forked from https://github.com/waylonflinn/markdown-it-katex/blob/master/index.js\n *\n * The MIT License (MIT)\n *\n * Copyright (c) 2016 Waylon Flinn\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport type StateInline from \"markdown-it/lib/rules_inline/state_inline.js\";\nimport type { PluginWithOptions } from \"markdown-it\";\nimport type { RuleInline } from \"markdown-it/lib/parser_inline.js\";\nimport type { RuleBlock } from \"markdown-it/lib/parser_block.js\";\n\nexport interface TexOptions {\n  render: (content: string, displayMode: boolean) => string;\n}\n\n/*\n * Test if potential opening or closing delimiter\n * Assumes that there is a \"$\" at state.src[pos]\n */\nconst isValidDelim = (\n  state: StateInline,\n  pos: number\n): { canOpen: boolean; canClose: boolean } => {\n  const prevChar = pos > 0 ? state.src.charAt(pos - 1) : \"\";\n  const nextChar = pos + 1 <= state.posMax ? state.src.charAt(pos + 1) : \"\";\n\n  return {\n    canOpen: nextChar !== \" \" && nextChar !== \"\\t\",\n\n    /*\n     * Check non-whitespace conditions for opening and closing, and\n     * check that closing delimiter isn’t followed by a number\n     */\n    canClose: !(\n      prevChar === \" \" ||\n      prevChar === \"\\t\" ||\n      /[0-9]/u.exec(nextChar)\n    ),\n  };\n};\n\nconst inlineTex: RuleInline = (state, silent) => {\n  let match;\n  let pos;\n  let res;\n  let token;\n\n  if (state.src[state.pos] !== \"$\") return false;\n\n  res = isValidDelim(state, state.pos);\n  if (!res.canOpen) {\n    if (!silent) state.pending += \"$\";\n\n    state.pos += 1;\n\n    return true;\n  }\n\n  /*\n   * First check for and bypass all properly escaped delimiters\n   * This loop will assume that the first leading backtick can not\n   * be the first character in state.src, which is known since\n   * we have found an opening delimiter already.\n   */\n  const start = state.pos + 1;\n\n  match = start;\n  while ((match = state.src.indexOf(\"$\", match)) !== -1) {\n    /*\n     * Found potential $, look for escapes, pos will point to\n     * first non escape when complete\n     */\n    pos = match - 1;\n    while (state.src[pos] === \"\\\\\") pos -= 1;\n\n    // Even number of escapes, potential closing delimiter found\n    if ((match - pos) % 2 === 1) break;\n\n    match += 1;\n  }\n\n  // No closing delimiter found.  Consume $ and continue.\n  if (match === -1) {\n    if (!silent) state.pending += \"$\";\n\n    state.pos = start;\n\n    return true;\n  }\n\n  // Check if we have empty content, ie: $$.  Do not parse.\n  if (match - start === 0) {\n    if (!silent) state.pending += \"$$\";\n\n    state.pos = start + 1;\n\n    return true;\n  }\n\n  // Check for valid closing delimiter\n  res = isValidDelim(state, match);\n\n  if (!res.canClose) {\n    if (!silent) state.pending += \"$\";\n\n    state.pos = start;\n\n    return true;\n  }\n\n  if (!silent) {\n    token = state.push(\"math_inline\", \"math\", 0);\n    token.markup = \"$\";\n    token.content = state.src.slice(start, match);\n  }\n\n  state.pos = match + 1;\n\n  return true;\n};\n\nconst blockTex: RuleBlock = (state, start, end, silent) => {\n  let firstLine;\n  let lastLine;\n  let next;\n  let lastPos;\n  let found = false;\n  let pos = state.bMarks[start] + state.tShift[start];\n  let max = state.eMarks[start];\n\n  if (pos + 2 > max) return false;\n\n  if (state.src.slice(pos, pos + 2) !== \"$$\") return false;\n\n  pos += 2;\n  firstLine = state.src.slice(pos, max);\n\n  if (silent) return true;\n\n  if (firstLine.trim().endsWith(\"$$\")) {\n    // Single line expression\n    firstLine = firstLine.trim().slice(0, -2);\n    found = true;\n  }\n\n  for (next = start; !found; ) {\n    next += 1;\n\n    if (next >= end) break;\n\n    pos = state.bMarks[next] + state.tShift[next];\n    max = state.eMarks[next];\n\n    if (pos < max && state.tShift[next] < state.blkIndent)\n      // non-empty line with negative indent should stop the list:\n      break;\n\n    if (state.src.slice(pos, max).trim().endsWith(\"$$\")) {\n      lastPos = state.src.slice(0, max).lastIndexOf(\"$$\");\n      lastLine = state.src.slice(pos, lastPos);\n      found = true;\n    }\n  }\n\n  state.line = next + 1;\n\n  const token = state.push(\"math_block\", \"math\", 0);\n\n  token.block = true;\n  token.content =\n    (firstLine?.trim() ? `\\n${firstLine}\\n` : \"\\n\") +\n    state.getLines(start + 1, next, state.tShift[start], true) +\n    (lastLine?.trim() ? lastLine : \"\");\n  token.map = [start, state.line];\n  token.markup = \"$$\";\n\n  return true;\n};\n\nexport const tex: PluginWithOptions<TexOptions> = (md, options) => {\n  const { render } = options || {};\n\n  if (typeof render !== \"function\")\n    return console.error(\n      'markdown-it tex: \"render\" option should be a function'\n    );\n\n  md.inline.ruler.after(\"escape\", \"math_inline\", inlineTex);\n  md.block.ruler.after(\"blockquote\", \"math_block\", blockTex, {\n    alt: [\"paragraph\", \"reference\", \"blockquote\", \"list\"],\n  });\n\n  md.renderer.rules[\"math_inline\"] = (tokens, index): string =>\n    render(tokens[index].content, false);\n  md.renderer.rules[\"math_block\"] = (tokens, index): string =>\n    render(tokens[index].content, true);\n};\n","import type Token from \"markdown-it/lib/token.js\";\n\n// https://spec.commonmark.org/0.29/#line-ending\nexport const NEWLINES_RE = /\\r\\n?|\\n/g;\n\nexport const UNESCAPE_RE = /\\\\([ \\\\!\"#$%&'()*+,./:;<=>?@[\\]^_`{|}~-])/gu;\n\nexport const setTokenAttr = (\n  token: Token,\n  name: string,\n  value: string\n): void => {\n  const index = token.attrIndex(name);\n  const attr: [string, string] = [name, value];\n\n  if (index < 0) token.attrPush(attr);\n  else token.attrs![index] = attr;\n};\n\nexport const getParentTokenIndex = (tokens: Token[], index: number): number => {\n  const targetLevel = tokens[index].level - 1;\n\n  for (let i = index - 1; i >= 0; i--)\n    if (tokens[i].level === targetLevel) return i;\n\n  return -1;\n};\n\nexport const isInlineToken = (token?: Token): boolean =>\n  token?.type === \"inline\";\n\nexport const isParagraphToken = (token?: Token): boolean =>\n  token?.type === \"paragraph_open\";\n\nexport const isListItemToken = (token?: Token): boolean =>\n  token?.type === \"list_item_open\";\n\nexport const escapeHtml = (unsafeHTML: string): string =>\n  unsafeHTML\n    .replace(/&/gu, \"&amp;\")\n    .replace(/</gu, \"&lt;\")\n    .replace(/>/gu, \"&gt;\")\n    .replace(/\"/gu, \"&quot;\")\n    .replace(/'/gu, \"&#039;\");\n","/**\n * Forked from https://github.com/waylonflinn/markdown-it-katex/blob/master/index.js\n *\n * The MIT License (MIT)\n *\n * Copyright (c) 2016 Waylon Flinn\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport { createRequire } from \"node:module\";\nimport Katex from \"katex\";\nimport { tex } from \"./tex.js\";\nimport { escapeHtml } from \"./utils.js\";\n\nimport type { PluginWithOptions } from \"markdown-it\";\nimport type { KatexOptions as OriginalKatexOptions } from \"katex\";\nimport type { KatexOptions } from \"../typings/index.js\";\n\nconst require = createRequire(import.meta.url);\n\nconst katexInline = (tex: string, options: OriginalKatexOptions): string => {\n  try {\n    return Katex.renderToString(tex, { ...options, displayMode: false });\n  } catch (error) {\n    if (options.throwOnError) console.warn(error);\n\n    return `<span class='katex-error' title='${escapeHtml(\n      (error as Error).toString()\n    )}'>${escapeHtml(tex)}</span>`;\n  }\n};\n\nconst katexBlock = (tex: string, options: OriginalKatexOptions): string => {\n  try {\n    return `<p class='katex-block'>${Katex.renderToString(tex, {\n      ...options,\n      displayMode: true,\n      strict: (errorCode: string): string =>\n        errorCode === \"newLineInDisplayMode\" ? \"ignore\" : \"warn\",\n    })}</p>\\n`;\n  } catch (error) {\n    if (options.throwOnError) console.warn(error);\n\n    return `<p class='katex-block katex-error' title='${escapeHtml(\n      (error as Error).toString()\n    )}'>${escapeHtml(tex)}</p>\\n`;\n  }\n};\n\nexport const katex: PluginWithOptions<KatexOptions> = (md, options = {}) => {\n  const { mhchem = false, ...userOptions } = options;\n\n  if (mhchem) require(\"katex/contrib/mhchem\");\n\n  const katexOptions = {\n    throwOnError: false,\n    ...userOptions,\n  };\n\n  md.use(tex, {\n    render: (content, displayMode) =>\n      displayMode\n        ? katexBlock(content, katexOptions)\n        : katexInline(content, katexOptions),\n  });\n};\n","/**\n * Forked from https://github.com/tani/markdown-it-mathjax3/blob/master/index.ts\n *\n * The MIT License (MIT)\n *\n * Copyright (c) 2016 Waylon Flinn\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\nimport juice from \"juice\";\nimport { mathjax as MathJax } from \"mathjax-full/js/mathjax.js\";\nimport { TeX } from \"mathjax-full/js/input/tex.js\";\nimport { CHTML } from \"mathjax-full/js/output/chtml.js\";\nimport { SVG } from \"mathjax-full/js/output/svg.js\";\nimport { liteAdaptor } from \"mathjax-full/js/adaptors/liteAdaptor.js\";\nimport { RegisterHTMLHandler } from \"mathjax-full/js/handlers/html.js\";\nimport { AllPackages } from \"mathjax-full/js/input/tex/AllPackages.js\";\nimport { tex } from \"./tex.js\";\n\nimport type { PluginWithOptions } from \"markdown-it\";\nimport type { LiteElement } from \"mathjax-full/js/adaptors/lite/Element.js\";\nimport type { MathJaxOptions } from \"../typings/index.js\";\n\ninterface DocumentOptions {\n  InputJax: TeX<LiteElement, string, HTMLElement>;\n  OutputJax:\n    | CHTML<LiteElement, string, HTMLElement>\n    | SVG<LiteElement, string, HTMLElement>;\n}\n\nconst renderMath = (\n  content: string,\n  documentOptions: DocumentOptions,\n  displayMode: boolean\n): string => {\n  const adaptor = liteAdaptor();\n\n  RegisterHTMLHandler(adaptor);\n  const mathDocument = MathJax.document(content, documentOptions);\n  /* eslint-disable */\n  const html = adaptor.outerHTML(\n    mathDocument.convert(content, { display: displayMode })\n  );\n  const stylesheet = adaptor.outerHTML(\n    documentOptions.OutputJax.styleSheet(mathDocument)\n  );\n\n  /* eslint-enable */\n  return juice(html + stylesheet);\n};\n\nexport const mathjax: PluginWithOptions<MathJaxOptions> = (\n  md,\n  options = {}\n) => {\n  const documentOptions = {\n    InputJax: new TeX<LiteElement, string, HTMLElement>({\n      packages: AllPackages,\n      ...options.tex,\n    }),\n    OutputJax:\n      options.output === \"chtml\"\n        ? new CHTML<LiteElement, string, HTMLElement>({\n            ...options.chtml,\n          })\n        : new SVG<LiteElement, string, HTMLElement>({\n            fontCache: \"none\",\n            ...options.svg,\n          }),\n  };\n\n  md.use(tex, {\n    render: (content, displayMode) =>\n      renderMath(content, documentOptions, displayMode),\n  });\n};\n","/**\n * Forked from https://github.com/markdown-it/markdown-it-mark/blob/master/index.js\n *\n * Copyright (c) 2014-2015 Vitaly Puzrin, Alex Kocharin.\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport type { PluginSimple } from \"markdown-it\";\nimport type { RuleInline } from \"markdown-it/lib/parser_inline.js\";\nimport type StateInline from \"markdown-it/lib/rules_inline/state_inline.js\";\n\n/*\n * Insert each marker as a separate text token, and add it to delimiter list\n *\n */\nconst tokenize: RuleInline = (state, silent) => {\n  const start = state.pos;\n  const marker = state.src.charAt(start);\n\n  if (silent || marker !== \"=\") return false;\n\n  const scanned = state.scanDelims(state.pos, true);\n  let { length } = scanned;\n\n  if (length < 2) return false;\n  let token;\n\n  if (length % 2) {\n    token = state.push(\"text\", \"\", 0);\n    token.content = marker;\n    length -= 1;\n  }\n\n  for (let i = 0; i < length; i += 2) {\n    token = state.push(\"text\", \"\", 0);\n    token.content = `${marker}${marker}`;\n\n    if (scanned.can_open || scanned.can_close)\n      state.delimiters.push({\n        marker: 0x3d,\n        length: 0, // disable \"rule of 3\" length checks meant for emphasis\n        jump: i / 2, // 1 delimiter = 2 characters\n        token: state.tokens.length - 1,\n        end: -1,\n        open: scanned.can_open,\n        close: scanned.can_close,\n      });\n  }\n\n  state.pos += scanned.length;\n\n  return true;\n};\n\n/*\n * Walk through delimiter list and replace text tokens with tags\n *\n */\nconst postProcess = (\n  state: StateInline,\n  delimiters: StateInline.Delimiter[]\n): void => {\n  let token;\n  const loneMarkers = [];\n  const max = delimiters.length;\n\n  for (let i = 0; i < max; i++) {\n    const startDelim = delimiters[i];\n\n    if (startDelim.marker === 0x3d /* = */ && startDelim.end !== -1) {\n      const endDelim = delimiters[startDelim.end];\n\n      token = state.tokens[startDelim.token];\n      token.type = \"mark_open\";\n      token.tag = \"mark\";\n      token.nesting = 1;\n      token.markup = \"==\";\n      token.content = \"\";\n\n      token = state.tokens[endDelim.token];\n      token.type = \"mark_close\";\n      token.tag = \"mark\";\n      token.nesting = -1;\n      token.markup = \"==\";\n      token.content = \"\";\n\n      if (\n        state.tokens[endDelim.token - 1].type === \"text\" &&\n        state.tokens[endDelim.token - 1].content === \"=\"\n      )\n        loneMarkers.push(endDelim.token - 1);\n    }\n  }\n\n  /*\n   * If a marker sequence has an odd number of characters, it’s splitted\n   * like this: `~~~~~` -> `~` + `~~` + `~~`, leaving one marker at the\n   * start of the sequence.\n   *\n   * So, we have to move all those markers after subsequent s_close tags.\n   *\n   */\n  while (loneMarkers.length) {\n    const i = loneMarkers.pop()!;\n    let j = i + 1;\n\n    while (j < state.tokens.length && state.tokens[j].type === \"mark_close\")\n      j += 1;\n\n    j -= 1;\n\n    if (i !== j) {\n      token = state.tokens[j];\n      state.tokens[j] = state.tokens[i];\n      state.tokens[i] = token;\n    }\n  }\n};\n\nexport const mark: PluginSimple = (md) => {\n  md.inline.ruler.before(\"emphasis\", \"mark\", tokenize);\n  md.inline.ruler2.before(\"emphasis\", \"mark\", (state) => {\n    const tokensMeta = state.tokens_meta || [];\n\n    postProcess(state, state.delimiters);\n\n    for (let curr = 0; curr < tokensMeta.length; curr++) {\n      const tokenMeta = tokensMeta[curr];\n\n      if (tokenMeta?.delimiters) postProcess(state, tokenMeta.delimiters);\n    }\n\n    return true;\n  });\n};\n","import { fs, path } from \"@vuepress/utils\";\nimport { NEWLINES_RE } from \"./utils.js\";\n\nimport type { MarkdownEnv } from \"@vuepress/markdown\";\nimport type { PluginWithOptions } from \"markdown-it\";\nimport type { RuleBlock } from \"markdown-it/lib/parser_block.js\";\nimport type { RuleCore } from \"markdown-it/lib/parser_core.js\";\nimport type Token from \"markdown-it/lib/token.js\";\nimport type { IncludeOptions } from \"../typings/index.js\";\n\ninterface ImportFileInfo {\n  filePath: string;\n  lineStart: number;\n  lineEnd: number | undefined;\n}\n\ninterface IncludeInfo {\n  cwd: string | null;\n  includedFiles: string[];\n  resolvedPath?: boolean;\n}\n\ninterface IncludeEnv extends MarkdownEnv {\n  /** included current paths */\n  includedPaths?: string[];\n  /** included files */\n  includedFiles?: string[];\n}\n\n// regexp to match the import syntax\nconst SYNTAX_RE = /^@include\\(([^)]*?)(?:\\{(\\d+)?-(\\d+)?\\})?\\)$/;\n\nexport const handleInclude = (\n  { filePath, lineStart, lineEnd }: ImportFileInfo,\n  { cwd, includedFiles, resolvedPath }: IncludeInfo\n): string => {\n  let realPath = filePath;\n\n  if (!path.isAbsolute(filePath)) {\n    // if the importPath is relative path, we need to resolve it\n    // according to the markdown filePath\n    if (!cwd) {\n      console.error(`Include: Error when resolving path: ${filePath}`);\n\n      return \"\\nError when resolving path\\n\";\n    }\n\n    realPath = path.resolve(cwd, filePath);\n  }\n\n  includedFiles.push(realPath);\n\n  // check file existence\n  if (!fs.existsSync(realPath)) {\n    console.error(`Include: ${realPath} not found`);\n\n    return \"\\nFile not found\\n\";\n  }\n\n  // read file content\n  const fileContent = fs.readFileSync(realPath).toString();\n\n  // return content\n  const result = fileContent\n    .replace(NEWLINES_RE, \"\\n\")\n    .split(\"\\n\")\n    .slice(lineStart ? lineStart - 1 : lineStart, lineEnd);\n\n  if (resolvedPath && realPath.endsWith(\".md\")) {\n    const dirName = path.dirname(realPath);\n\n    result.unshift(`@include-push(${dirName})`);\n    result.push(\"@include-pop()\");\n  }\n\n  return result.join(\"\\n\").replace(/\\n?$/, \"\\n\");\n};\n\nexport const resolveInclude = (\n  content: string,\n  options: Required<IncludeOptions>,\n  { cwd, includedFiles }: IncludeInfo\n): string =>\n  content\n    .split(\"\\n\")\n    .map((line) => {\n      if (line.startsWith(\"@include\")) {\n        // check if it’s matched the syntax\n        const match = line.match(SYNTAX_RE);\n\n        if (match) {\n          const [, includePath, lineStart, lineEnd] = match;\n          const actualPath = options.getPath(includePath);\n          const resolvedPath =\n            options.resolveImagePath || options.resolveLinkPath;\n\n          const content = handleInclude(\n            {\n              filePath: actualPath,\n              lineStart: lineStart ? Number.parseInt(lineStart, 10) : 0,\n              lineEnd: lineEnd ? Number.parseInt(lineEnd, 10) : undefined,\n            },\n            { cwd, includedFiles, resolvedPath }\n          );\n\n          return options.deep && actualPath.endsWith(\".md\")\n            ? resolveInclude(content, options, {\n                cwd: path.isAbsolute(actualPath)\n                  ? path.dirname(actualPath)\n                  : cwd\n                  ? path.resolve(cwd, path.dirname(actualPath))\n                  : null,\n                includedFiles,\n              })\n            : content;\n        }\n      }\n\n      return line;\n    })\n    .join(\"\\n\");\n\nexport const createIncludeCoreRule =\n  (options: Required<IncludeOptions>): RuleCore =>\n  (state): void => {\n    const env = <IncludeEnv>state.env;\n    const includedFiles = env.includedFiles || (env.includedFiles = []);\n\n    state.src = resolveInclude(state.src, options, {\n      cwd: env.filePath ? path.dirname(env.filePath) : null,\n      includedFiles,\n    });\n  };\n\nconst SYNTAX_PUSH_RE = /^@include-push\\(([^)]*?)\\)$/;\nconst SYNTAX_POP_RE = /^@include-pop\\(\\)$/;\n\nconst includePushRule: RuleBlock = (state, startLine, _, silent): boolean => {\n  const pos = state.bMarks[startLine] + state.tShift[startLine];\n  const max = state.eMarks[startLine];\n  const content = state.src.slice(pos, max);\n  let result: boolean = content.startsWith(\"@include-push\");\n\n  if (result) {\n    // check if it’s matched the syntax\n    const match = content.match(SYNTAX_PUSH_RE);\n\n    if (match) {\n      if (silent) return true;\n\n      const [, includePath] = match;\n\n      state.line = startLine + 1;\n      const token = state.push(\"include_push\", \"\", 0);\n\n      token.map = [startLine, state.line];\n      token.info = includePath;\n      token.markup = \"incPush\";\n    } else {\n      result = false;\n    }\n  }\n\n  return result;\n};\n\nconst includePopRule: RuleBlock = (state, startLine, _, silent): boolean => {\n  const pos = state.bMarks[startLine] + state.tShift[startLine];\n  const max = state.eMarks[startLine];\n  const content = state.src.slice(pos, max);\n  let result: boolean = content.startsWith(\"@include-pop\");\n\n  if (result) {\n    const match = content.match(SYNTAX_POP_RE);\n\n    if (match) {\n      if (silent) return true;\n\n      state.line = startLine + 1;\n\n      const token = state.push(\"include_pop\", \"\", 0);\n\n      token.map = [startLine, state.line];\n      token.markup = \"incPop\";\n    } else result = false;\n  }\n\n  return result;\n};\n\nconst resolveRelatedLink = (\n  attr: string,\n  token: Token,\n  filePath: string,\n  includedPaths?: string[]\n): void => {\n  const attrIndex = token.attrIndex(attr);\n  const url = token.attrs?.[attrIndex][1];\n\n  if (url?.startsWith(\".\") && Array.isArray(includedPaths)) {\n    const { length } = includedPaths;\n\n    if (length) {\n      const includeDir = path.relative(\n        path.dirname(filePath),\n        includedPaths[length - 1]\n      );\n\n      token.attrs![attrIndex][1] = `.${path.sep}${path.join(includeDir, url)}`;\n    }\n  }\n};\n\nexport const include: PluginWithOptions<IncludeOptions> = (\n  md,\n  {\n    getPath = (path: string): string => path,\n    deep = false,\n    resolveLinkPath = true,\n    resolveImagePath = true,\n  } = {}\n): void => {\n  // add md_import core rule\n  md.core.ruler.after(\n    \"normalize\",\n    \"md_import\",\n    createIncludeCoreRule({ getPath, deep, resolveLinkPath, resolveImagePath })\n  );\n\n  if (resolveImagePath || resolveLinkPath) {\n    md.block.ruler.before(\"table\", \"md_include_push\", includePushRule, {\n      alt: [\"paragraph\", \"reference\", \"blockquote\", \"list\"],\n    });\n    md.block.ruler.before(\"table\", \"md_include_pop\", includePopRule, {\n      alt: [\"paragraph\", \"reference\", \"blockquote\", \"list\"],\n    });\n\n    md.renderer.rules[\"include_push\"] = (\n      tokens,\n      index,\n      _options,\n      env: IncludeEnv\n    ): string => {\n      const token = tokens[index];\n      const includedPaths = env.includedPaths || (env.includedPaths = []);\n\n      includedPaths.push(token.info);\n\n      return \"\";\n    };\n\n    md.renderer.rules[\"include_pop\"] = (\n      _tokens,\n      _index,\n      _options,\n      env: IncludeEnv\n    ): string => {\n      const includedPaths = env.includedPaths;\n\n      if (Array.isArray(includedPaths)) includedPaths.pop();\n      else console.error(`Include: include_pop failed, no include_push.`);\n\n      return \"\";\n    };\n\n    if (resolveImagePath) {\n      const defaultRender = md.renderer.rules.image!;\n\n      md.renderer.rules.image = (\n        tokens,\n        index,\n        options,\n        env: IncludeEnv,\n        self\n      ): string => {\n        const token = tokens[index];\n\n        if (env.filePath)\n          resolveRelatedLink(\"src\", token, env.filePath, env.includedPaths);\n\n        // pass token to default renderer.\n        return defaultRender(tokens, index, options, env, self);\n      };\n    }\n\n    if (resolveLinkPath) {\n      const defaultRender =\n        md.renderer.rules[\"link_open\"] ||\n        ((tokens, index, options, _env, self): string =>\n          self.renderToken(tokens, index, options));\n\n      md.renderer.rules[\"link_open\"] = (\n        tokens,\n        index,\n        options,\n        env: IncludeEnv,\n        self\n      ): string => {\n        const token = tokens[index];\n\n        if (env.filePath)\n          resolveRelatedLink(\"href\", token, env.filePath, env.includedPaths);\n\n        // pass token to default renderer.\n        return defaultRender(tokens, index, options, env, self);\n      };\n    }\n  }\n};\n","import { utoa } from \"vuepress-shared/node\";\nimport type { PluginSimple } from \"markdown-it\";\nimport type Renderer from \"markdown-it/lib/renderer.js\";\n\nconst mermaidRender: Renderer.RenderRule = (tokens, index) => {\n  const token = tokens[index];\n  const key = `mermaid-${index}`;\n  const { content } = token;\n\n  return `<Mermaid id=\"${key}\" code=\"${utoa(content)}\"></Mermaid>`;\n};\n\n// a hack for sequenceDiagram\nconst mermaidHackRender = (\n  name: string,\n  content: string,\n  index: number\n): string =>\n  `<Mermaid id=\"mermaid-${index}\" code=\"${utoa(\n    `${name}\\n${content\n      .split(\"\\n\")\n      .map((line) => (line ? `  ${line}` : \"\"))\n      .join(\"\\n\")}`\n  )}\"></Mermaid>`;\n\nexport const mermaid: PluginSimple = (md) => {\n  // Handle ```mermaid blocks\n  const fence = md.renderer.rules.fence;\n\n  md.renderer.rules.fence = (...args): string => {\n    const [tokens, index] = args;\n    const { content, info } = tokens[index];\n\n    if (info.trim() === \"mermaid\") return mermaidRender(...args);\n    if (info.trim() === \"sequence\")\n      return mermaidHackRender(\"sequenceDiagram\", content, index);\n    if (info.trim() === \"class\")\n      return mermaidHackRender(\"classDiagram\", content, index);\n    if (info.trim() === \"state\")\n      return mermaidHackRender(\"stateDiagram-v2\", content, index);\n    if (info.trim() === \"er\")\n      return mermaidHackRender(\"erDiagram\", content, index);\n    if (info.trim() === \"journey\")\n      return mermaidHackRender(\"journey\", content, index);\n    if (info.trim() === \"gantt\")\n      return mermaidHackRender(\"gantt\", content, index);\n    if (info.trim() === \"pie\") return mermaidHackRender(\"pie\", content, index);\n    if (info.trim() === \"git-graph\")\n      return mermaidHackRender(\"gitGraph\", content, index);\n    if (info.trim() === \"c4c\")\n      return mermaidHackRender(\"C4Context\", content, index);\n    if (info.trim() === \"mindmap\")\n      return mermaidHackRender(\"mindmap\", content, index);\n\n    return fence!(...args);\n  };\n\n  md.renderer.rules[\"mermaid\"] = mermaidRender;\n};\n","import { hash } from \"@vuepress/utils\";\nimport { escapeHtml } from \"../utils.js\";\n\nimport type { PluginWithOptions } from \"markdown-it\";\nimport type { RuleBlock } from \"markdown-it/lib/parser_block.js\";\nimport type { PlaygroundData, PlaygroundOptions } from \"../../typings/index.js\";\n\nconst AT_MARKER = `@`;\nconst VALID_MARKERS = [\"file\", \"import\", \"setting\"];\n\nconst getPlaygroundRule =\n  (name: string): RuleBlock =>\n  (state, startLine, endLine, silent) => {\n    let start = state.bMarks[startLine] + state.tShift[startLine];\n    let max = state.eMarks[startLine];\n\n    // Check out the first character quickly,\n    // this should filter out most of non-containers\n    if (state.src[start] !== \":\") return false;\n\n    let pos = start + 1;\n\n    // Check out the rest of the marker string\n    while (pos <= max) {\n      if (state.src[pos] !== \":\") break;\n      pos += 1;\n    }\n\n    const markerCount = pos - start;\n\n    if (markerCount < 3) return false;\n\n    const markup = state.src.slice(start, pos);\n    const params = state.src.slice(pos, max);\n\n    const containerName = params.trimStart().split(\" \", 2)[0];\n\n    const title = params.trimStart().slice(name.length).trim();\n\n    if (containerName.trim() !== name) return false;\n\n    // Since start is found, we can report success here in validation mode\n    if (silent) return true;\n\n    // Search for the end of the block\n    let nextLine = startLine;\n    let autoClosed = false;\n\n    // Search for the end of the block\n    while (\n      // unclosed block should be auto closed by end of document.\n      // also block seems to be auto closed by end of parent\n      nextLine < endLine\n    ) {\n      nextLine += 1;\n      start = state.bMarks[nextLine] + state.tShift[nextLine];\n      max = state.eMarks[nextLine];\n\n      if (start < max && state.sCount[nextLine] < state.blkIndent)\n        // non-empty line with negative indent should stop the list:\n        // - ```\n        //  test\n        break;\n\n      if (\n        // match start\n\n        state.src[start] === \":\" &&\n        // closing fence should be indented less than 4 spaces\n        state.sCount[nextLine] - state.blkIndent < 4\n      ) {\n        // check rest of marker\n        for (pos = start + 1; pos <= max; pos++)\n          if (state.src[pos] !== \":\") break;\n\n        // closing code fence must be at least as long as the opening one\n        if (pos - start >= markerCount) {\n          // make sure tail has spaces only\n          pos = state.skipSpaces(pos);\n\n          if (pos >= max) {\n            // found!\n            autoClosed = true;\n            break;\n          }\n        }\n      }\n    }\n\n    const oldParent = state.parentType;\n    const oldLineMax = state.lineMax;\n\n    // @ts-expect-error\n    state.parentType = `${name}`;\n\n    // this will prevent lazy continuations from ever going past our end marker\n    state.lineMax = nextLine - (autoClosed ? 1 : 0);\n\n    const openToken = state.push(`${name}_open`, \"template\", 1);\n\n    openToken.markup = markup;\n    openToken.block = true;\n    openToken.info = title;\n    openToken.map = [startLine, nextLine - (autoClosed ? 1 : 0)];\n\n    state.md.block.tokenize(\n      state,\n      startLine + 1,\n      nextLine - (autoClosed ? 1 : 0)\n    );\n\n    const closeToken = state.push(`${name}_close`, \"template\", -1);\n\n    closeToken.markup = state.src.slice(start, pos);\n    closeToken.block = true;\n\n    state.parentType = oldParent;\n    state.lineMax = oldLineMax;\n    state.line = nextLine + (autoClosed ? 1 : 0);\n\n    return true;\n  };\n\nconst atMarkerRule =\n  (markerName: string): RuleBlock =>\n  (state, startLine, endLine, silent) => {\n    let start = state.bMarks[startLine] + state.tShift[startLine];\n    let max = state.eMarks[startLine];\n\n    const atMarker = `${AT_MARKER}${markerName}`;\n\n    /*\n     * Check out the first character quickly,\n     * this should filter out most of non-uml blocks\n     */\n    if (state.src.charAt(start) !== \"@\") return false;\n\n    let index;\n\n    // Check out the rest of the marker string\n    for (index = 0; index < atMarker.length; index++)\n      if (atMarker[index] !== state.src[start + index]) return false;\n\n    const markup = state.src.slice(start, start + index);\n    const info = state.src.slice(start + index, max);\n\n    // Since start is found, we can report success here in validation mode\n    if (silent) return true;\n\n    let nextLine = startLine;\n    let autoClosed = false;\n\n    // Search for the end of the block\n    while (\n      // unclosed block should be auto closed by end of document.\n      // also block seems to be auto closed by end of parent\n      nextLine < endLine\n    ) {\n      nextLine += 1;\n      start = state.bMarks[nextLine] + state.tShift[nextLine];\n      max = state.eMarks[nextLine];\n\n      if (start < max && state.sCount[nextLine] < state.blkIndent)\n        // non-empty line with negative indent should stop the list:\n        // - ```\n        //  test\n        break;\n\n      if (\n        // match start\n        state.src[start] === AT_MARKER &&\n        // marker should not be indented with respect of opening fence\n        state.sCount[nextLine] <= state.sCount[startLine]\n      ) {\n        let openMakerMatched = true;\n\n        for (index = 0; index < atMarker.length; index++)\n          if (atMarker[index] !== state.src[start + index]) {\n            openMakerMatched = false;\n            break;\n          }\n\n        if (openMakerMatched) {\n          // found!\n          autoClosed = true;\n          nextLine -= 1;\n          break;\n        }\n      }\n    }\n\n    const oldParent = state.parentType;\n    const oldLineMax = state.lineMax;\n\n    // @ts-expect-error\n    state.parentType = `${markerName}`;\n\n    // this will prevent lazy continuations from ever going past our end marker\n    state.lineMax = nextLine;\n\n    const openToken = state.push(`${markerName}_open`, \"template\", 1);\n\n    openToken.block = true;\n    openToken.markup = markup;\n    openToken.info = info.trim();\n\n    openToken.map = [startLine, nextLine];\n\n    state.md.block.tokenize(state, startLine + 1, nextLine);\n\n    const closeToken = state.push(`${markerName}_close`, \"template\", -1);\n\n    closeToken.block = true;\n    closeToken.markup = \"\";\n\n    state.parentType = oldParent;\n    state.lineMax = oldLineMax;\n    state.line = nextLine + (autoClosed ? 1 : 0);\n\n    return true;\n  };\n\nexport const playground: PluginWithOptions<PlaygroundOptions> = (\n  md,\n  { name = \"playground\", component = \"Playground\", propsGetter } = {\n    name: \"playground\",\n    component: \"Playground\",\n    propsGetter: (playgroundData: PlaygroundData): Record<string, string> => ({\n      key: playgroundData.key,\n      title: playgroundData.title || \"\",\n      files: encodeURIComponent(JSON.stringify(playgroundData.files)),\n      settings: encodeURIComponent(\n        JSON.stringify(playgroundData.settings || {})\n      ),\n    }),\n  }\n) => {\n  md.block.ruler.before(\"fence\", `${name}`, getPlaygroundRule(name), {\n    alt: [\"paragraph\", \"reference\", \"blockquote\", \"list\"],\n  });\n\n  VALID_MARKERS.forEach((marker) => {\n    // WARNING:  Here we use an internal variable to make sure tab rule is not registered\n\n    // @ts-ignore\n    // eslint-disable-next-line\n    if (!md.block.ruler.__rules__.find(({ name }) => name === \"marker\"))\n      md.block.ruler.before(\"fence\", \"tab\", atMarkerRule(marker), {\n        alt: [\"paragraph\", \"reference\", \"blockquote\", \"list\"],\n      });\n  });\n\n  md.renderer.rules[`${name}_open`] = (tokens, index): string => {\n    const { info } = tokens[index];\n\n    const playgroundData: PlaygroundData = {\n      key: hash(`playground${index}-${info}`),\n      title: encodeURIComponent(info),\n      settings: {},\n      files: {},\n    };\n\n    let currentKey: string | null = null;\n    let foundSettings = false;\n\n    for (let i = index; i < tokens.length; i++) {\n      const { block, type, info, content } = tokens[i];\n\n      if (block) {\n        if (type === `${name}_close`) break;\n        if (type === `${name}_open`) continue;\n\n        if (type === \"file_open\") {\n          // File rule must contain a valid file name\n          if (!info) continue;\n          currentKey = info;\n        } else if (type === \"import_open\")\n          playgroundData.importMap = currentKey = info || \"import-map.json\";\n\n        if (type === \"setting_open\") foundSettings = true;\n        if (type === \"setting_close\") foundSettings = false;\n\n        if (\n          type === \"file_close\" ||\n          type === \"import_close\" ||\n          type === \"setting_close\" ||\n          !content\n        ) {\n          tokens[i].type = `${name}_empty`;\n          tokens[i].hidden = true;\n          continue;\n        }\n\n        // parse settings\n        if (foundSettings) {\n          if (type === \"fence\" && info === \"json\")\n            playgroundData.settings = <Record<string, unknown>>(\n              JSON.parse(content.trim())\n            );\n        }\n        // add code block content\n        else if (type === \"fence\" && currentKey)\n          playgroundData.files[currentKey] = {\n            ext: info,\n            content: content,\n          };\n\n        tokens[i].type = `${name}_empty`;\n        tokens[i].hidden = true;\n      }\n    }\n\n    const props = propsGetter(playgroundData);\n\n    return `<${component} ${Object.entries(props)\n      .map(([attr, value]) => `${attr}=\"${escapeHtml(value)}\"`)\n      .join(\" \")}>\\n`;\n  };\n\n  md.renderer.rules[`${name}_close`] = (): string => `</${component}>\\n`;\n};\n","/* eslint-disable */\n/**\n * Edited from https://github.com/microsoft/TypeScript-Website/blob/v2/packages/sandbox/src/vendor/lzstring.min.js\n */\n\n// Original license reproduced below:\n\n// DO WHAT THE FUCK YOU WANT TO PUBLIC LICENSE\n//                     Version 2, December 2004\n//\n//  Copyright (C) 2004 Sam Hocevar <sam@hocevar.net>\n//\n//  Everyone is permitted to copy and distribute verbatim or modified\n//  copies of this license document, and changing it is allowed as long\n//  as the name is changed.\n//\n//             DO WHAT THE FUCK YOU WANT TO PUBLIC LICENSE\n//    TERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND MODIFICATION\n//\n//   0. You just DO WHAT THE FUCK YOU WANT TO.\n//\n\nconst e = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$\";\n\nconst compress = (o: string, r: number, n: (pos: number) => string) => {\n  if (null == o) return \"\";\n\n  let e,\n    t,\n    i,\n    s = <Record<string, number>>{},\n    p = <Record<string, boolean>>{},\n    u = \"\",\n    c = \"\",\n    a = \"\",\n    l = 2,\n    f = 3,\n    h = 2,\n    d = [],\n    m = 0,\n    v = 0;\n\n  for (i = 0; i < o.length; i += 1)\n    if (\n      ((u = o.charAt(i)),\n      Object.prototype.hasOwnProperty.call(s, u) || ((s[u] = f++), (p[u] = !0)),\n      (c = a + u),\n      Object.prototype.hasOwnProperty.call(s, c))\n    )\n      a = c;\n    else {\n      if (Object.prototype.hasOwnProperty.call(p, a)) {\n        if (a.charCodeAt(0) < 256) {\n          for (e = 0; h > e; e++)\n            (m <<= 1), v == r - 1 ? ((v = 0), d.push(n(m)), (m = 0)) : v++;\n          for (t = a.charCodeAt(0), e = 0; 8 > e; e++)\n            (m = (m << 1) | (1 & t)),\n              v == r - 1 ? ((v = 0), d.push(n(m)), (m = 0)) : v++,\n              (t >>= 1);\n        } else {\n          for (t = 1, e = 0; h > e; e++)\n            (m = (m << 1) | t),\n              v == r - 1 ? ((v = 0), d.push(n(m)), (m = 0)) : v++,\n              (t = 0);\n          for (t = a.charCodeAt(0), e = 0; 16 > e; e++)\n            (m = (m << 1) | (1 & t)),\n              v == r - 1 ? ((v = 0), d.push(n(m)), (m = 0)) : v++,\n              (t >>= 1);\n        }\n        l--, 0 == l && ((l = Math.pow(2, h)), h++), delete p[a];\n      } else\n        for (t = s[a], e = 0; h > e; e++)\n          (m = (m << 1) | (1 & t)),\n            v == r - 1 ? ((v = 0), d.push(n(m)), (m = 0)) : v++,\n            (t >>= 1);\n      l--, 0 == l && ((l = Math.pow(2, h)), h++), (s[c] = f++), (a = String(u));\n    }\n\n  if (\"\" !== a) {\n    if (Object.prototype.hasOwnProperty.call(p, a)) {\n      if (a.charCodeAt(0) < 256) {\n        for (e = 0; h > e; e++)\n          (m <<= 1), v == r - 1 ? ((v = 0), d.push(n(m)), (m = 0)) : v++;\n        for (t = a.charCodeAt(0), e = 0; 8 > e; e++)\n          (m = (m << 1) | (1 & t)),\n            v == r - 1 ? ((v = 0), d.push(n(m)), (m = 0)) : v++,\n            (t >>= 1);\n      } else {\n        for (t = 1, e = 0; h > e; e++)\n          (m = (m << 1) | t),\n            v == r - 1 ? ((v = 0), d.push(n(m)), (m = 0)) : v++,\n            (t = 0);\n        for (t = a.charCodeAt(0), e = 0; 16 > e; e++)\n          (m = (m << 1) | (1 & t)),\n            v == r - 1 ? ((v = 0), d.push(n(m)), (m = 0)) : v++,\n            (t >>= 1);\n      }\n      l--, 0 == l && ((l = Math.pow(2, h)), h++), delete p[a];\n    } else\n      for (t = s[a], e = 0; h > e; e++)\n        (m = (m << 1) | (1 & t)),\n          v == r - 1 ? ((v = 0), d.push(n(m)), (m = 0)) : v++,\n          (t >>= 1);\n    l--, 0 == l && ((l = Math.pow(2, h)), h++);\n  }\n\n  for (t = 2, e = 0; h > e; e++)\n    (m = (m << 1) | (1 & t)),\n      v == r - 1 ? ((v = 0), d.push(n(m)), (m = 0)) : v++,\n      (t >>= 1);\n\n  for (;;) {\n    if (((m <<= 1), v == r - 1)) {\n      d.push(n(m));\n      break;\n    }\n    v++;\n  }\n\n  return d.join(\"\");\n};\n\nexport const compressToEncodedURIComponent = (content: string) =>\n  compress(content, 6, (pos: number) => e.charAt(pos));\n","/**\n * This file needs to be updated with typescript major and minor updates\n *\n * Generated from the following code:\n *\n\nJSON.stringify(\n  ts.optionDeclarations.map(({ name, type }) => ({\n    name,\n    type: type instanceof Map ? Object.fromEntries(type) : type,\n  }))\n)\n *\n */\n\nexport const optionDeclarations = [\n  { name: \"help\", type: \"boolean\" },\n  { name: \"help\", type: \"boolean\" },\n  { name: \"watch\", type: \"boolean\" },\n  { name: \"preserveWatchOutput\", type: \"boolean\" },\n  { name: \"listFiles\", type: \"boolean\" },\n  { name: \"explainFiles\", type: \"boolean\" },\n  { name: \"listEmittedFiles\", type: \"boolean\" },\n  { name: \"pretty\", type: \"boolean\" },\n  { name: \"traceResolution\", type: \"boolean\" },\n  { name: \"diagnostics\", type: \"boolean\" },\n  { name: \"extendedDiagnostics\", type: \"boolean\" },\n  { name: \"generateCpuProfile\", type: \"string\" },\n  { name: \"generateTrace\", type: \"string\" },\n  { name: \"incremental\", type: \"boolean\" },\n  { name: \"assumeChangesOnlyAffectDirectDependencies\", type: \"boolean\" },\n  { name: \"locale\", type: \"string\" },\n  { name: \"all\", type: \"boolean\" },\n  { name: \"version\", type: \"boolean\" },\n  { name: \"init\", type: \"boolean\" },\n  { name: \"project\", type: \"string\" },\n  { name: \"build\", type: \"boolean\" },\n  { name: \"showConfig\", type: \"boolean\" },\n  { name: \"listFilesOnly\", type: \"boolean\" },\n  {\n    name: \"target\",\n    type: {\n      es3: 0,\n      es5: 1,\n      es6: 2,\n      es2015: 2,\n      es2016: 3,\n      es2017: 4,\n      es2018: 5,\n      es2019: 6,\n      es2020: 7,\n      es2021: 8,\n      es2022: 9,\n      esnext: 99,\n    },\n  },\n  {\n    name: \"module\",\n    type: {\n      none: 0,\n      commonjs: 1,\n      amd: 2,\n      system: 4,\n      umd: 3,\n      es6: 5,\n      es2015: 5,\n      es2020: 6,\n      es2022: 7,\n      esnext: 99,\n      node16: 100,\n      nodenext: 199,\n    },\n  },\n  { name: \"lib\", type: \"list\" },\n  { name: \"allowJs\", type: \"boolean\" },\n  { name: \"checkJs\", type: \"boolean\" },\n  {\n    name: \"jsx\",\n    type: {\n      preserve: 1,\n      \"react-native\": 3,\n      react: 2,\n      \"react-jsx\": 4,\n      \"react-jsxdev\": 5,\n    },\n  },\n  { name: \"declaration\", type: \"boolean\" },\n  { name: \"declarationMap\", type: \"boolean\" },\n  { name: \"emitDeclarationOnly\", type: \"boolean\" },\n  { name: \"sourceMap\", type: \"boolean\" },\n  { name: \"outFile\", type: \"string\" },\n  { name: \"outDir\", type: \"string\" },\n  { name: \"rootDir\", type: \"string\" },\n  { name: \"composite\", type: \"boolean\" },\n  { name: \"tsBuildInfoFile\", type: \"string\" },\n  { name: \"removeComments\", type: \"boolean\" },\n  { name: \"noEmit\", type: \"boolean\" },\n  { name: \"importHelpers\", type: \"boolean\" },\n  {\n    name: \"importsNotUsedAsValues\",\n    type: { remove: 0, preserve: 1, error: 2 },\n  },\n  { name: \"downlevelIteration\", type: \"boolean\" },\n  { name: \"isolatedModules\", type: \"boolean\" },\n  { name: \"strict\", type: \"boolean\" },\n  { name: \"noImplicitAny\", type: \"boolean\" },\n  { name: \"strictNullChecks\", type: \"boolean\" },\n  { name: \"strictFunctionTypes\", type: \"boolean\" },\n  { name: \"strictBindCallApply\", type: \"boolean\" },\n  { name: \"strictPropertyInitialization\", type: \"boolean\" },\n  { name: \"noImplicitThis\", type: \"boolean\" },\n  { name: \"useUnknownInCatchVariables\", type: \"boolean\" },\n  { name: \"alwaysStrict\", type: \"boolean\" },\n  { name: \"noUnusedLocals\", type: \"boolean\" },\n  { name: \"noUnusedParameters\", type: \"boolean\" },\n  { name: \"exactOptionalPropertyTypes\", type: \"boolean\" },\n  { name: \"noImplicitReturns\", type: \"boolean\" },\n  { name: \"noFallthroughCasesInSwitch\", type: \"boolean\" },\n  { name: \"noUncheckedIndexedAccess\", type: \"boolean\" },\n  { name: \"noImplicitOverride\", type: \"boolean\" },\n  { name: \"noPropertyAccessFromIndexSignature\", type: \"boolean\" },\n  {\n    name: \"moduleResolution\",\n    type: { node: 2, classic: 1, node16: 3, nodenext: 99 },\n  },\n  { name: \"baseUrl\", type: \"string\" },\n  { name: \"paths\", type: \"object\" },\n  { name: \"rootDirs\", type: \"list\" },\n  { name: \"typeRoots\", type: \"list\" },\n  { name: \"types\", type: \"list\" },\n  { name: \"allowSyntheticDefaultImports\", type: \"boolean\" },\n  { name: \"esModuleInterop\", type: \"boolean\" },\n  { name: \"preserveSymlinks\", type: \"boolean\" },\n  { name: \"allowUmdGlobalAccess\", type: \"boolean\" },\n  { name: \"moduleSuffixes\", type: \"list\" },\n  { name: \"sourceRoot\", type: \"string\" },\n  { name: \"mapRoot\", type: \"string\" },\n  { name: \"inlineSourceMap\", type: \"boolean\" },\n  { name: \"inlineSources\", type: \"boolean\" },\n  { name: \"experimentalDecorators\", type: \"boolean\" },\n  { name: \"emitDecoratorMetadata\", type: \"boolean\" },\n  { name: \"jsxFactory\", type: \"string\" },\n  { name: \"jsxFragmentFactory\", type: \"string\" },\n  { name: \"jsxImportSource\", type: \"string\" },\n  { name: \"resolveJsonModule\", type: \"boolean\" },\n  { name: \"out\", type: \"string\" },\n  { name: \"reactNamespace\", type: \"string\" },\n  { name: \"skipDefaultLibCheck\", type: \"boolean\" },\n  { name: \"charset\", type: \"string\" },\n  { name: \"emitBOM\", type: \"boolean\" },\n  { name: \"newLine\", type: { crlf: 0, lf: 1 } },\n  { name: \"noErrorTruncation\", type: \"boolean\" },\n  { name: \"noLib\", type: \"boolean\" },\n  { name: \"noResolve\", type: \"boolean\" },\n  { name: \"stripInternal\", type: \"boolean\" },\n  { name: \"disableSizeLimit\", type: \"boolean\" },\n  { name: \"disableSourceOfProjectReferenceRedirect\", type: \"boolean\" },\n  { name: \"disableSolutionSearching\", type: \"boolean\" },\n  { name: \"disableReferencedProjectLoad\", type: \"boolean\" },\n  { name: \"noImplicitUseStrict\", type: \"boolean\" },\n  { name: \"noEmitHelpers\", type: \"boolean\" },\n  { name: \"noEmitOnError\", type: \"boolean\" },\n  { name: \"preserveConstEnums\", type: \"boolean\" },\n  { name: \"declarationDir\", type: \"string\" },\n  { name: \"skipLibCheck\", type: \"boolean\" },\n  { name: \"allowUnusedLabels\", type: \"boolean\" },\n  { name: \"allowUnreachableCode\", type: \"boolean\" },\n  { name: \"suppressExcessPropertyErrors\", type: \"boolean\" },\n  { name: \"suppressImplicitAnyIndexErrors\", type: \"boolean\" },\n  { name: \"forceConsistentCasingInFileNames\", type: \"boolean\" },\n  { name: \"maxNodeModuleJsDepth\", type: \"number\" },\n  { name: \"noStrictGenericChecks\", type: \"boolean\" },\n  { name: \"useDefineForClassFields\", type: \"boolean\" },\n  { name: \"preserveValueImports\", type: \"boolean\" },\n  { name: \"keyofStringsOnly\", type: \"boolean\" },\n  { name: \"plugins\", type: \"list\" },\n  { name: \"moduleDetection\", type: { auto: 2, legacy: 1, force: 3 } },\n];\n","import { deepAssign } from \"vuepress-shared/node\";\nimport { compressToEncodedURIComponent } from \"./ventors/lzstring.js\";\nimport { optionDeclarations } from \"./ventors/optionDelcarations.js\";\n\nimport type { CompilerOptions } from \"typescript\";\nimport type {\n  PlaygroundData,\n  PlaygroundOptions,\n  TSPresetPlaygroundOptions,\n} from \"../../typings/index.js\";\n\n/** Gets a query string representation (hash + queries) */\nexport const getURL = (\n  code: string,\n  compilerOptions: CompilerOptions = {}\n): string => {\n  const hash = `#code/${compressToEncodedURIComponent(code)}`;\n\n  const queryString = Object.entries(compilerOptions)\n    .map(([key, value]) => {\n      const item = optionDeclarations.find((option) => option.name === key)!;\n\n      if (!item || value === null || value === undefined) return \"\";\n\n      const { type } = item;\n\n      if (typeof type === \"object\") {\n        const result = type[value as keyof typeof type];\n\n        return result?.toString() || \"\";\n      }\n\n      return `${key}=${encodeURIComponent(value as string)}`;\n    })\n    .filter((value) => value.length)\n    .join(\"&\");\n\n  return `${queryString ? `?${queryString}` : \"\"}${hash}`;\n};\n\nexport const getTSPlaygroundPreset = ({\n  service = \"https://www.typescriptlang.org/play\",\n  ...compilerOptions\n}: TSPresetPlaygroundOptions = {}): PlaygroundOptions => ({\n  name: \"playground#ts\",\n  propsGetter: ({\n    title = \"\",\n    files,\n    settings,\n    key,\n  }: PlaygroundData): Record<string, string> => {\n    const tsfiles = Object.keys(files).filter((key) => key.endsWith(\".ts\"));\n\n    if (tsfiles.length !== 1)\n      console.error(\"TS playground only support 1 ts file\");\n\n    const link = `${service}${getURL(\n      files[tsfiles[0]].content,\n      deepAssign(\n        {},\n        <CompilerOptions>settings || {},\n        <CompilerOptions>compilerOptions\n      )\n    )}`;\n\n    return {\n      key,\n      title,\n      link: encodeURIComponent(link),\n    };\n  },\n});\n","import { deepAssign } from \"vuepress-shared/node\";\nimport type {\n  PlaygroundData,\n  PlaygroundOptions,\n  VuePresetPlaygroundOptions,\n} from \"../../typings/index.js\";\n\nconst VUE_SUPPORTED_EXTENSIONS = [\n  \"html\",\n  \"js\",\n  \"ts\",\n  \"vue\",\n  \"jsx\",\n  \"tsx\",\n  \"json\",\n];\n\nexport const getVuePlaygroundPreset = (\n  options: VuePresetPlaygroundOptions = {}\n): PlaygroundOptions => ({\n  name: \"playground#vue\",\n  propsGetter: (playgroundData: PlaygroundData): Record<string, string> => {\n    const { title = \"\", files, settings: localSettings, key } = playgroundData;\n    const settings = {\n      // defaults\n      service: \"https://sfc.vuejs.org/\",\n      dev: false,\n      ssr: false,\n      ...options,\n      ...localSettings,\n    };\n\n    return {\n      key,\n      title,\n      link: encodeURIComponent(\n        `${settings.service}#${\n          // dev flag\n          settings.dev ? \"__DEV__\" : \"\"\n        }${\n          // ssr flag\n          settings.ssr ? \"__SSR__\" : \"\"\n        }${\n          // code base64\n          Buffer.from(\n            JSON.stringify(\n              Object.fromEntries(\n                Object.entries(files)\n                  .filter(([, { ext }]) =>\n                    VUE_SUPPORTED_EXTENSIONS.includes(ext)\n                  )\n                  .map(([key, { content }]) => {\n                    if (key === \"import-map.json\") {\n                      const importMap = <\n                        {\n                          imports: Record<string, string>;\n                          scopes?: Record<string, Record<string, string>>;\n                        }\n                      >JSON.parse(content);\n\n                      return [\n                        key,\n                        JSON.stringify(\n                          deepAssign(\n                            {},\n                            {\n                              // insure vue exists and vue/server-render exists when ssr is on\n                              imports: {\n                                vue: \"https://sfc.vuejs.org/vue.runtime.esm-browser.js\",\n                                ...(settings.ssr\n                                  ? {\n                                      // eslint-disable-next-line @typescript-eslint/naming-convention\n                                      \"vue/server-renderer\":\n                                        \"https://sfc.vuejs.org/server-renderer.esm-browser.js\",\n                                    }\n                                  : {}),\n                              },\n                            },\n                            importMap\n                          )\n                        ),\n                      ];\n                    }\n\n                    return [key, content];\n                  })\n              )\n            )\n          ).toString(\"base64\")\n        }`\n      ),\n    };\n  },\n});\n","import type { PluginWithOptions } from \"markdown-it\";\nimport type { RuleBlock } from \"markdown-it/lib/parser_block.js\";\nimport type { RenderRule } from \"markdown-it/lib/renderer.js\";\n\nexport interface MarkdownItUMLOptions {\n  /** name */\n  name: string;\n  /** open marker */\n  open: string;\n  /** close marker */\n  close: string;\n  /** render function */\n  render: RenderRule;\n}\n\nexport const uml: PluginWithOptions<MarkdownItUMLOptions> = (\n  md,\n  { name, open, close, render } = {\n    name: \"uml\",\n    open: \"start\",\n    close: \"end\",\n    render: (tokens, index): string => {\n      const token = tokens[index];\n      const { content, info, type } = token;\n\n      return `<div class=\"${type}\" title=\"${info}\">${content}</div>`;\n    },\n  }\n) => {\n  const OPEN_MARKER = `@${open}`;\n  const CLOSE_MARKER = `@${close}`;\n\n  const umlRule: RuleBlock = (state, startLine, endLine, silent) => {\n    let i;\n    let autoClosed = false;\n    let start = state.bMarks[startLine] + state.tShift[startLine];\n    let max = state.eMarks[startLine];\n\n    /*\n     * Check out the first character quickly,\n     * this should filter out most of non-uml blocks\n     */\n    if (state.src.charAt(start) !== \"@\") return false;\n\n    // Check out the rest of the marker string\n    for (i = 0; i < OPEN_MARKER.length; ++i)\n      if (OPEN_MARKER[i] !== state.src[start + i]) return false;\n\n    const markup = state.src.slice(start, start + i);\n    const params = state.src.slice(start + i, max);\n\n    // Since start is found, we can report success here in validation mode\n    if (silent) return true;\n\n    let nextLine = startLine;\n\n    // Search for the end of the block\n    while (\n      /*\n       * unclosed block should be auto closed by end of document.\n       * also block seems to be auto closed by end of parent\n       */\n      nextLine < endLine\n    ) {\n      start = state.bMarks[nextLine] + state.tShift[nextLine];\n      max = state.eMarks[nextLine];\n\n      if (start < max && state.sCount[nextLine] < state.blkIndent)\n        /*\n         * non-empty line with negative indent should stop the list:\n         * - ```\n         *  test\n         */\n        break;\n\n      if (\n        // didn’t find the closing fence\n        state.src.charAt(start) === \"@\" &&\n        // closing fence should not be indented with respect of opening fence\n        state.sCount[nextLine] <= state.sCount[startLine]\n      ) {\n        let closeMarkerMatched = true;\n\n        for (i = 0; i < CLOSE_MARKER.length; ++i)\n          if (CLOSE_MARKER[i] !== state.src[start + i]) {\n            closeMarkerMatched = false;\n            break;\n          }\n\n        if (\n          closeMarkerMatched &&\n          // make sure tail has spaces only\n          state.skipSpaces(start + i) >= max\n        ) {\n          // found!\n          autoClosed = true;\n          break;\n        }\n      }\n\n      nextLine += 1;\n    }\n\n    const contents = state.src\n      .split(\"\\n\")\n      .slice(startLine + 1, nextLine)\n      .join(\"\\n\");\n\n    const token = state.push(name, \"fence\", 0);\n\n    token.block = true;\n    token.info = params;\n    token.content = contents;\n    token.map = [startLine, nextLine];\n    token.markup = markup;\n\n    state.line = nextLine + (autoClosed ? 1 : 0);\n\n    return true;\n  };\n\n  md.block.ruler.before(\"fence\", name, umlRule, {\n    alt: [\"paragraph\", \"reference\", \"blockquote\", \"list\"],\n  });\n\n  md.renderer.rules[name] = render;\n};\n","import { utoa } from \"vuepress-shared/node\";\nimport { uml } from \"./uml.js\";\n\nimport type { PluginSimple } from \"markdown-it\";\n\nexport const presentation: PluginSimple = (md) => {\n  md.use(uml, {\n    name: \"presentation\",\n    open: \"slidestart\",\n    close: \"slideend\",\n    render: (tokens, index): string => {\n      const token = tokens[index];\n      const key = `presentation-${index}`;\n      const { content, info } = token;\n\n      return `<Presentation id=\"${key}\" code=\"${utoa(content)}\" theme=\"${\n        info.trim() || \"auto\"\n      }\"></Presentation>`;\n    },\n  });\n};\n","/**\n * Forked from https://github.com/markdown-it/markdown-it-sub/blob/master/index.js\n *\n * Copyright (c) 2014-2015 Vitaly Puzrin, Alex Kocharin.\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport { UNESCAPE_RE } from \"./utils.js\";\n\nimport type { PluginSimple } from \"markdown-it\";\nimport type { RuleInline } from \"markdown-it/lib/parser_inline.js\";\n\nconst subscriptRender: RuleInline = (state, silent) => {\n  let found;\n  let token;\n  const max = state.posMax;\n  const start = state.pos;\n\n  if (state.src.charAt(start) !== \"~\") return false;\n\n  if (silent) return false; // don’t run any pairs in validation mode\n  if (start + 2 >= max) return false;\n\n  state.pos = start + 1;\n\n  while (state.pos < max) {\n    if (state.src.charAt(state.pos) === \"~\") {\n      found = true;\n      break;\n    }\n\n    state.md.inline.skipToken(state);\n  }\n\n  if (!found || start + 1 === state.pos) {\n    state.pos = start;\n\n    return false;\n  }\n\n  const content = state.src.slice(start + 1, state.pos);\n\n  // don’t allow unescaped spaces/newlines inside\n  if (/(^|[^\\\\])(\\\\\\\\)*\\s/u.exec(content)) {\n    state.pos = start;\n\n    return false;\n  }\n\n  // found!\n  state.posMax = state.pos;\n  state.pos = start + 1;\n\n  // Earlier we checked !silent, but this implementation does not need it\n  token = state.push(\"sub_open\", \"sub\", 1);\n  token.markup = \"~\";\n\n  token = state.push(\"text\", \"\", 0);\n  token.content = content.replace(UNESCAPE_RE, \"$1\");\n\n  token = state.push(\"sub_close\", \"sub\", -1);\n  token.markup = \"~\";\n\n  state.pos = state.posMax + 1;\n  state.posMax = max;\n\n  return true;\n};\n\nexport const sub: PluginSimple = (md) => {\n  md.inline.ruler.after(\"emphasis\", \"sub\", subscriptRender);\n};\n","/**\n * Forked from https://github.com/markdown-it/markdown-it-sup/blob/master/index.js\n *\n * Copyright (c) 2014-2015 Vitaly Puzrin, Alex Kocharin.\n *\n * Permission is hereby granted, free of charge, to any person\n * obtaining a copy of this software and associated documentation\n * files (the \"Software\"), to deal in the Software without\n * restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the\n * Software is furnished to do so, subject to the following\n * conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n * OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport { UNESCAPE_RE } from \"./utils.js\";\n\nimport type { PluginSimple } from \"markdown-it\";\nimport type { RuleInline } from \"markdown-it/lib/parser_inline.js\";\n\nconst superscriptRender: RuleInline = (state, silent) => {\n  let found;\n  let token;\n  const max = state.posMax;\n  const start = state.pos;\n\n  if (state.src.charAt(start) !== \"^\") return false;\n\n  if (silent) return false; // don’t run any pairs in validation mode\n  if (start + 2 >= max) return false;\n\n  state.pos = start + 1;\n\n  while (state.pos < max) {\n    if (state.src.charAt(state.pos) === \"^\") {\n      found = true;\n      break;\n    }\n\n    state.md.inline.skipToken(state);\n  }\n\n  if (!found || start + 1 === state.pos) {\n    state.pos = start;\n\n    return false;\n  }\n\n  const content = state.src.slice(start + 1, state.pos);\n\n  // don’t allow unescaped spaces/newlines inside\n  if (/(^|[^\\\\])(\\\\\\\\)*\\s/u.exec(content)) {\n    state.pos = start;\n\n    return false;\n  }\n\n  // found!\n  state.posMax = state.pos;\n  state.pos = start + 1;\n\n  // Earlier we checked !silent, but this implementation does not need it\n  token = state.push(\"sup_open\", \"sup\", 1);\n  token.markup = \"^\";\n\n  token = state.push(\"text\", \"\", 0);\n  token.content = content.replace(UNESCAPE_RE, \"$1\");\n\n  token = state.push(\"sup_close\", \"sup\", -1);\n  token.markup = \"^\";\n\n  state.pos = state.posMax + 1;\n  state.posMax = max;\n\n  return true;\n};\n\nexport const sup: PluginSimple = (md) => {\n  md.inline.ruler.after(\"emphasis\", \"sup\", superscriptRender);\n};\n","/**\n * Forked from https://github.com/linsir/markdown-it-task-checkbox/blob/master/index.js\n *\n * Copyright (c) 2016, Revin Guillen\n * Modified code Copyright (c) 2016, linsir, MIT License\n *\n * Permission to use, copy, modify, and/or distribute this software for any\n * purpose with or without fee is hereby granted, provided that the above\n * copyright notice and this permission notice appear in all copies.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES\n * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF\n * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR\n * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES\n * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN\n * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF\n * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.\n */\n\nimport Token from \"markdown-it/lib/token.js\";\nimport {\n  getParentTokenIndex,\n  isInlineToken,\n  isParagraphToken,\n  isListItemToken,\n  setTokenAttr,\n} from \"./utils.js\";\n\nimport type { PluginWithOptions } from \"markdown-it\";\nimport type StateCore from \"markdown-it/lib/rules_core/state_core.js\";\nimport type { TaskListOptions } from \"../typings/index.js\";\n\ninterface TaskListEnv {\n  tasklists: number;\n}\n\ninterface TaskListStateCore extends StateCore {\n  env: TaskListEnv;\n}\n// The leading whitespace in a list item (token.content) is already trimmed off by markdown-it.\n// The regex below checks for '[ ] ' or '[x] ' or '[X] ' at the start of the string token.content,\n// where the space is either a normal space or a non-breaking space (character 160 = \\u00A0).\nconst startsWithTodoMarkdown = (token: Token): boolean =>\n  /^\\[[xX \\u00A0]\\][ \\u00A0]/.test(token.content);\n\nconst isTaskListItem = (tokens: Token[], index: number): boolean =>\n  isInlineToken(tokens[index]) &&\n  isParagraphToken(tokens[index - 1]) &&\n  isListItemToken(tokens[index - 2]) &&\n  startsWithTodoMarkdown(tokens[index]);\n\nconst generateCheckbox = (token: Token, id: string, disabled = true): Token => {\n  const checkbox = new Token(\"checkbox_input\", \"input\", 0);\n\n  checkbox.attrs = [\n    [\"type\", \"checkbox\"],\n    [\"class\", \"task-list-item-checkbox\"],\n    [\"id\", id],\n  ];\n\n  // if token.content starts with '[x] ' or '[X] '\n  if (/^\\[[xX]\\][ \\u00A0]/.test(token.content))\n    checkbox.attrs.push([\"checked\", \"checked\"]);\n\n  if (disabled) checkbox.attrs.push([\"disabled\", \"disabled\"]);\n\n  return checkbox;\n};\n\nconst beginLabel = (id: string): Token => {\n  const label = new Token(\"label_open\", \"label\", 1);\n\n  label.attrs = [\n    [\"class\", \"task-list-item-label\"],\n    [\"for\", id],\n  ];\n\n  return label;\n};\n\nconst endLabel = (): Token => new Token(\"label_close\", \"label\", -1);\n\nconst todoify = (\n  token: Token,\n  state: TaskListStateCore,\n  options: Required<TaskListOptions>\n): void => {\n  const id = `task-item-${state.env.tasklists++}`;\n\n  token.children = token.children || [];\n\n  // remove the checkbox syntax letter\n  token.children[0].content = token.children[0].content.slice(3);\n\n  if (options.label) {\n    // add label\n    token.children.unshift(beginLabel(id));\n    token.children.push(endLabel());\n  }\n  // checkbox\n  token.children.unshift(generateCheckbox(token, id, options.disabled));\n};\n\nexport const tasklist: PluginWithOptions<TaskListOptions> = (\n  md,\n  { disabled = true, label = true } = {}\n) => {\n  md.core.ruler.after(\n    \"inline\",\n    \"github-task-lists\",\n    (state: TaskListStateCore) => {\n      const tokens = state.tokens;\n\n      if (!state.env.tasklists) state.env.tasklists = 0;\n\n      for (let i = 2; i < tokens.length; i++) {\n        if (isTaskListItem(tokens, i)) {\n          todoify(tokens[i], state, { disabled, label });\n          setTokenAttr(tokens[i - 2], \"class\", \"task-list-item\");\n          setTokenAttr(\n            tokens[getParentTokenIndex(tokens, i - 2)],\n            \"class\",\n            \"task-list-container\"\n          );\n        }\n      }\n\n      return true;\n    }\n  );\n};\n","import { container } from \"./container.js\";\n\nimport type { PluginSimple } from \"markdown-it\";\n\nexport const vPre: PluginSimple = (md) => {\n  container(md, {\n    name: \"v-pre\",\n    openRender: () => `<div v-pre>\\n`,\n    closeRender: () => \"</div>\\n\",\n  });\n};\n","import type { MarkdownEnv } from \"@vuepress/markdown\";\nimport type { PageFrontmatter } from \"@vuepress/shared\";\nimport type { PluginWithOptions } from \"markdown-it\";\nimport type Token from \"markdown-it/lib/token.js\";\nimport type { StylizeOptions } from \"../typings/index.js\";\n\nexport interface StylizeFrontmatter {\n  /**\n   * Content to be skipped in this page\n   */\n  noStylize?: string[];\n}\n\nexport interface StylizeMarkdownEnv extends MarkdownEnv {\n  frontmatter: PageFrontmatter<StylizeFrontmatter>;\n}\n\nconst scanTokens = (\n  tokens: Token[],\n  options: StylizeOptions,\n  skipContents: string[] = []\n): void => {\n  for (let index = 1, len = tokens.length; index < len - 1; index++) {\n    const token = tokens[index];\n    const { content, type } = token;\n\n    // skip current token\n    if (type !== \"text\" || skipContents.includes(content)) continue;\n\n    const config = options.find(({ matcher }) =>\n      typeof matcher === \"string\" ? matcher === content : matcher.test(content)\n    );\n    const tokenPrev = tokens[index - 1];\n    const tokenNext = tokens[index + 1];\n\n    if (\n      config &&\n      tokenPrev.tag === tokenNext.tag &&\n      tokenPrev.nesting === 1 &&\n      tokenNext.nesting === -1\n    ) {\n      const result = config.replacer({\n        tag: tokenPrev.tag,\n        content: token.content,\n        attrs: Object.fromEntries(tokenPrev.attrs || []),\n      });\n\n      if (result) {\n        tokenPrev.tag = tokenNext.tag = result.tag;\n        tokenPrev.attrs = Object.entries(result.attrs);\n        token.content = result.content;\n      }\n\n      // skip 2 tokens\n      index += 2;\n    }\n  }\n};\n\nexport const stylize: PluginWithOptions<StylizeOptions> = (\n  md,\n  options = []\n) => {\n  if (Object.keys(options).length == 0) return;\n\n  md.core.ruler.push(\"stylize_tag\", ({ env, tokens }) => {\n    const { noStylize } = (<StylizeMarkdownEnv>env).frontmatter || {};\n\n    tokens.forEach(({ type, children }) => {\n      if (type === \"inline\") scanTokens(children || [], options, noStylize);\n    });\n  });\n};\n","import { playground } from \"./playground/index.js\";\n\nimport type { PluginSimple } from \"markdown-it\";\nimport type { PlaygroundData } from \"../typings/index.js\";\nimport type { VuePlaygroundOptions } from \"../../shared/index.js\";\n\nexport const DEFAULT_VUE_PLAYGROUND_OPTIONS: VuePlaygroundOptions = {\n  autoResize: true,\n  showCode: false,\n  showCompileOutput: false,\n  showImportMap: true,\n  clearConsole: false,\n  layout: \"vertical\",\n  ssr: false,\n};\nconst VUE_SUPPORTED_EXTENSIONS = [\n  \"html\",\n  \"js\",\n  \"ts\",\n  \"vue\",\n  \"jsx\",\n  \"tsx\",\n  \"json\",\n];\n\nconst encodeFiles = (files: PlaygroundData[\"files\"]): string =>\n  Buffer.from(\n    JSON.stringify(\n      Object.fromEntries(\n        Object.entries(files)\n          .filter(([, { ext }]) => VUE_SUPPORTED_EXTENSIONS.includes(ext))\n          .map(([key, config]) => [key, config.content])\n      )\n    )\n  ).toString(\"base64\");\n\nexport const vuePlayground: PluginSimple = (md) => {\n  md.use(playground, {\n    name: \"vue-playground\",\n    component: \"VuePlayground\",\n    propsGetter: ({ title = \"\", key, files, settings }: PlaygroundData) => ({\n      title,\n      key,\n      settings: encodeURIComponent(JSON.stringify(settings || {})),\n      files: encodeURIComponent(encodeFiles(files)),\n    }),\n  });\n};\n","import type { MarkdownEnhanceLocaleConfig } from \"./typings/index.js\";\n\nexport const markdownEnhanceLocales: MarkdownEnhanceLocaleConfig = {\n  \"/en/\": {\n    info: \"Info\",\n    note: \"Note\",\n    tip: \"Tips\",\n    warning: \"Note\",\n    danger: \"Warning\",\n    details: \"Details\",\n  },\n\n  \"/zh/\": {\n    info: \"相关信息\",\n    note: \"注\",\n    tip: \"提示\",\n    warning: \"注意\",\n    danger: \"警告\",\n    details: \"详情\",\n  },\n\n  \"/zh-tw/\": {\n    info: \"相關信息\",\n    note: \"注\",\n    tip: \"提示\",\n    warning: \"注意\",\n    danger: \"警告\",\n    details: \"詳情\",\n  },\n\n  \"/de-at/\": {\n    info: \"Information\",\n    note: \"Note\",\n    tip: \"Tips\",\n    warning: \"Notiz\",\n    danger: \"Warnung\",\n    details: \"Details\",\n  },\n\n  \"/vi/\": {\n    info: \"Thông tin\",\n    note: \"Note\",\n    tip: \"Tips\",\n    warning: \"Lưu ý\",\n    danger: \"Cẩn thận\",\n    details: \"Chi tiết\",\n  },\n\n  \"/uk/\": {\n    info: \"Інформація\",\n    note: \"Note\",\n    tip: \"Поради\",\n    warning: \"Примітка\",\n    danger: \"Увага\",\n    details: \"Деталь\",\n  },\n\n  \"/ru/\": {\n    info: \"Инфо\",\n    note: \"Заметка\",\n    tip: \"Совет\",\n    warning: \"Примечание\",\n    danger: \"Предупреждение\",\n    details: \"Подробности\",\n  },\n\n  \"/br/\": {\n    info: \"Informativo\",\n    note: \"Note\",\n    tip: \"Dicas\",\n    warning: \"Avisos\",\n    danger: \"Cuidado\",\n    details: \"Detalhe\",\n  },\n\n  \"/pl/\": {\n    info: \"Info\",\n    note: \"Notatka\",\n    tip: \"Porady\",\n    warning: \"Notatka\",\n    danger: \"Ostrzeżenie\",\n    details: \"Dane\",\n  },\n\n  \"/sk/\": {\n    info: \"Info\",\n    note: \"Poznámka\",\n    tip: \"Tip\",\n    warning: \"Upozornenie\",\n    danger: \"Pozor\",\n    details: \"Podrobnosti\",\n  },\n\n  \"/fr/\": {\n    info: \"Info\",\n    note: \"Note\",\n    tip: \"Conseil\",\n    warning: \"Note\",\n    danger: \"Avertissement\",\n    details: \"Details\",\n  },\n\n  \"/es/\": {\n    info: \"Información\",\n    note: \"Nota\",\n    tip: \"Consejos\",\n    warning: \"Aviso\",\n    danger: \"Advertencia\",\n    details: \"Detalles\",\n  },\n\n  \"/ja/\": {\n    info: \"関連情報\",\n    note: \"注\",\n    tip: \"ヒント\",\n    warning: \"注意\",\n    danger: \"警告\",\n    details: \"詳細\",\n  },\n\n  \"/tr/\": {\n    info: \"Bilgi\",\n    note: \"Not\",\n    tip: \"Tavsiye\",\n    warning: \"Uyarı\",\n    danger: \"Tehlike\",\n    details: \"Detay\",\n  },\n\n  \"/ko/\": {\n    info: \"정보\",\n    note: \"노트\",\n    tip: \"팁\",\n    warning: \"경고\",\n    danger: \"위험\",\n    details: \"세부사항\",\n  },\n};\n","import { Logger } from \"vuepress-shared/node\";\n\nexport const MATHML_TAGS = [\n  \"math\",\n  \"maction\",\n  \"maligngroup\",\n  \"malignmark\",\n  \"menclose\",\n  \"merror\",\n  \"mfenced\",\n  \"mfrac\",\n  \"mglyph\",\n  \"mi\",\n  \"mlabeledtr\",\n  \"mlongdiv\",\n  \"mmutiscripts\",\n  \"mn\",\n  \"mo\",\n  \"mover\",\n  \"mpadded\",\n  \"mphantom\",\n  \"mroot\",\n  \"mrow\",\n  \"ms\",\n  \"mscarries\",\n  \"mscarry\",\n  \"msgroup\",\n  \"msline\",\n  \"mspace\",\n  \"msqrt\",\n  \"msrow\",\n  \"mstack\",\n  \"mstyle\",\n  \"msub\",\n  \"msup\",\n  \"msubsup\",\n  \"mtable\",\n  \"mtd\",\n  \"mtext\",\n  \"mtr\",\n  \"munder\",\n  \"munderover\",\n  \"semantics\",\n  \"annotation\",\n  \"annotation-xml\",\n];\n\nexport const logger = new Logger(\"vuepress-plugin-md-enhance\");\n","import { logger } from \"@vuepress/utils\";\n\nimport type { App, Page } from \"@vuepress/core\";\nimport type { MarkdownEnhanceOptions } from \"./options.js\";\n\nexport const getCheckLinksStatus = (\n  app: App,\n  options: Partial<MarkdownEnhanceOptions>\n): boolean => {\n  const { linkCheck = \"dev\" } = options;\n\n  return typeof linkCheck === \"boolean\"\n    ? linkCheck\n    : // always check\n      linkCheck === \"always\" ||\n        // enable in dev\n        (app.env.isDev && linkCheck === \"dev\") ||\n        // enabled in build\n        (app.env.isBuild && linkCheck === \"build\") ||\n        false;\n};\n\nexport const checkLinks = (page: Page, app: App): void => {\n  const path = page.filePathRelative || page.path;\n  const { pages } = app;\n\n  const markdownLinks = page.links.filter(({ raw }) =>\n    raw.match(/.md((?:\\?|#).*)?$/)\n  );\n\n  const brokenLinks = [\n    ...markdownLinks\n      // relative markdown links\n      .filter(({ raw }) => !raw.startsWith(\"/\"))\n      .filter(({ relative }) =>\n        // check whether the page exists\n        pages.every(({ filePathRelative }) => filePathRelative !== relative)\n      ),\n    ...markdownLinks\n      // absolute markdown links\n      .filter(({ raw }) => raw.startsWith(\"/\"))\n      .filter(({ absolute }) =>\n        // check whether the page exists\n        pages.every(\n          ({ filePathRelative }) =>\n            !filePathRelative ||\n            `${app.options.base}${filePathRelative}` !== absolute\n        )\n      ),\n  ].map(({ raw }) => raw);\n\n  if (brokenLinks.length)\n    logger.warn(`Broken links found in ${path}: ${brokenLinks.join(\", \")}`);\n};\n","import { chalk } from \"@vuepress/utils\";\nimport { logger } from \"../utils.js\";\n\nexport interface DeprecatedLoggerOptions {\n  options: Record<string, unknown>;\n  deprecatedOption: string;\n  newOption: string;\n  msg?: string;\n  scope?: string;\n}\n\nexport const deprecatedLogger = ({\n  options,\n  deprecatedOption,\n  newOption,\n  msg = \"\",\n  scope = \"\",\n}: DeprecatedLoggerOptions): void => {\n  if (deprecatedOption in options) {\n    logger.warn(\n      `${chalk.magenta(deprecatedOption)} is ${chalk.yellow(\"deprecated\")}${\n        scope ? ` in ${scope}` : \"\"\n      }, please use \"${chalk.magenta(newOption)}\" instead.${\n        msg ? `\\n${msg}` : \"\"\n      }`\n    );\n\n    if (newOption.includes(\".\")) {\n      const keys = newOption.split(\".\");\n      let temp = options;\n\n      keys.forEach((key, index) => {\n        if (index !== keys.length - 1) {\n          // ensure level exists\n          temp[key] = temp[key] || {};\n\n          temp = temp[key] as Record<string, unknown>;\n        } else temp[key] = options[deprecatedOption];\n      });\n    } else options[newOption] = options[deprecatedOption];\n\n    delete options[deprecatedOption];\n  }\n};\n\nexport const droppedLogger = (\n  options: Record<string, unknown>,\n  droppedOption: string,\n  hint = \"\",\n  newOption = \"\"\n): void => {\n  if (droppedOption in options) {\n    logger.error(\n      `\"${chalk.magenta(droppedOption)}\" is ${chalk.red(\"removed\")}${\n        newOption\n          ? `, please use ${chalk.magenta(newOption)} instead.`\n          : \" and no longer supported\"\n      }${hint ? `\\n${hint}` : \"\"}`\n    );\n\n    if (!newOption) delete options[droppedOption];\n  }\n};\n","import { deprecatedLogger, droppedLogger } from \"./utils.js\";\nimport type { MarkdownEnhanceOptions } from \"../options.js\";\n\n/** @deprecated */\nexport const convertOptions = (\n  options: MarkdownEnhanceOptions & Record<string, unknown>\n): void => {\n  deprecatedLogger({\n    options,\n    deprecatedOption: \"codegroup\",\n    newOption: \"codetabs\",\n  });\n  deprecatedLogger({\n    options,\n    deprecatedOption: \"lazyload\",\n    newOption: \"imageLazyload\",\n  });\n  deprecatedLogger({\n    options,\n    deprecatedOption: \"mdImport\",\n    newOption: \"include\",\n  });\n  deprecatedLogger({\n    options,\n    deprecatedOption: \"tex\",\n    newOption: \"katex\",\n  });\n  deprecatedLogger({\n    options,\n    deprecatedOption: \"vpre\",\n    newOption: \"vPre\",\n  });\n  droppedLogger(options, \"enableAll\");\n  droppedLogger(options, \"lineNumbers\");\n  droppedLogger(options, \"imageFix\");\n};\n","import { utoa } from \"vuepress-shared/node\";\nimport { container } from \"../markdown-it/index.js\";\n\nimport type { PluginSimple } from \"markdown-it\";\nimport type Token from \"markdown-it/lib/token.js\";\n\n/** @deprecated */\nexport const legacyCodeDemo: PluginSimple = (md) => {\n  md.use(container, {\n    name: \"demo\",\n    openRender: (tokens: Token[], index: number): string => {\n      const { info } = tokens[index];\n      const type = /\\[(.*)\\]/u.exec(info);\n      const title = /^ demo\\s*(?:\\[.*?\\])?\\s*(.*)\\s*$/u.exec(info);\n\n      let config = \"\";\n      const code: Record<string, string> = {};\n\n      for (let i = index; i < tokens.length; i++) {\n        const { type, content, info } = tokens[i];\n\n        if (type === `container_demo_close`) break;\n        if (!content) continue;\n        if (type === \"fence\") {\n          if (info === \"json\") config = utoa(content);\n          else code[info] = content;\n        }\n      }\n\n      return `\n<CodeDemo id=\"code-demo-${index}\" type=\"${type?.[1] || \"normal\"}\"${\n        title ? ` title=\"${encodeURIComponent(title[1])}\"` : \"\"\n      }${config ? ` config=\"${config}\"` : \"\"} code=\"${utoa(\n        JSON.stringify(code)\n      )}\">\n`;\n    },\n    closeRender: () => `</CodeDemo>`,\n  });\n};\n","import { container } from \"../markdown-it/index.js\";\nimport { logger } from \"../utils.js\";\n\nimport type { MarkdownEnv } from \"@vuepress/markdown\";\nimport type { PluginSimple } from \"markdown-it\";\n\n/** @deprecated */\nexport const legacyCodeGroup: PluginSimple = (md) => {\n  md.use(container, {\n    name: \"code-group\",\n    openRender: (_tokens, _index, _options, env: MarkdownEnv) => {\n      logger.warn(\n        `Deprecated code-group syntax found${\n          env.filePathRelative ? `in ${env.filePathRelative}` : \"\"\n        }`\n      );\n\n      return `<CodeGroup>\\n`;\n    },\n    closeRender: () => \"</CodeGroup>\\n\",\n  });\n\n  md.use(container, {\n    name: \"code-group-item\",\n    openRender: (tokens, index) => {\n      const { info } = tokens[index];\n      const isActive = info.split(\":\").pop() === \"active\";\n\n      return `<CodeGroupItem title=\"${\n        isActive ? info.replace(/:active$/, \"\") : info\n      }\"${isActive ? \" active\" : \"\"}>\\n`;\n    },\n    closeRender: () => \"</CodeGroupItem>\\n\",\n  });\n};\n","import { utoa } from \"vuepress-shared/node\";\nimport { uml } from \"../markdown-it/index.js\";\n\nimport type { PluginSimple } from \"markdown-it\";\n\n/** @deprecated */\nexport const legacyFlowchart: PluginSimple = (md) => {\n  uml(md, {\n    name: \"flowchart\",\n    open: \"flowstart\",\n    close: \"flowend\",\n    render: (tokens, index): string => {\n      console.warn(\n        '\"@flowstart ... @flowend\" is deprecated, you should use ```flow ... ``` instead.'\n      );\n\n      const token = tokens[index];\n      const key = `flowchart-${index}`;\n      const { content, info } = token;\n\n      return `<FlowChart id=\"${key}\" code=\"${utoa(content)}\" preset=\"${\n        info.trim() || \"vue\"\n      }\"></FlowChart>`;\n    },\n  });\n};\n","import { ensureEndingSlash } from \"@vuepress/shared\";\nimport { getDirname, path } from \"@vuepress/utils\";\n\nimport type { App } from \"@vuepress/core\";\nimport type { MarkdownEnhanceOptions } from \"./options.js\";\nimport type { RevealPlugin } from \"./typings/index.js\";\n\nconst __dirname = getDirname(import.meta.url);\nconst CLIENT_FOLDER = ensureEndingSlash(path.resolve(__dirname, \"../client\"));\n\nexport const prepareConfigFile = async (\n  app: App,\n  options: MarkdownEnhanceOptions,\n  legacy = false\n): Promise<string> => {\n  let configImport = \"\";\n  let enhance = \"\";\n\n  const getStatus = (key: keyof MarkdownEnhanceOptions, gfm = false): boolean =>\n    key in options\n      ? Boolean(options[key])\n      : (gfm && \"gfm\" in options && options.gfm) || false;\n\n  if (getStatus(\"chart\")) {\n    configImport += `\\\nimport ChartJS from \"${CLIENT_FOLDER}components/ChartJS.js\";\n`;\n    enhance += `\\\napp.component(\"ChartJS\", ChartJS);\n`;\n  }\n\n  if (getStatus(\"codetabs\")) {\n    configImport += `\\\nimport CodeTabs from \"${CLIENT_FOLDER}components/CodeTabs.js\";\n`;\n    enhance += `\\\napp.component(\"CodeTabs\", CodeTabs);\n`;\n\n    // TODO: Remove this in v2 stable\n    if (legacy) {\n      configImport += `\\\nimport { CodeGroup, CodeGroupItem } from \"${CLIENT_FOLDER}compact/index.js\";\n`;\n      enhance += `\\\napp.component(\"CodeGroup\", CodeGroup);\napp.component(\"CodeGroupItem\", CodeGroupItem);\n`;\n    }\n  }\n\n  if (getStatus(\"container\"))\n    configImport += `\\\nimport \"${CLIENT_FOLDER}styles/container/index.scss\";\n`;\n\n  if (getStatus(\"demo\")) {\n    configImport += `\\\nimport CodeDemo from \"${CLIENT_FOLDER}components/CodeDemo.js\";\n`;\n    enhance += `\\\napp.component(\"CodeDemo\", CodeDemo);\n`;\n  }\n\n  if (getStatus(\"echarts\")) {\n    configImport += `\\\nimport ECharts from \"${CLIENT_FOLDER}components/ECharts.js\";\n`;\n    enhance += `\\\napp.component(\"ECharts\", ECharts);\n`;\n  }\n\n  if (getStatus(\"figure\", true))\n    configImport += `\\\nimport \"${CLIENT_FOLDER}styles/figure.scss\";\n`;\n\n  if (getStatus(\"flowchart\")) {\n    configImport += `\\\nimport FlowChart from \"${CLIENT_FOLDER}components/FlowChart.js\";\n`;\n    enhance += `\\\napp.component(\"FlowChart\", FlowChart);\n`;\n  }\n\n  if (getStatus(\"footnote\", true))\n    configImport += `\\\nimport \"${CLIENT_FOLDER}styles/footnote.scss\";\n`;\n\n  if (getStatus(\"imageMark\", true))\n    configImport += `\\\nimport \"${CLIENT_FOLDER}styles/image-mark.scss\";\n`;\n\n  if (getStatus(\"mermaid\")) {\n    configImport += `\\\nimport Mermaid from \"${CLIENT_FOLDER}components/Mermaid.js\";\n`;\n    enhance += `\\\napp.component(\"Mermaid\", Mermaid);\n`;\n  }\n\n  if (getStatus(\"presentation\")) {\n    configImport += `\\\nimport Presentation from \"${CLIENT_FOLDER}components/Presentation.js\";\n`;\n    enhance += `\\\napp.component(\"Presentation\", Presentation);\n`;\n  }\n\n  if (getStatus(\"playground\")) {\n    configImport += `\\\nimport Playground from \"${CLIENT_FOLDER}components/Playground.js\";\n`;\n    enhance += `\\\napp.component(\"Playground\", Playground);\n`;\n  }\n\n  if (getStatus(\"tabs\")) {\n    configImport += `\\\nimport Tabs from \"${CLIENT_FOLDER}components/Tabs.js\";\n`;\n    enhance += `\\\napp.component(\"Tabs\", Tabs);\n`;\n  }\n\n  if (getStatus(\"tasklist\", true))\n    configImport += `\\\nimport \"${CLIENT_FOLDER}styles/tasklist.scss\";\n`;\n\n  if (getStatus(\"katex\"))\n    configImport += `\\\nimport \"${CLIENT_FOLDER}styles/katex.scss\";\n`;\n\n  if (getStatus(\"vuePlayground\")) {\n    configImport += `\\\nimport { defineAsyncComponent } from \"vue\";\n`;\n    enhance += `\\\napp.component(\"VuePlayground\", defineAsyncComponent(() => import(\"${CLIENT_FOLDER}components/VuePlayground.js\")));\n    `;\n  }\n\n  return app.writeTemp(\n    `md-enhance/config.js`,\n    `\\\nimport { defineClientConfig } from \"@vuepress/client\";\n${configImport}\n\nexport default defineClientConfig({\n  enhance: ({ app }) => {\n${enhance\n  .split(\"\\n\")\n  .map((item) => `    ${item}`)\n  .join(\"\\n\")}\n  },\n});\n`\n  );\n};\n\nexport const prepareRevealPluginFile = async (\n  app: App,\n  revealPlugins: RevealPlugin[]\n): Promise<void> => {\n  const packages = [\n    \"reveal\",\n    \"revealMarkdown\",\n    ...revealPlugins.map(\n      (key) => `reveal${key[0].toUpperCase()}${key.substring(1)}`\n    ),\n  ];\n\n  await app.writeTemp(\n    \"md-enhance/reveal.js\",\n    `\\\nimport { ${packages.join(\", \")} } from \"${CLIENT_FOLDER}reveal/index.js\";\n\nexport const useReveal = () => [${packages\n      .map((name) => `${name}()`)\n      .join(\", \")}];\n`\n  );\n};\n","import { useSassPalettePlugin } from \"vuepress-plugin-sass-palette\";\nimport {\n  addCustomElement,\n  addViteOptimizeDepsExclude,\n  addViteOptimizeDepsInclude,\n  addViteSsrExternal,\n  addViteSsrNoExternal,\n  chainWebpack,\n  deepAssign,\n  getLocales,\n  mergeViteConfig,\n} from \"vuepress-shared/node\";\n\nimport { logger } from \"./utils.js\";\n\nimport { checkLinks, getCheckLinksStatus } from \"./checkLink.js\";\nimport {\n  convertOptions,\n  legacyCodeDemo,\n  legacyCodeGroup,\n  legacyFlowchart,\n} from \"./compact/index.js\";\nimport { markdownEnhanceLocales } from \"./locales.js\";\nimport {\n  CODE_DEMO_DEFAULT_SETTING,\n  DEFAULT_VUE_PLAYGROUND_OPTIONS,\n  align,\n  attrs,\n  chart,\n  codeTabs,\n  echarts,\n  figure,\n  flowchart,\n  footnote,\n  hint,\n  imageLazyload,\n  imageMark,\n  imageSize,\n  include,\n  katex,\n  mathjax,\n  mark,\n  mermaid,\n  normalDemo,\n  playground,\n  presentation,\n  reactDemo,\n  stylize,\n  sub,\n  sup,\n  tabs,\n  tasklist,\n  vPre,\n  vueDemo,\n  vuePlayground,\n  getVuePlaygroundPreset,\n  getTSPlaygroundPreset,\n} from \"./markdown-it/index.js\";\nimport { prepareConfigFile, prepareRevealPluginFile } from \"./prepare.js\";\nimport { MATHML_TAGS } from \"./utils.js\";\n\nimport type { PluginFunction } from \"@vuepress/core\";\nimport type { ViteBundlerOptions } from \"@vuepress/bundler-vite\";\nimport type { RollupWarning } from \"rollup\";\nimport type { KatexOptions } from \"katex\";\nimport type { MarkdownEnhanceOptions } from \"./options.js\";\n\nexport const mdEnhancePlugin =\n  (\n    options: MarkdownEnhanceOptions = { gfm: true },\n    legacy = false\n  ): PluginFunction =>\n  (app) => {\n    // TODO: Remove this in v2 stable\n    if (legacy)\n      convertOptions(\n        options as MarkdownEnhanceOptions & Record<string, unknown>\n      );\n    if (app.env.isDebug) logger.info(`Options: ${options.toString()}`);\n\n    const getStatus = (\n      key: keyof MarkdownEnhanceOptions,\n      gfm = false\n    ): boolean =>\n      key in options\n        ? Boolean(options[key])\n        : (gfm && \"gfm\" in options && options.gfm) || false;\n\n    const locales = getLocales({\n      app,\n      name: \"md-enhance\",\n      default: markdownEnhanceLocales,\n      config: options.locales,\n    });\n\n    const chartEnable = getStatus(\"chart\");\n    const echartsEnable = getStatus(\"echarts\");\n    const flowchartEnable = getStatus(\"flowchart\");\n    const footnoteEnable = getStatus(\"footnote\", true);\n    const imageMarkEnable = getStatus(\"imageMark\", true);\n    const tasklistEnable = getStatus(\"tasklist\", true);\n    const mermaidEnable = getStatus(\"mermaid\");\n    const presentationEnable = getStatus(\"presentation\");\n    const katexEnable = getStatus(\"katex\");\n    const mathjaxEnable = getStatus(\"mathjax\");\n    const vuePlaygroundEnable = getStatus(\"vuePlayground\");\n\n    const shouldCheckLinks = getCheckLinksStatus(app, options);\n\n    const katexOptions: KatexOptions = {\n      macros: {\n        // support more symbols\n        // eslint-disable-next-line @typescript-eslint/naming-convention\n        \"\\\\liiiint\": \"\\\\int\\\\!\\\\!\\\\!\\\\iiint\",\n        // eslint-disable-next-line @typescript-eslint/naming-convention\n        \"\\\\iiiint\": \"\\\\int\\\\!\\\\!\\\\!\\\\!\\\\iiint\",\n        // eslint-disable-next-line @typescript-eslint/naming-convention\n        \"\\\\idotsint\": \"\\\\int\\\\!\\\\cdots\\\\!\\\\int\",\n      },\n      ...(typeof options.katex === \"object\" ? options.katex : {}),\n    };\n\n    const revealPlugins =\n      typeof options.presentation === \"object\" &&\n      Array.isArray(options.presentation.plugins)\n        ? options.presentation.plugins\n        : [];\n\n    useSassPalettePlugin(app, { id: \"hope\" });\n\n    let isAppInitialized = false;\n\n    return {\n      name: \"vuepress-plugin-md-enhance\",\n\n      define: (): Record<string, unknown> => ({\n        MARKDOWN_ENHANCE_DELAY: options.delay || 500,\n        CODE_DEMO_OPTIONS: {\n          ...CODE_DEMO_DEFAULT_SETTING,\n          ...(typeof options.demo === \"object\" ? options.demo : {}),\n        },\n        MERMAID_OPTIONS:\n          typeof options.mermaid === \"object\" ? options.mermaid : {},\n        REVEAL_CONFIG:\n          typeof options.presentation === \"object\" &&\n          typeof options.presentation.revealConfig === \"object\"\n            ? options.presentation.revealConfig\n            : {},\n        VUE_PLAYGROUND_OPTIONS:\n          typeof options.vuePlayground === \"object\"\n            ? deepAssign(\n                {},\n                DEFAULT_VUE_PLAYGROUND_OPTIONS,\n                options.vuePlayground\n              )\n            : DEFAULT_VUE_PLAYGROUND_OPTIONS,\n      }),\n\n      extendsBundlerOptions: (config: unknown, app): void => {\n        const { bundler } = app.options;\n\n        if (bundler.name.endsWith(\"vite\")) {\n          const bundlerConfig = <ViteBundlerOptions>config;\n\n          bundlerConfig.viteOptions = mergeViteConfig(\n            bundlerConfig.viteOptions || {},\n            {\n              build: {\n                rollupOptions: {\n                  onwarn(\n                    warning: RollupWarning,\n                    warn: (warning: RollupWarning) => void\n                  ) {\n                    if (warning.message.includes(\"Use of eval\")) return;\n\n                    warn(warning);\n                  },\n                },\n              },\n            }\n          );\n        }\n\n        addViteSsrNoExternal({ app, config }, [\"fflate\", \"vuepress-shared\"]);\n\n        if (katexEnable && katexOptions.output !== \"html\")\n          addCustomElement({ app, config }, MATHML_TAGS);\n        else if (mathjaxEnable) addCustomElement({ app, config }, /^mjx-/);\n\n        if (chartEnable) {\n          addViteOptimizeDepsExclude({ app, config }, \"chart.js/auto/auto.mjs\");\n          addViteSsrExternal({ app, config }, \"chart.js\");\n        }\n\n        if (echartsEnable) {\n          addViteOptimizeDepsExclude({ app, config }, \"echarts\");\n          addViteSsrExternal({ app, config }, \"echarts\");\n        }\n\n        if (flowchartEnable) {\n          addViteOptimizeDepsInclude(\n            { app, config },\n            \"flowchart.js/src/flowchart.parse.js\"\n          );\n          addViteSsrExternal({ app, config }, \"flowchart.js\");\n        }\n\n        if (mermaidEnable) {\n          addViteOptimizeDepsExclude({ app, config }, \"mermaid\");\n          addViteSsrExternal({ app, config }, \"mermaid\");\n        }\n\n        if (presentationEnable) {\n          addViteOptimizeDepsExclude({ app, config }, [\n            \"reveal.js/dist/reveal.esm.js\",\n            \"reveal.js/plugin/markdown/markdown.esm.js\",\n            ...revealPlugins.map(\n              (plugin) => `reveal.js/plugin/${plugin}/${plugin}.esm.js`\n            ),\n          ]);\n\n          addViteSsrExternal({ app, config }, \"reveal.js\");\n        }\n\n        if (vuePlaygroundEnable) {\n          addViteOptimizeDepsInclude({ app, config }, \"@vue/repl\");\n          addViteSsrExternal({ app, config }, \"@vue/repl\");\n\n          // hide webpack warnings\n          chainWebpack({ app, config }, (config) => {\n            config.module.set(\"exprContextCritical\", false);\n            config.module.set(\"unknownContextCritical\", false);\n          });\n        }\n      },\n\n      extendsMarkdown: (md): void => {\n        // syntax\n        if (getStatus(\"gfm\")) md.options.linkify = true;\n        if (getStatus(\"attrs\"))\n          md.use(attrs, typeof options.attrs === \"object\" ? options.attrs : {});\n        if (getStatus(\"align\")) md.use(align);\n        if (getStatus(\"container\")) md.use(hint, locales);\n        if (getStatus(\"imageLazyload\")) md.use(imageLazyload);\n        if (getStatus(\"figure\")) md.use(figure);\n        if (imageMarkEnable)\n          md.use(\n            imageMark,\n            typeof options.imageMark === \"object\" ? options.imageMark : {}\n          );\n        if (getStatus(\"imageSize\")) md.use(imageSize);\n        if (getStatus(\"sup\")) md.use(sup);\n        if (getStatus(\"sub\")) md.use(sub);\n        if (footnoteEnable) md.use(footnote);\n        if (getStatus(\"mark\")) md.use(mark);\n        if (tasklistEnable)\n          md.use(tasklist, [\n            typeof options.tasklist === \"object\" ? options.tasklist : {},\n          ]);\n\n        // additional functions\n        if (\n          getStatus(\"vPre\") ||\n          // TODO: Remove this in v2 stable\n          legacy\n        )\n          md.use(vPre);\n        if (katexEnable) md.use(katex, katexOptions);\n        else if (mathjaxEnable)\n          md.use(\n            mathjax,\n            typeof options.mathjax === \"object\" ? options.mathjax : {}\n          );\n\n        if (getStatus(\"include\"))\n          md.use(\n            include,\n            typeof options.include === \"object\" ? options.include : {}\n          );\n        if (getStatus(\"stylize\")) md.use(stylize, options.stylize);\n\n        // features\n        if (getStatus(\"codetabs\")) {\n          md.use(codeTabs);\n          // TODO: Remove this in v2 stable\n          if (legacy) md.use(legacyCodeGroup);\n        }\n        if (getStatus(\"tabs\")) md.use(tabs);\n        if (flowchartEnable) {\n          md.use(flowchart);\n          // TODO: Remove this in v2 stable\n          if (legacy) md.use(legacyFlowchart);\n        }\n        if (chartEnable) md.use(chart);\n        if (echartsEnable) md.use(echarts);\n        if (getStatus(\"demo\")) {\n          md.use(normalDemo);\n          md.use(vueDemo);\n          md.use(reactDemo);\n          // TODO: Remove this in v2 stable\n          if (legacy) md.use(legacyCodeDemo);\n        }\n        if (mermaidEnable) md.use(mermaid);\n        if (presentationEnable) md.use(presentation);\n        if (typeof options.playground === \"object\") {\n          const { presets = [], config = {} } = options.playground;\n\n          presets.forEach((preset) => {\n            if (preset === \"ts\")\n              md.use(playground, getTSPlaygroundPreset(config.ts || {}));\n            else if (preset === \"vue\")\n              md.use(playground, getVuePlaygroundPreset(config.vue || {}));\n            else if (typeof preset === \"object\") md.use(playground, preset);\n          });\n        }\n        if (vuePlaygroundEnable) md.use(vuePlayground);\n      },\n\n      extendsPage: (page, app): void => {\n        if (shouldCheckLinks && isAppInitialized) checkLinks(page, app);\n      },\n\n      onInitialized: async (app): Promise<void> => {\n        isAppInitialized = true;\n        if (shouldCheckLinks)\n          app.pages.forEach((page) => checkLinks(page, app));\n\n        await prepareRevealPluginFile(app, revealPlugins);\n      },\n\n      clientConfigFile: (app) => prepareConfigFile(app, options, legacy),\n    };\n  };\n"],"names":["container","md","name","marker","validate","params","openRender","tokens","index","options","_env","slf","closeRender","markerStart","markerLength","state","startLine","endLine","silent","start","max","pos","markerCount","markup","nextLine","autoClosed","oldParent","oldLineMax","openToken","closeToken","align","ALLOWED_KEY_CHARS","PAIR_SPERATOR","KEY_SPERATOR","CLASS_MARKER","ID_MARKER","getAttrs","str","left","right","allowed","key","value","parsingKey","valueInsideQuotes","attrs","char","attr","item","addAttrs","token","attrItem","hasDelimiters","where","leftLength","rightLength","minCurlyLength","validCurlyLength","curly","isClass","isId","end","slice","nextChar","rightDelimiterMinimumShift","removeDelimiter","escapeRegExp","getMatchingOpeningToken","i","level","type","getElement","arr","n","isArrayOfObjects","isArrayOfFunctions","regexp","patternsConfig","lineNumber","results","childIndex","endChar","attrToken","tableOpen","content","openingToken","indx","ii","children","trimmed","test","rule","_a","_b","res","match","childTests","tt","j","ruleDetail","patterns","curlyAttrs","patternIndex","pattern","t","chart","title","config","configType","info","utoa","CODE_DEMO_DEFAULT_SETTING","getPlugin","code","normalDemo","vueDemo","reactDemo","tabs","component","getter","CODETAB_MARKER","tabsRule","containerName","id","tabRule","openMakerMatched","env","self","meta","basicData","customData","activeIndex","isTabStart","block","data","codeTabs","inCodeTab","foundFence","codeTabsData","echartsRender","echarts","fence","args","isJavaScript","removeAttribute","attribute","getCaption","image","figure","length","childrenA","childrenB","childrenC","figCaption","captionContent","flowchartRender","flowchart","realInfo","getIDSuffix","renderFootnoteAnchorName","_options","renderFootnoteCaption","renderFootnoteRef","caption","renderFootnoteBlockOpen","_tokens","_index","renderFootnoteBlockClose","renderFootnoteOpen","renderFootnoteClose","renderFootnoteAnchor","footnoteDef","offset","ch","label","Token","oldBMark","oldTShift","oldSCount","oldParentType","posAfterColon","initial","footnoteInline","footnoteId","labelStart","labelEnd","parseLinkLabel","footnoteRef","footnoteSubId","footnoteTail","lastParagraph","current","currentLabel","insideRef","refTokens","stateToken","list","footnote","hint","filePathRelative","relativePath","ensureLeadingSlash","localePath","resolveLocalePath","imageLazyload","originalImageRender","imageMark","light","dark","src","parseNextNumber","result","parseImageSize","width","height","imageSizeRule","oldPos","href","ref","imageSize","isValidDelim","prevChar","inlineTex","blockTex","firstLine","lastLine","next","lastPos","found","tex","render","NEWLINES_RE","UNESCAPE_RE","setTokenAttr","getParentTokenIndex","targetLevel","isInlineToken","isParagraphToken","isListItemToken","escapeHtml","unsafeHTML","require","createRequire","katexInline","Katex","error","katexBlock","errorCode","katex","mhchem","userOptions","katexOptions","displayMode","renderMath","documentOptions","adaptor","liteAdaptor","RegisterHTMLHandler","mathDocument","MathJax","html","stylesheet","juice","mathjax","TeX","AllPackages","CHTML","SVG","tokenize","scanned","postProcess","delimiters","loneMarkers","startDelim","endDelim","mark","tokensMeta","curr","tokenMeta","SYNTAX_RE","handleInclude","filePath","lineStart","lineEnd","cwd","includedFiles","resolvedPath","realPath","path","fs","dirName","resolveInclude","line","includePath","actualPath","createIncludeCoreRule","SYNTAX_PUSH_RE","SYNTAX_POP_RE","includePushRule","_","includePopRule","resolveRelatedLink","includedPaths","attrIndex","url","includeDir","include","getPath","deep","resolveLinkPath","resolveImagePath","defaultRender","mermaidRender","mermaidHackRender","mermaid","AT_MARKER","VALID_MARKERS","getPlaygroundRule","atMarkerRule","markerName","atMarker","playground","propsGetter","playgroundData","hash","currentKey","foundSettings","props","e","compress","o","r","s","p","u","c","a","l","f","h","d","m","v","compressToEncodedURIComponent","optionDeclarations","getURL","compilerOptions","queryString","option","getTSPlaygroundPreset","service","files","settings","tsfiles","link","deepAssign","VUE_SUPPORTED_EXTENSIONS","getVuePlaygroundPreset","localSettings","ext","importMap","uml","open","close","OPEN_MARKER","CLOSE_MARKER","umlRule","closeMarkerMatched","contents","presentation","subscriptRender","sub","superscriptRender","sup","startsWithTodoMarkdown","isTaskListItem","generateCheckbox","disabled","checkbox","beginLabel","endLabel","todoify","tasklist","vPre","scanTokens","skipContents","len","matcher","tokenPrev","tokenNext","stylize","noStylize","DEFAULT_VUE_PLAYGROUND_OPTIONS","encodeFiles","vuePlayground","markdownEnhanceLocales","MATHML_TAGS","logger","Logger","getCheckLinksStatus","app","linkCheck","checkLinks","page","pages","markdownLinks","raw","brokenLinks","relative","absolute","deprecatedLogger","deprecatedOption","newOption","msg","scope","chalk","keys","temp","droppedLogger","droppedOption","convertOptions","legacyCodeDemo","legacyCodeGroup","isActive","legacyFlowchart","__dirname","getDirname","CLIENT_FOLDER","ensureEndingSlash","prepareConfigFile","legacy","configImport","enhance","getStatus","gfm","prepareRevealPluginFile","revealPlugins","packages","mdEnhancePlugin","locales","getLocales","chartEnable","echartsEnable","flowchartEnable","footnoteEnable","imageMarkEnable","tasklistEnable","mermaidEnable","presentationEnable","katexEnable","mathjaxEnable","vuePlaygroundEnable","shouldCheckLinks","useSassPalettePlugin","isAppInitialized","bundler","bundlerConfig","mergeViteConfig","warning","warn","addViteSsrNoExternal","addCustomElement","addViteOptimizeDepsExclude","addViteSsrExternal","addViteOptimizeDepsInclude","plugin","chainWebpack","presets","preset"],"mappings":"yoCAiDO,MAAMA,EAA2D,CACtEC,EACA,CACE,KAAAC,EACA,OAAAC,EAAS,IACT,SAAAC,EAAYC,GACVA,EAAO,KAAO,EAAA,MAAM,IAAK,CAAC,EAAE,KAAOH,EACrC,WAAAI,EAAa,CACXC,EACAC,EACAC,EACAC,EACAC,KAGAJ,EAAOC,GAAO,SAAS,QAASN,CAAI,EAE7BS,EAAI,YAAYJ,EAAQC,EAAOC,CAAO,GAE/C,YAAAG,EAAc,CACZL,EACAC,EACAC,EACAC,EACAC,IACWA,EAAI,YAAYJ,EAAQC,EAAOC,CAAO,CACrD,EAAI,CAAE,KAAM,EAAG,IACZ,CAEH,MAAMI,EAAcV,EAAO,GACrBW,EAAeX,EAAO,OAEtBH,EAAuB,CAACe,EAAOC,EAAWC,EAASC,IAAW,CAClE,IAAIC,EAAQJ,EAAM,OAAOC,GAAaD,EAAM,OAAOC,GAC/CI,EAAML,EAAM,OAAOC,GAKvB,GAAIH,IAAgBE,EAAM,IAAII,GAAQ,MAAO,GAE7C,IAAIE,EAAMF,EAAQ,EAGlB,KAAOE,GAAOD,GACRjB,GAAQkB,EAAMF,GAASL,KAAkBC,EAAM,IAAIM,IACvDA,GAAO,EAGT,MAAMC,EAAc,KAAK,OAAOD,EAAMF,GAASL,CAAY,EAE3D,GAAIQ,EAAc,EAAgB,MAAO,GAEzCD,IAAQA,EAAMF,GAASL,EAEvB,MAAMS,EAASR,EAAM,IAAI,MAAMI,EAAOE,CAAG,EACnChB,EAASU,EAAM,IAAI,MAAMM,EAAKD,CAAG,EAEvC,GAAI,CAAChB,EAASC,EAAQkB,CAAM,EAAG,MAAO,GAItC,GAAIL,EAAQ,MAAO,GAEnB,IAAIM,EAAWR,EACXS,EAAa,GAGjB,KAGED,EAAWP,IAEXO,GAAY,EACZL,EAAQJ,EAAM,OAAOS,GAAYT,EAAM,OAAOS,GAC9CJ,EAAML,EAAM,OAAOS,GAEf,EAAAL,EAAQC,GAAOL,EAAM,OAAOS,GAAYT,EAAM,aAMlD,GAEEF,IAAgBE,EAAM,IAAII,IAE1BJ,EAAM,OAAOS,GAAYT,EAAM,UAAY,EAC3C,CAEA,IAAKM,EAAMF,EAAQ,EAAGE,GAAOD,GACvBjB,GAAQkB,EAAMF,GAASL,KAAkBC,EAAM,IAAIM,GADvBA,IAChC,CAGF,GAAI,KAAK,OAAOA,EAAMF,GAASL,CAAY,GAAKQ,IAE9CD,IAAQA,EAAMF,GAASL,EACvBO,EAAMN,EAAM,WAAWM,CAAG,EAEtBA,GAAOD,GAAK,CAEdK,EAAa,GACb,KACF,CAEJ,CAGF,MAAMC,EAAYX,EAAM,WAClBY,EAAaZ,EAAM,QAGzBA,EAAM,WAAa,YAGnBA,EAAM,QAAUS,EAEhB,MAAMI,EAAYb,EAAM,KAAK,aAAab,SAAa,MAAO,CAAC,EAE/D0B,EAAU,OAASL,EACnBK,EAAU,MAAQ,GAClBA,EAAU,KAAOvB,EACjBuB,EAAU,IAAM,CAACZ,EAAWQ,CAAQ,EAEpCT,EAAM,GAAG,MAAM,SAASA,EAAOC,EAAY,EAAGQ,CAAQ,EAEtD,MAAMK,EAAad,EAAM,KAAK,aAAab,UAAc,MAAO,EAAE,EAElE,OAAA2B,EAAW,OAASd,EAAM,IAAI,MAAMI,EAAOE,CAAG,EAC9CQ,EAAW,MAAQ,GAEnBd,EAAM,WAAaW,EACnBX,EAAM,QAAUY,EAChBZ,EAAM,KAAOS,GAAYC,EAAa,EAAI,GAEnC,EACT,EAEAxB,EAAG,MAAM,MAAM,OAAO,QAAS,aAAaC,IAAQF,EAAW,CAC7D,IAAK,CAAC,YAAa,YAAa,aAAc,MAAM,CACtD,CAAC,EACDC,EAAG,SAAS,MAAM,aAAaC,UAAeI,EAC9CL,EAAG,SAAS,MAAM,aAAaC,WAAgBU,CACjD,EC5LakB,GAAuB7B,GAAO,CACzC,CAAC,OAAQ,SAAU,QAAS,SAAS,EAAE,QAASC,GAC9CD,EAAG,IAAKA,GACND,EAAUC,EAAI,CACZ,KAAAC,EACA,WAAY,IAAM,0BAA0BA;AAAAA,CAC9C,CAAC,CACH,CACF,CACF,ECoBM6B,GAAoB,kBACpBC,GAAgB,IAChBC,GAAe,IACfC,GAAe,IACfC,GAAY,IAELC,EAAW,CACtBC,EACAlB,EACA,CAAE,KAAAmB,EAAM,MAAAC,EAAO,QAAAC,CAAQ,IACZ,CACX,IAAIC,EAAM,GACNC,EAAQ,GACRC,EAAa,GACbC,EAAoB,GAExB,MAAMC,EAAgB,CAKtB,EAAA,QAASrC,EAAQW,EAAQmB,EAAK,OAAQ9B,EAAQ6B,EAAI,OAAQ7B,IAAS,CACjE,GAAI6B,EAAI,MAAM7B,EAAOA,EAAQ+B,EAAM,MAAM,IAAMA,EAAO,CAChDE,IAAQ,IAAII,EAAM,KAAK,CAACJ,EAAKC,CAAK,CAAC,EACvC,KACF,CAEA,MAAMI,EAAOT,EAAI,OAAO7B,CAAK,EAG7B,GAAIsC,IAASb,IAAgBU,EAAY,CACvCA,EAAa,GACb,QACF,CAGA,GAAIG,IAASZ,IAAgBO,IAAQ,GAAI,CACnCJ,EAAI,OAAO7B,EAAQ,CAAC,IAAM0B,IAC5BO,EAAM,aACNjC,GAAS,GACJiC,EAAM,QAEbE,EAAa,GACb,QACF,CAGA,GAAIG,IAASX,IAAaM,IAAQ,GAAI,CACpCA,EAAM,KACNE,EAAa,GACb,QACF,CAGA,GAAIG,IAAS,KAAOJ,IAAU,GAAI,CAChCE,EAAoB,GACpB,QACF,CAEA,GAAIE,IAAS,KAAOF,EAAmB,CACrCA,EAAoB,GACpB,QACF,CAGA,GAAIE,IAASd,IAAiB,CAACY,EAAmB,CAChD,GAAIH,IAAQ,GAEV,SAGFI,EAAM,KAAK,CAACJ,EAAKC,CAAK,CAAC,EACvBD,EAAM,GACNC,EAAQ,GACRC,EAAa,GAEb,QACF,CAGA,GAAI,EAAAA,GAAcG,EAAK,OAAOf,EAAiB,IAAM,IAGrD,CAAIY,GAAAA,EAAY,CACdF,GAAOK,EACP,QACF,CAEAJ,GAASI,CAAAA,CACX,CAEA,OAAON,EAAQ,OACXK,EAAM,OAAO,CAAC,CAACE,CAAI,IACjBP,EAAQ,KAAMQ,GACZA,aAAgB,OAASA,EAAK,KAAKD,CAAI,EAAIC,IAASD,CACtD,CACF,EACAF,CACN,EAEMI,EAAW,CAACJ,EAAeK,IAA8B,CACzDA,GACFL,EAAM,QAASM,GAAa,CAC1B,KAAM,CAACV,EAAKC,CAAK,EAAIS,EAEjBV,IAAQ,QAASS,EAAM,SAAS,QAASR,CAAK,EACzCD,IAAQ,aAAcS,EAAM,SAAS,aAAcR,CAAK,EAC5DQ,EAAM,SAASC,CAAQ,CAC9B,CAAC,CACL,EAEMC,EACJ,CACEC,EACA,CAAE,KAAAf,EAAM,MAAAC,CAAM,IAEfF,GAAyB,CACxB,MAAMiB,EAAahB,EAAK,OAClBiB,EAAchB,EAAM,OAEpBiB,EAAiBF,EAAa,EAAIC,EAExC,GAAI,CAAClB,GAAO,OAAOA,GAAQ,UAAYA,EAAI,OAASmB,EAClD,MAAO,GAET,MAAMC,EAAoBC,GAA2B,CACnD,MAAMC,EAAUD,EAAM,OAAOJ,CAAU,IAAM,IACvCM,EAAOF,EAAM,OAAOJ,CAAU,IAAM,IAE1C,OAAOK,GAAWC,EACdF,EAAM,QAAUF,EAAiB,EACjCE,EAAM,QAAUF,CACtB,EAEA,IAAIrC,EAAO0C,EAAKC,EAAOC,EACvB,MAAMC,EAA6BR,EAAiBD,EAEpD,OAAQF,EAAO,CACb,IAAK,QAEHS,EAAQzB,EAAI,MAAM,EAAGiB,CAAU,EAC/BnC,EAAQ2C,IAAUxB,EAAO,EAAI,GAC7BuB,EACE1C,IAAU,GAAK,GAAKkB,EAAI,QAAQE,EAAOyB,CAA0B,EAEnED,EAAW1B,EAAI,OAAOwB,EAAMN,CAAW,EACnCQ,GAAYxB,EAAM,QAAQwB,CAAQ,IAAM,KAAIF,EAAM,IACtD,MAEF,IAAK,MAEH1C,EAAQkB,EAAI,YAAYC,CAAI,EAC5BuB,EACE1C,IAAU,GACN,GACAkB,EAAI,QAAQE,EAAOpB,EAAQ6C,CAA0B,EAC3DH,EAAMA,IAAQxB,EAAI,OAASkB,EAAcM,EAAM,GAC/C,MAEF,IAAK,OAEHC,EAAQzB,EAAI,MAAM,EAAGiB,CAAU,EAC/BnC,EAAQ2C,IAAUxB,EAAO,EAAI,GAC7BwB,EAAQzB,EAAI,MAAMA,EAAI,OAASkB,CAAW,EAC1CM,EAAMC,IAAUvB,EAAQF,EAAI,OAASkB,EAAc,GACnD,KACJ,CAEA,OACEpC,IAAU,IACV0C,IAAQ,IACRJ,EAAiBpB,EAAI,UAAUlB,EAAO0C,EAAMN,CAAW,CAAC,CAE5D,EAEIU,GAAkB,CACtB5B,EACA,CAAE,KAAAC,EAAM,MAAAC,CAAM,IACH,CACX,MAAMpB,EAAQ+C,EAAa5B,CAAI,EACzBuB,EAAMK,EAAa3B,CAAK,EACxBlB,EAAMgB,EAAI,OACd,IAAI,OAAO,UAAUlB,MAAUA,IAAQ0C,MAAQA,IAAM,CACvD,EAEA,OAAOxC,IAAQ,GAAKgB,EAAI,MAAM,EAAGhB,CAAG,EAAIgB,CAC1C,EAEM8B,EAA0B,CAAC5D,EAAiB6D,IAA4B,CAC5E,GAAI7D,EAAO6D,GAAG,OAAS,YAAa,OAAO,KAG3C,GAAI7D,EAAO6D,GAAG,UAAY,EAAG,OAAO7D,EAAO6D,GAE3C,MAAMC,EAAQ9D,EAAO6D,GAAG,MAClBE,EAAO/D,EAAO6D,GAAG,KAAK,QAAQ,SAAU,OAAO,EAErD,KAAOA,GAAK,EAAG,EAAEA,EACf,GAAI7D,EAAO6D,GAAG,OAASE,GAAQ/D,EAAO6D,GAAG,QAAUC,EAAO,OAAO9D,EAAO6D,GAE1E,OAAO,IACT,EAMMG,GAAa,CAAIC,EAAUC,IAC/BA,GAAK,EAAID,EAAIC,GAAKD,EAAIA,EAAI,OAASC,GAE/BC,GAAoBF,GACxB,MAAM,QAAQA,CAAG,GACjB,QAAQA,EAAI,MAAM,GAClBA,EAAI,MAAOxB,GAAS,OAAOA,GAAS,QAAQ,EAGxC2B,GAAsBH,GAC1B,MAAM,QAAQA,CAAG,GACjB,QAAQA,EAAI,MAAM,GAClBA,EAAI,MAAOxB,GAAS,OAAOA,GAAS,UAAU,EAM1CkB,EAAgBU,GACpBA,EAAO,QAAQ,wBAAyB,MAAM,EAmB1CC,GAAkBpE,GAA4C,CAOlE,CACE,KAAM,qBACN,MAAO,CACL,CACE,MAAO,EACP,MAAO,GACP,KAAM2C,EAAc,MAAO3C,CAAO,CACpC,CACF,EACA,UAAW,CAACF,EAAQC,IAAgB,CAClC,MAAM0C,EAAQ3C,EAAOC,GACrB,IAAIsE,EAAa,GAEjB,MAAMC,EAAU7B,EAAM,KAAK,MAAM,eAAe,EAE5C6B,IACF7B,EAAM,KAAOA,EAAM,KAAK,QAAQ6B,EAAQ,GAAI,EAAE,EAC9CD,EAAaC,EAAQ,IAGvB,MAAM5D,EAAQ+B,EAAM,KAAK,YAAYzC,EAAQ,IAAI,EAC3CoC,EAAQT,EAASc,EAAM,KAAM/B,EAAOV,CAAO,EAEjDwC,EAASJ,EAAOK,CAAK,EACrBA,EAAM,KAAO,GAAGe,GAAgBf,EAAM,KAAMzC,CAAO,KAAKqE,GAC1D,CACF,EAQA,CACE,KAAM,mBACN,MAAO,CACL,CACE,MAAO,EACP,KAAM,SACN,SAAU,CACR,CACE,MAAO,GACP,KAAOzC,GAAQA,IAAQ,SAAWA,IAAQ,aAC5C,EACA,CACE,MAAO,EACP,KAAM,OACN,QAASe,EAAc,QAAS3C,CAAO,CACzC,CACF,CACF,CACF,EACA,UAAW,CAACF,EAAQC,EAAOwE,IAAqB,CAC9C,MAAM9B,EAAQ3C,EAAOC,GAAO,SAAUwE,GAEhCC,EAAU/B,EAAM,QAAQ,QAAQzC,EAAQ,KAAK,EAC7CyE,EAAY3E,EAAOC,GAAO,SAAUwE,EAAa,GACjDnC,EAAQT,EAASc,EAAM,QAAS,EAAGzC,CAAO,EAEhDwC,EAASJ,EAAOqC,CAAS,EACrBhC,EAAM,QAAQ,SAAW+B,EAAUxE,EAAQ,MAAM,OACnDF,EAAOC,GAAO,SAAU,OAAOwE,EAAY,CAAC,EACzC9B,EAAM,QAAUA,EAAM,QAAQ,MAAM+B,EAAUxE,EAAQ,MAAM,MAAM,CACzE,CACF,EASA,CACE,KAAM,SACN,MAAO,CACL,CAGE,MAAO,EACP,KAAM,aACR,EACA,CACE,MAAO,EACP,KAAM,gBACR,EACA,CACE,MAAO,EACP,KAAM,SACN,QAAS2C,EAAc,OAAQ3C,CAAO,CACxC,CACF,EACA,UAAW,CAACF,EAAQC,IAAgB,CAClC,MAAM0C,EAAQ3C,EAAOC,EAAQ,GACvB2E,EAAYhB,EAAwB5D,EAAQC,CAAK,EACjDqC,EAAQT,EAASc,EAAM,QAAS,EAAGzC,CAAO,EAGhDwC,EAASJ,EAAOsC,CAAS,EAEzB5E,EAAO,OAAOC,EAAQ,EAAG,CAAC,CAC5B,CACF,EAKA,CACE,KAAM,oBACN,MAAO,CACL,CACE,MAAO,EACP,KAAM,SACN,SAAU,CACR,CACE,MAAO,GACP,QAAS,EACX,EACA,CACE,MAAO,EACP,KAAM,OACN,QAAS4C,EAAc,QAAS3C,CAAO,CACzC,CACF,CACF,CACF,EACA,UAAW,CAACF,EAAQC,EAAOwE,IAAqB,CAC9C,MAAM9B,EAAQ3C,EAAOC,GAAO,SAAUwE,GAChC,CAAE,QAAAI,CAAQ,EAAIlC,EACdL,EAAQT,EAASgD,EAAS,EAAG3E,CAAO,EACpC4E,EAAelB,EACnB5D,EAAOC,GAAO,SACdwE,EAAa,CACf,EAEA/B,EAASJ,EAAOwC,CAAY,EAC5BnC,EAAM,QAAUkC,EAAQ,MACtBA,EAAQ,QAAQ3E,EAAQ,KAAK,EAAIA,EAAQ,MAAM,MACjD,CACF,CACF,EAMA,CACE,KAAM,iBACN,MAAO,CACL,CACE,MAAO,GACP,KAAM,gBACR,EACA,CACE,MAAO,EACP,KAAM,SACN,SAAU,CACR,CACE,SAAU,GACV,KAAM,WACR,EACA,CACE,SAAU,GACV,KAAM,OACN,QAAS2C,EAAc,OAAQ3C,CAAO,CACxC,CACF,CACF,CACF,EACA,UAAW,CAACF,EAAQ+E,EAAMN,IAAqB,CAC7C,MAAM9B,EAAQ3C,EAAO+E,GAAM,SAAUN,GAC/BnC,EAAQT,EAASc,EAAM,QAAS,EAAGzC,CAAO,EAChD,IAAI8E,EAAKD,EAAO,EAEhB,KACE/E,EAAOgF,EAAK,IACZhF,EAAOgF,EAAK,GAAG,OAAS,qBACxBhF,EAAOgF,EAAK,GAAG,OAAS,oBAExBA,IAEFtC,EAASJ,EAAOtC,EAAOgF,EAAK,EAAE,EAC9BhF,EAAO+E,GAAM,SAAW/E,EAAO+E,GAAM,SAAU,MAAM,EAAG,EAAE,CAC5D,CACF,EASA,CACE,KAAM,wBACN,MAAO,CACL,CAGE,MAAO,EACP,KAAOhB,GACLA,IAAS,qBAAuBA,IAAS,oBAC7C,EACA,CACE,MAAO,EACP,KAAM,gBACR,EACA,CACE,MAAO,EACP,KAAM,SACN,QAASlB,EAAc,OAAQ3C,CAAO,EACtC,SAAW+E,GAAaA,EAAS,SAAW,CAC9C,EACA,CACE,MAAO,EACP,KAAM,iBACR,CACF,EACA,UAAW,CAACjF,EAAQC,IAAgB,CAClC,MAAM0C,EAAQ3C,EAAOC,EAAQ,GACvBqC,EAAQT,EAASc,EAAM,QAAS,EAAGzC,CAAO,EAC1C4E,EAAelB,EAAwB5D,EAAQC,CAAK,EAE1DyC,EAASJ,EAAOwC,CAAY,EAC5B9E,EAAO,OAAOC,EAAQ,EAAG,CAAC,CAC5B,CACF,EAKA,CACE,KAAM,gBACN,MAAO,CACL,CACE,MAAO,GACP,KAAM,gBACR,EACA,CACE,MAAO,EACP,KAAM,SACN,SAAU,CACR,CACE,SAAU,GACV,KAAM,OACN,QAAS4C,EAAc,MAAO3C,CAAO,CACvC,CACF,CACF,CACF,EACA,UAAW,CAACF,EAAQC,EAAOwE,IAAqB,CAC9C,MAAM9B,EAAQ3C,EAAOC,GAAO,SAAUwE,GAChC,CAAE,QAAAI,CAAQ,EAAIlC,EACdL,EAAQT,EACZgD,EACAA,EAAQ,YAAY3E,EAAQ,IAAI,EAChCA,CACF,EAEAwC,EAASJ,EAAOtC,EAAOC,EAAQ,EAAE,EAEjC,MAAMiF,EAAUL,EAAQ,MAAM,EAAGA,EAAQ,YAAY3E,EAAQ,IAAI,CAAC,EAElEyC,EAAM,QACJuC,EAAQA,EAAQ,OAAS,KAAO,IAAMA,EAAQ,MAAM,EAAG,EAAE,EAAIA,CACjE,CACF,EAMA,CACE,KAAM;AAAA,oCACN,MAAO,CACL,CACE,MAAO,EACP,KAAM,SACN,SAAU,CACR,CACE,SAAU,GACV,KAAM,WACR,EACA,CACE,SAAU,GACV,KAAM,OACN,QAASrC,EAAc,OAAQ3C,CAAO,CACxC,CACF,CACF,CACF,EACA,UAAW,CAACF,EAAQC,EAAOwE,IAAqB,CAC9C,MAAM9B,EAAQ3C,EAAOC,GAAO,SAAUwE,GAChCnC,EAAQT,EAASc,EAAM,QAAS,EAAGzC,CAAO,EAGhD,IAAI8E,EAAK/E,EAAQ,EAEjB,KAAOD,EAAOgF,EAAK,IAAMhF,EAAOgF,EAAK,GAAG,UAAY,IAAIA,IAExD,MAAMF,EAAelB,EAAwB5D,EAAQgF,CAAE,EAEvDtC,EAASJ,EAAOwC,CAAY,EAC5B9E,EAAOC,GAAO,SAAWD,EAAOC,GAAO,SAAU,MAAM,EAAG,EAAE,CAC9D,CACF,EAKA,CACE,KAAM,kBACN,MAAO,CACL,CACE,MAAO,EACP,KAAM,gBACR,EACA,CACE,MAAO,EACP,KAAM,SACN,SAAWgF,GAAaA,EAAS,SAAW,EAC5C,QAAUJ,GACRA,EAAQ,MACN,IAAI,OACF,qBAAqBlB,EAAazD,EAAQ,IAAI,MAAMyD,EAClDzD,EAAQ,KACV,IACF,CACF,IAAM,IACV,EACA,CACE,MAAO,EACP,KAAM,iBACR,CACF,EACA,UAAW,CAACF,EAAQC,IAAgB,CAClC,MAAM0C,EAAQ3C,EAAOC,GAErB0C,EAAM,KAAO,KACbA,EAAM,IAAM,KACZA,EAAM,QAAU,EAEhB,KAAM,CAAE,QAAAkC,CAAQ,EAAI7E,EAAOC,EAAQ,GAC7BW,EAAQiE,EAAQ,YAAY3E,EAAQ,IAAI,EACxCoC,EAAQT,EAASgD,EAASjE,EAAOV,CAAO,EAE9CwC,EAASJ,EAAOK,CAAK,EACrBA,EAAM,OAASkC,EACf7E,EAAO,OAAOC,EAAQ,EAAG,CAAC,CAC5B,CACF,EAKA,CACE,KAAM,eACN,MAAO,CACL,CACE,MAAO,EACP,KAAM,SACN,SAAU,CACR,CACE,SAAU,GACV,QAAS4C,EAAc,MAAO3C,CAAO,EACrC,KAAO6D,GAASA,IAAS,eAAiBA,IAAS,aACrD,CACF,CACF,CACF,EACA,UAAW,CAAC/D,EAAQ+E,EAAMN,IAAqB,CAC7C,MAAM9B,EAAQ3C,EAAO+E,GAAM,SAAUN,GAC/B,CAAE,QAAAI,CAAQ,EAAIlC,EACdL,EAAQT,EACZgD,EACAA,EAAQ,YAAY3E,EAAQ,IAAI,EAChCA,CACF,EACA,IAAI8E,EAAKD,EAAO,EAEhB,KAAO/E,EAAOgF,EAAK,IAAMhF,EAAOgF,EAAK,GAAG,UAAY,IAAIA,IAExD,MAAMF,EAAelB,EAAwB5D,EAAQgF,CAAE,EAEvDtC,EAASJ,EAAOwC,CAAY,EAE5B,MAAMI,EAAUL,EAAQ,MAAM,EAAGA,EAAQ,YAAY3E,EAAQ,IAAI,CAAC,EAElEyC,EAAM,QACJuC,EAAQA,EAAQ,OAAS,KAAO,IAAMA,EAAQ,MAAM,EAAG,EAAE,EAAIA,CACjE,CACF,CACF,EAUMC,EAAO,CACXnF,EACAC,EACAmF,IAC2C,CAprB7C,IAAAC,EAAAC,EAqrBE,MAAMC,EAAM,CACV,MAAO,GACP,IAAK,IACP,EAEMP,EAAKI,EAAK,QAAU,OAAYnF,EAAQmF,EAAK,MAAQA,EAAK,SAGhE,GAAIA,EAAK,QAAU,QAAaJ,EAAK,EAAG,OAAOO,EAG/C,MAAM5C,EAAQqB,GAAWhE,EAAQgF,CAAE,EAEnC,GAAIrC,IAAU,OAAW,OAAO4C,EAEhC,UAAWrD,KAAO,OAAO,KAAKkD,CAAI,EAA4B,CAC5D,GAAIlD,IAAQ,SAAWA,IAAQ,WAAY,SAE3C,GAAIS,EAAMT,KAAwB,OAAW,OAAOqD,EAEpD,GAAIrD,IAAQ,YAAciC,GAAiBiB,EAAK,QAAQ,EAAG,CACzD,KAAIC,EAAA1C,EAAM,WAAN,YAAA0C,EAAgB,UAAW,EAAG,OAAOE,EAEzC,IAAIC,EACJ,MAAMC,EAAaL,EAAK,SAClBH,EAAWtC,EAAM,SAEvB,GAAI8C,GAAA,MAAAA,EAAY,MAAOC,GAAOA,EAAG,WAAa,MAM5C,GAAA,GAJAF,EAAQC,EAAW,MAChBC,GAAOP,EAAKF,EAAUS,EAAG,SAAWA,CAAE,EAAE,KAC3C,EAEIF,EAAO,CAET,MAAMG,IAAIL,EAAAG,EAAWA,EAAW,OAAS,KAA/B,KAAAH,OAAAA,EAAmC,WAAY,EAEzDC,EAAI,IAAMI,GAAK,EAAIA,EAAIV,EAAS,OAASU,CAC3C,MAEA,SAASA,EAAI,EAAGA,EAAIV,EAAS,OAAQU,IAGnC,GAFAH,EAAQC,EAAW,MAAOC,GAAOP,EAAKF,EAAUU,EAAGD,CAAE,EAAE,KAAK,EAExDF,EAAO,CACTD,EAAI,IAAMI,EAEV,KACF,CAIJ,GAAIH,IAAU,GAAO,OAAOD,EAE5B,QACF,CAEA,MAAMK,EAAaR,EAAKlD,GAExB,OAAQ,OAAO0D,EAAY,CACzB,IAAK,UACL,IAAK,SACL,IAAK,SACH,GAAIjD,EAAMT,KAAS0D,EAAY,OAAOL,EAEtC,MAEF,IAAK,WAEH,GAAI,CAACK,EAAWjD,EAAMT,EAAI,EAAG,OAAOqD,EAEpC,MAEF,IAAK,SACH,GAAInB,GAAmBwB,CAAU,EAAG,CAKlC,GAJUA,EAAW,MAAOF,GACzBA,EAAiC/C,EAAMT,EAAI,CAC9C,IAEU,GAAO,OAAOqD,EAExB,KACF,CAEA,SAGF,QACE,MAAM,IAAI,MACR,sCAAsCrD,qFACxC,CACJ,CACF,CAGA,OAAAqD,EAAI,MAAQ,GAELA,CACT,EAEajD,GAAyC,CACpD5C,EACA,CAAE,KAAAqC,EAAO,IAAK,MAAAC,EAAQ,IAAK,QAAAC,EAAU,CAAA,CAAG,EAAI,CAAA,IACzC,CACH,MAAM4D,EAAWvB,GAAe,CAC9B,KAAAvC,EACA,MAAAC,EACA,QAAAC,CACF,CAAC,EAEK6D,EAAwBtF,GAAU,CACtC,MAAMR,EAASQ,EAAM,OAErB,QAASP,EAAQ,EAAGA,EAAQD,EAAO,OAAQC,IACzC,QACM8F,EAAe,EACnBA,EAAeF,EAAS,OACxBE,IACA,CACA,MAAMC,EAAUH,EAASE,GAEzB,IAAIjF,EAAqB,KAEXkF,EAAQ,MAAM,MAAOC,GAAM,CACvC,MAAMV,EAAMJ,EAAKnF,EAAQC,EAAOgG,CAAC,EAEjC,OAAIV,EAAI,MAAQ,OAAMzE,EAAMyE,EAAI,KAEzBA,EAAI,KACb,CAAC,IAGCS,EAAQ,UAAUhG,EAAQC,EAAOa,CAAI,GAGnCkF,EAAQ,OAAS,qBACjBA,EAAQ,OAAS,qBAGjBD,IAGN,CAEJ,EAEArG,EAAG,KAAK,MAAM,OAAO,UAAW,mBAAoBoG,CAAU,CAChE,ECl0BaI,GAAuBxG,GAAO,CACzCD,EAAUC,EAAI,CACZ,KAAM,QACN,WAAY,CAACM,EAAQC,IAAU,CAC7B,MAAMkG,EAAQnG,EAAOC,GAAO,KACzB,UAEA,EAAA,MAAM,CAAC,EACP,KAAK,EAEFiC,EAAM,SAASjC,IAErB,IAAImG,EAAS,KACTC,EAAa,GAEjB,QAASxC,EAAI5D,EAAO4D,EAAI7D,EAAO,OAAQ6D,IAAK,CAC1C,KAAM,CAAE,KAAAE,EAAM,QAAAc,EAAS,KAAAyB,CAAK,EAAItG,EAAO6D,GAEvC,GAAIE,IAAS,wBAAyB,MAElC,CAACc,IACDd,IAAS,UACPuC,IAAS,QACXF,EAASG,EAAK1B,CAAO,EACrBwB,EAAa,SACJC,IAAS,MAAQA,IAAS,gBACnCF,EAASG,EAAK1B,CAAO,EACrBwB,EAAa,OAKjBrG,EAAO6D,GAAG,KAAO,cAEjB7D,EAAO6D,GAAG,OAAS,GACrB,CAEA,MAAO,gBAAgB3B,cAAgBkE,MACrCD,EAAQ,UAAU,mBAAmBA,CAAK,MAAQ,WAC3CE,KACX,EACA,YAAa,IAAM,YACrB,CAAC,CACH,ECzCaG,GAA6C,CACxD,SAAU,GACV,MAAO,CAAA,EACP,OAAQ,GACR,cAAe,OACf,eAAgB,MAChB,MAAO,mDACP,IAAK,gDACL,MAAO,sDACP,SAAU,6DACZ,EAEMC,EACH9G,GACAD,GACCD,EAAUC,EAAI,CACZ,KAAAC,EACA,WAAY,CAACK,EAAiBC,IAA0B,CACtD,MAAMkG,EAAQnG,EAAOC,GAAO,KAAK,YAAY,MAAMN,EAAK,MAAM,EAAE,KAAA,EAEhE,IAAIyG,EAAS,GACb,MAAMM,EAA+B,GAErC,QAAS,EAAIzG,EAAO,EAAID,EAAO,OAAQ,IAAK,CAC1C,KAAM,CAAE,KAAA+D,EAAM,QAAAc,EAAS,KAAAyB,CAAK,EAAItG,EAAO,GAEvC,GAAI+D,IAAS,aAAapE,UAAc,MACpC,CAACkF,GACDd,IAAS,UACPuC,IAAS,OAAQF,EAASG,EAAK1B,CAAO,EACrC6B,EAAKJ,GAAQzB,EAEtB,CAEA,MAAO;AAAA,0BACW5E,YAAgBN,EAAK,MAAM,GAAG,EAAE,MAChDwG,EAAQ,WAAW,mBAAmBA,CAAK,KAAO,KACjDC,EAAS,YAAYA,KAAY,YAAYG,EAC9C,KAAK,UAAUG,CAAI,CACrB;AAAA,CAEF,EACA,YAAa,IAAM,aACrB,CAAC,EAEQC,GAA2BF,EAAU,aAAa,EAElDG,GAAwBH,EAAU,UAAU,EAE5CI,GAA0BJ,EAAU,YAAY,EClChDK,EAAsC,CACjDpH,EACA,CAAE,KAAAC,EAAM,UAAAoH,EAAW,OAAAC,CAAO,EAAI,CAC5B,KAAM,OACN,UAAW,OACX,OAAQ,IAAM,CAChB,CAAA,IACG,CACH,MAAMC,EAAiB,OAEjBC,EAAsB,CAAC1G,EAAOC,EAAWC,EAASC,IAAW,CACjE,IAAIC,EAAQJ,EAAM,OAAOC,GAAaD,EAAM,OAAOC,GAC/CI,EAAML,EAAM,OAAOC,GAIvB,GAAID,EAAM,IAAII,KAAW,IAAK,MAAO,GAErC,IAAIE,EAAMF,EAAQ,EAGlB,KAAOE,GAAOD,GACRL,EAAM,IAAIM,KAAS,KACvBA,GAAO,EAGT,MAAMC,EAAcD,EAAMF,EAE1B,GAAIG,EAAc,EAAG,MAAO,GAE5B,MAAMC,EAASR,EAAM,IAAI,MAAMI,EAAOE,CAAG,EACnChB,EAASU,EAAM,IAAI,MAAMM,EAAKD,CAAG,EAEjC,CAACsG,EAAeC,EAAK,EAAE,EAAItH,EAAO,MAAM,IAAK,CAAC,EAEpD,GAAIqH,EAAc,SAAWxH,EAAM,MAAO,GAG1C,GAAIgB,EAAQ,MAAO,GAGnB,IAAIM,EAAWR,EACXS,EAAa,GAGjB,KAGED,EAAWP,IAEXO,GAAY,EACZL,EAAQJ,EAAM,OAAOS,GAAYT,EAAM,OAAOS,GAC9CJ,EAAML,EAAM,OAAOS,GAEf,EAAAL,EAAQC,GAAOL,EAAM,OAAOS,GAAYT,EAAM,aAMlD,GAGEA,EAAM,IAAII,KAAW,KAErBJ,EAAM,OAAOS,GAAYT,EAAM,UAAY,EAC3C,CAEA,IAAKM,EAAMF,EAAQ,EAAGE,GAAOD,GACvBL,EAAM,IAAIM,KAAS,IADSA,IAChC,CAGF,GAAIA,EAAMF,GAASG,IAEjBD,EAAMN,EAAM,WAAWM,CAAG,EAEtBA,GAAOD,GAAK,CAEdK,EAAa,GACb,KACF,CAEJ,CAGF,MAAMC,EAAYX,EAAM,WAClBY,EAAaZ,EAAM,QAGzBA,EAAM,WAAa,GAAGb,SAGtBa,EAAM,QAAUS,GAAYC,EAAa,EAAI,GAE7C,MAAMG,EAAYb,EAAM,KAAK,GAAGb,cAAkBoH,EAAW,CAAC,EAE9D1F,EAAU,OAASL,EACnBK,EAAU,MAAQ,GAClBA,EAAU,KAAO8F,EACjB9F,EAAU,KAAO,CAAE,GAAI+F,EAAG,MAAO,EACjC/F,EAAU,IAAM,CAACZ,EAAWQ,GAAYC,EAAa,EAAI,EAAE,EAE3DV,EAAM,GAAG,MAAM,SACbA,EACAC,EAAY,EACZQ,GAAYC,EAAa,EAAI,EAC/B,EAEA,MAAMI,EAAad,EAAM,KAAK,GAAGb,eAAmBoH,EAAW,EAAE,EAEjE,OAAAzF,EAAW,OAASd,EAAM,IAAI,MAAMI,EAAOE,CAAG,EAC9CQ,EAAW,MAAQ,GAEnBd,EAAM,WAAaW,EACnBX,EAAM,QAAUY,EAChBZ,EAAM,KAAOS,GAAYC,EAAa,EAAI,GAEnC,EACT,EAEMmG,EAAqB,CAAC7G,EAAOC,EAAWC,EAASC,IAAW,CAChE,IAAIC,EAAQJ,EAAM,OAAOC,GAAaD,EAAM,OAAOC,GAC/CI,EAAML,EAAM,OAAOC,GAMvB,GAAID,EAAM,IAAI,OAAOI,CAAK,IAAM,IAAK,MAAO,GAE5C,IAAIX,EAGJ,IAAKA,EAAQ,EAAGA,EAAQgH,EAAe,OAAQhH,IAC7C,GAAIgH,EAAehH,KAAWO,EAAM,IAAII,EAAQX,GAAQ,MAAO,GAEjE,MAAMe,EAASR,EAAM,IAAI,MAAMI,EAAOA,EAAQX,CAAK,EAC7CqG,EAAO9F,EAAM,IAAI,MAAMI,EAAQX,EAAOY,CAAG,EAG/C,GAAIF,EAAQ,MAAO,GAEnB,IAAIM,EAAWR,EACXS,EAAa,GAGjB,KAGED,EAAWP,IAEXO,GAAY,EACZL,EAAQJ,EAAM,OAAOS,GAAYT,EAAM,OAAOS,GAC9CJ,EAAML,EAAM,OAAOS,GAEf,EAAAL,EAAQC,GAAOL,EAAM,OAAOS,GAAYT,EAAM,aAMlD,GAEEA,EAAM,IAAII,KAAW,KAErBJ,EAAM,OAAOS,IAAaT,EAAM,OAAOC,GACvC,CACA,IAAI6G,EAAmB,GAEvB,IAAKrH,EAAQ,EAAGA,EAAQgH,EAAe,OAAQhH,IAC7C,GAAIgH,EAAehH,KAAWO,EAAM,IAAII,EAAQX,GAAQ,CACtDqH,EAAmB,GACnB,KACF,CAEF,GAAIA,EAAkB,CAEpBpG,EAAa,GACbD,GAAY,EACZ,KACF,CACF,CAGF,MAAME,EAAYX,EAAM,WAClBY,EAAaZ,EAAM,QAGzBA,EAAM,WAAa,MAGnBA,EAAM,QAAUS,EAEhB,MAAMI,EAAYb,EAAM,KAAK,WAAY,WAAY,CAAC,EAEhD,CAAC2F,EAAOiB,CAAE,EAAId,EAAK,QAAQ,WAAY,EAAE,EAAE,MAAM,IAAK,CAAC,EAE7DjF,EAAU,MAAQ,GAClBA,EAAU,OAASL,EACnBK,EAAU,KAAO8E,EAAM,KAAK,EAC5B9E,EAAU,KAAO,CACf,OAAQiF,EAAK,SAAS,SAAS,CACjC,EAEIc,IAAI/F,EAAU,KAAK,MAAQ+F,EAAG,QAClC/F,EAAU,IAAM,CAACZ,EAAWQ,CAAQ,EAEpCT,EAAM,GAAG,MAAM,SAASA,EAAOC,EAAY,EAAGQ,CAAQ,EAEtD,MAAMK,EAAad,EAAM,KAAK,YAAa,WAAY,EAAE,EAEzD,OAAAc,EAAW,MAAQ,GACnBA,EAAW,OAAS,GAEpBd,EAAM,WAAaW,EACnBX,EAAM,QAAUY,EAChBZ,EAAM,KAAOS,GAAYC,EAAa,EAAI,GAEnC,EACT,EAEAxB,EAAG,MAAM,MAAM,OAAO,QAAS,GAAGC,SAAauH,EAAU,CACvD,IAAK,CAAC,YAAa,YAAa,aAAc,MAAM,CACtD,CAAC,EAMIxH,EAAG,MAAM,MAAM,UAAU,KAAK,CAAC,CAAE,KAAAC,CAAK,IAAMA,IAAS,KAAK,GAC7DD,EAAG,MAAM,MAAM,OAAO,QAAS,MAAO2H,EAAS,CAC7C,IAAK,CAAC,YAAa,YAAa,aAAc,MAAM,CACtD,CAAC,EAEH3H,EAAG,SAAS,MAAM,GAAGC,eAAoB,CACvCK,EACAC,EACAC,EACAqH,EACAC,IACW,CAEX,KAAM,CAAE,KAAAC,CAAK,EAAIzH,EAAOC,GAClByH,EAA2B,CAAA,EAC3BC,EAAaX,EAAOhH,EAAQC,EAAOC,EAASqH,EAAKC,CAAI,EAC3D,IAAII,EAAc,GACdC,EAAa,GAEjB,QAAShE,EAAI5D,EAAO4D,EAAI7D,EAAO,OAAQ6D,IAAK,CAE1C,KAAM,CAAE,MAAAiE,EAAO,KAAAL,EAAM,KAAA1D,EAAM,KAAAuC,CAAK,EAAItG,EAAO6D,GAE3C,GAAIiE,EAAO,CACT,GAAI/D,IAAS,GAAGpE,eAAmB,MACnC,GAAIoE,IAAS,GAAGpE,cAAkB,SAElC,GAAIoE,IAAS,WAAY,CAGnB0D,EAAK,SAAQG,EAAcF,EAAU,QAEzC1H,EAAO6D,GAAG,SAAS,CACjB,OAAO6D,EAAU,SACjB,4BACF,CAAC,EAEDG,EAAa,GACbH,EAAU,KAAK,CACb,MAAOpB,EAEP,GAAImB,EAAK,MAAQ,CAAE,MAAOA,EAAK,KAAgB,EAAI,EACrD,CAAC,EAED,QACF,CAEA,GAAI1D,IAAS,YAAa,SAErB8D,IACH7H,EAAO6D,GAAG,KAAO,GAAGlE,eACpBK,EAAO6D,GAAG,OAAS,GAEvB,CACF,CAEA,MAAMkE,EAAOL,EAAU,IAAI,CAACjF,EAAMxC,KAAW,CAC3C,GAAGwC,EACH,GAAGkF,EAAW1H,EAChB,EAAE,EAEF,MAAO,IAAI8G,SAAiB9G,aAE1B,KAAK,UAAU8H,CAAI,EAAE,QAAQ,KAAM,MAAM,KACvCH,IAAgB,GAAK,aAAaA,KAAiB,KAErDH,EAAK,GAAK,YAAYA,EAAK,MAAkB;AAAA,CAEjD,EAEA/H,EAAG,SAAS,MAAM,GAAGC,gBAAqB,IAAc,KAAKoH;AAAAA,CAC/D,EC9TaiB,GAA0BtI,GAAO,CAC5CoH,EAAKpH,EAAI,CACP,KAAM,YACN,UAAW,WACX,OAAQ,CAACM,EAAQC,IAAU,CACzB,IAAIgI,EAAY,GACZC,EAAa,GACjB,MAAMC,EAAsC,GAE5C,QAAStE,EAAI5D,EAAO4D,EAAI7D,EAAO,OAAQ6D,IAAK,CAC1C,KAAM,CAAE,MAAAiE,EAAO,KAAA/D,CAAK,EAAI/D,EAAO6D,GAE/B,GAAIiE,EAAO,CACT,GAAI/D,IAAS,uBACX,MAGF,GAAIA,IAAS,YAAa,CACxBkE,EAAY,GACZ,QACF,CAEA,GAAIlE,IAAS,WAAY,CAEvBkE,EAAY,GACZC,EAAa,GACb,QACF,CAEA,GAAID,GAAalE,IAAS,SAAW,CAACmE,EAAY,CAChDA,EAAa,GACb,QACF,CAEAlI,EAAO6D,GAAG,KAAO,iBACjB7D,EAAO6D,GAAG,OAAS,EACrB,CACF,CAEA,OAAOsE,CACT,CACF,CAAC,CACH,ECxCMC,GAAgB,CAACpI,EAAiBC,IAA0B,CAChE,MAAM0C,EAAQ3C,EAAOC,GACfiC,EAAM,WAAWjC,IACjB,CAAE,QAAA4E,EAAS,KAAAyB,CAAK,EAAI3D,EACpBwD,EAAQG,EAAK,OAAO,MAAM,IAAK,CAAC,EAAE,GAExC,MAAO,gBAAgBpE,cAAgBqE,EAAK1B,CAAO,KACjDsB,EAAQ,WAAW,mBAAmBA,CAAK,KAAO,eAEtD,EAEakC,GAAyB3I,GAAO,CAE3C,MAAM4I,EAAQ5I,EAAG,SAAS,MAAM,MAEhCA,EAAG,SAAS,MAAM,MAAQ,IAAI6I,IAAiB,CAC7C,KAAM,CAACvI,EAAQC,CAAK,EAAIsI,EAClB,CAAE,KAAAjC,CAAK,EAAItG,EAAOC,GAGxB,OAFiBqG,EAAK,MAAM,IAAK,CAAC,EAAE,KAEnB,UAAkB8B,GAAcpI,EAAQC,CAAK,EAEvDqI,EAAO,GAAGC,CAAI,CACvB,EAEA7I,EAAG,SAAS,MAAM,QAAa0I,GAE/B3I,EAAUC,EAAI,CACZ,KAAM,UAEN,WAAY,CAACM,EAAQC,IAAU,CAC7B,MAAMkG,EAAQnG,EAAOC,GAAO,KACzB,YAEA,MAAM,CAAC,EACP,KAAK,EAEFiC,EAAM,WAAWjC,IAEvB,IAAImG,EAAS,KACToC,EAAe,GAEnB,QAAS3E,EAAI5D,EAAO4D,EAAI7D,EAAO,OAAQ6D,IAAK,CAC1C,KAAM,CAAE,KAAAE,EAAM,QAAAc,EAAS,KAAAyB,CAAK,EAAItG,EAAO6D,GAEvC,GAAIE,IAAS,0BAA2B,MAEpC,CAACc,IACDd,IAAS,UACPuC,IAAS,OAAQF,EAASvB,GACrByB,IAAS,MAAQA,IAAS,gBACjCF,EAASvB,EACT2D,EAAe,KAKnBxI,EAAO6D,GAAG,KAAO,gBAEjB7D,EAAO6D,GAAG,OAAS,GACrB,CAEA,MAAO,gBAAgB3B,cAAgBqE,EAAKH,CAAM,KAChDD,EAAQ,WAAW,mBAAmBA,CAAK,KAAO,KACjDqC,EAAe,aAAe,KACnC,EACA,YAAa,IAAM,YACrB,CAAC,CACH,EC9CMC,GAAkB,CAAC9F,EAAc+F,IAAsB,CAC3D/F,EAAM,OAASA,EAAM,OAAS,CAAC,GAAG,OAAO,CAAC,CAACT,CAAG,IAAMA,IAAQwG,CAAS,CACvE,EAEMC,GAAcC,GAAiB,CAhCrC,IAAAvD,EAAAC,EAiCE,MAAMa,GAAQb,GAAAD,EAAAuD,EAAM,QAAN,KAAA,OAAAvD,EAAa,KAAK,CAAC,CAAC7C,CAAI,IAAMA,IAAS,OAAA,IAAvC,KAAA8C,OAAAA,EAAkD,GAEhE,OAAIa,GACFsC,GAAgBG,EAAO,OAAO,EAEvBzC,GAGFyC,EAAM,OACf,EAEaC,GAA2C,CAACnJ,EAAIQ,EAAU,CAAA,IAAO,CAC5ER,EAAG,KAAK,MAAM,OAAO,UAAW,SAAWc,GAAU,CAEnD,QACMP,EAAQ,EAAG,CAAE,OAAA6I,CAAO,EAAItI,EAAM,OAClCP,EAAQ6I,EAAS,EACjB7I,IACA,CACA,MAAM0C,EAAQnC,EAAM,OAAOP,GAY3B,GAVI0C,EAAM,OAAS,UAIjB,CAACA,EAAM,UACNA,EAAM,SAAS,SAAW,GAAKA,EAAM,SAAS,SAAW,GAKxDA,EAAM,SAAS,SAAW,GAAKA,EAAM,SAAS,GAAG,OAAS,QAC5D,SAGF,GAAIA,EAAM,SAAS,SAAW,EAAG,CAC/B,KAAM,CAACoG,EAAWC,EAAWC,CAAS,EAAItG,EAAM,SAMhD,GAJEoG,EAAU,OAAS,aACnBC,EAAU,OAAS,SACnBC,EAAU,OAAS,aAEL,QAClB,CAOA,GAJIhJ,IAAU,GAAKO,EAAM,OAAOP,EAAQ,GAAG,OAAS,kBAKlDA,IAAU6I,EAAS,GACnBtI,EAAM,OAAOP,EAAQ,GAAG,OAAS,kBAEjC,SAMF,MAAM4I,EAASrI,EAAM,OAAOP,EAAQ,GAEpC4I,EAAO,KAAO,cACdA,EAAO,IAAM,SACbrI,EAAM,OAAOP,EAAQ,GAAG,KAAO,eAC/BO,EAAM,OAAOP,EAAQ,GAAG,IAAM,SAG9B,MAAM2I,EACJjG,EAAM,SAAS,SAAW,EAAIA,EAAM,SAAS,GAAKA,EAAM,SAAS,GAE7DuG,EAAaP,GAAWC,CAAK,EAC7B,CAACO,CAAc,EAAIzJ,EAAG,YAAYwJ,EAAY1I,EAAM,GAAG,EAE7DmC,EAAM,SAAS,KAAK,IAAInC,EAAM,MAAM,kBAAmB,aAAc,CAAC,CAAC,EACvEmC,EAAM,SAAS,KAAK,GAAIwG,EAAe,UAAY,CAAG,CAAA,EACtDxG,EAAM,SAAS,KACb,IAAInC,EAAM,MAAM,mBAAoB,aAAc,EAAE,CACtD,EAEIN,EAAQ,YAAc,IAAO0I,EAAM,SAAS,CAAC,WAAY,GAAG,CAAC,CACnE,CACF,CAAC,CACH,EChHMQ,GAAkB,CAACpJ,EAAiBC,IAA0B,CAClE,MAAM0C,EAAQ3C,EAAOC,GACfiC,EAAM,aAAajC,IACnB,CAAE,QAAA4E,EAAS,KAAAyB,CAAK,EAAI3D,EAE1B,MAAO,kBAAkBT,YAAcqE,EAAK1B,CAAO,cACjDyB,EAAK,KAAA,EAAO,MAAM,IAAK,CAAC,EAAE,IAAM,qBAEpC,EAEa+C,GAA2B3J,GAAO,CAE7C,MAAM4I,EAAQ5I,EAAG,SAAS,MAAM,MAEhCA,EAAG,SAAS,MAAM,MAAQ,IAAI6I,IAAiB,CAC7C,KAAM,CAACvI,EAAQC,CAAK,EAAIsI,EAClB,CAAE,KAAAjC,CAAK,EAAItG,EAAOC,GAClBqJ,EAAWhD,EAAK,MAAM,IAAK,CAAC,EAAE,GAEpC,OAAIgD,IAAa,QAAUA,IAAa,YAC/BF,GAAgBpJ,EAAQC,CAAK,EAE/BqI,EAAO,GAAGC,CAAI,CACvB,EAEA7I,EAAG,SAAS,MAAM,UAAe0J,EACnC,EC8CMG,EAAc,CAACvJ,EAAyBC,IAE5CD,EAAOC,GAAO,KAAK,MAAQ,EAAI,IAAID,EAAOC,GAAO,KAAK,QAAU,GAE5DuJ,GAAgD,CACpDxJ,EACAC,EACAwJ,EACAlC,IAEA,GAEE,OAAOA,EAAI,OAAU,SAAW,IAAIA,EAAI,SAAW,MAGlDvH,EAAOC,GAAO,KAAK,GAAK,GAAG,SAAS,IAGnCyJ,GAA6C,CACjD1J,EACAC,IAEA,KAEGD,EAAOC,GAAO,KAAK,GAAK,GAAG,aAC3BsJ,EAAYvJ,EAAQC,CAAK,KAExB0J,GAAyC,CAC7C3J,EACAC,EACAC,EACAqH,EACAC,IACW,CACX,MAAMJ,EAAKI,EAAK,MAAM,mBACpBxH,EACAC,EACAC,EACAqH,EACAC,CACF,EACMoC,EAAUpC,EAAK,MAAM,gBACzBxH,EACAC,EACAC,EACAqH,EACAC,CACF,EAEA,MAAO,+CAA+CJ,MAAOwC,mDAAyDxC,IAAKmC,EACzHvJ,EACAC,CACF,aACF,EAEM4J,GAA+C,CACnDC,EACAC,EACA7J,IAEA,GACEA,EAAQ,SACJ;AAAA,EACA;AAAA;AAAA;AAAA,EAGF8J,GAA2B,IAAc;AAAA;AAAA,EAEzCC,GAA0C,CAC9CjK,EACAC,EACAC,EACAqH,EACAC,IAEA,mBAAmBA,EAAK,MAAM,mBAC5BxH,EACAC,EACAC,EACAqH,EACAC,CACF,IAAI+B,EAAYvJ,EAAQC,CAAK,4BAEzBiK,GAAsB,IAAc;AAAA,EAEpCC,GAA4C,CAChDnK,EACAC,EACAC,EACAqH,EACAC,IAEO,0BAA0BA,EAAK,MAAM,mBAC1CxH,EACAC,EACAC,EACAqH,EACAC,CACF,IACE+B,EAAYvJ,EAAQC,CAAK,qCAMvBmK,GAAyB,CAC7B5J,EACAC,EACAC,EACAC,IACG,CACH,IAAIG,EACA6B,EACA0H,EACAC,EACJ,MAAM1J,EAAQJ,EAAM,OAAOC,GAAaD,EAAM,OAAOC,GAC/CI,EAAML,EAAM,OAAOC,GAOzB,GAJIG,EAAQ,EAAIC,GAEZL,EAAM,IAAI,OAAOI,CAAK,IAAM,KAE5BJ,EAAM,IAAI,OAAOI,EAAQ,CAAC,IAAM,IAAK,MAAO,GAEhD,IAAKE,EAAMF,EAAQ,EAAGE,EAAMD,EAAKC,IAAO,CACtC,GAAIN,EAAM,IAAI,OAAOM,CAAG,IAAM,IAAK,MAAO,GAC1C,GAAIN,EAAM,IAAI,OAAOM,CAAG,IAAM,IAAK,KACrC,CAKA,GAFIA,IAAQF,EAAQ,GAEhBE,EAAM,GAAKD,GAAOL,EAAM,IAAI,OAAO,EAAEM,CAAG,IAAM,IAAK,MAAO,GAE9D,GAAIH,EAAQ,MAAO,GACnBG,GAAO,EAEFN,EAAM,IAAI,YAAWA,EAAM,IAAI,UAAY,CAC3CA,GAAAA,EAAM,IAAI,UAAU,OAAMA,EAAM,IAAI,UAAU,KAAO,CAAC,GAC3D,MAAM+J,EAAQ/J,EAAM,IAAI,MAAMI,EAAQ,EAAGE,EAAM,CAAC,EAEhDN,EAAM,IAAI,UAAU,KAAK,IAAI+J,KAAW,GAExC5H,EAAQ,IAAI6H,EAAM,wBAAyB,GAAI,CAAC,EAChD7H,EAAM,KAAO,CAAE,MAAA4H,CAAM,EACrB5H,EAAM,MAAQnC,EAAM,QACpBA,EAAM,OAAO,KAAKmC,CAAK,EAEvB,MAAM8H,EAAWjK,EAAM,OAAOC,GACxBiK,EAAYlK,EAAM,OAAOC,GACzBkK,EAAYnK,EAAM,OAAOC,GACzBmK,EAAgBpK,EAAM,WACtBqK,EAAgB/J,EAChBgK,EACJtK,EAAM,OAAOC,GACbK,GACCN,EAAM,OAAOC,GAAaD,EAAM,OAAOC,IAO1C,IALA4J,EACE7J,EAAM,OAAOC,GACbK,GACCN,EAAM,OAAOC,GAAaD,EAAM,OAAOC,IAEnCK,EAAMD,GAAK,CAGhB,GAFAyJ,EAAK9J,EAAM,IAAI,OAAOM,CAAG,EAErBwJ,IAAO,IAAMD,GAAU,EAAKA,EAAS,UAChCC,IAAO,IAAKD,GAAU,MAG/BvJ,OAAAA,GAAO,CACT,CAEA,OAAAN,EAAM,OAAOC,GAAaK,EAAM+J,EAChCrK,EAAM,OAAOC,GAAa4J,EAASS,EAEnCtK,EAAM,OAAOC,GAAaoK,EAC1BrK,EAAM,WAAa,EACnBA,EAAM,WAAa,WAEfA,EAAM,OAAOC,GAAaD,EAAM,YAClCA,EAAM,OAAOC,IAAcD,EAAM,WAEnCA,EAAM,GAAG,MAAM,SAASA,EAAOC,EAAWC,CAAO,EAEjDF,EAAM,WAAaoK,EACnBpK,EAAM,WAAa,EACnBA,EAAM,OAAOC,GAAaiK,EAC1BlK,EAAM,OAAOC,GAAakK,EAC1BnK,EAAM,OAAOC,GAAagK,EAE1B9H,EAAQ,IAAI6H,EAAM,yBAA0B,GAAI,EAAE,EAClD7H,EAAM,MAAQ,EAAEnC,EAAM,MACtBA,EAAM,OAAO,KAAKmC,CAAK,EAEhB,EACT,EAGMoI,GAA6B,CAACvK,EAA4BG,IAAW,CACzE,IAAIqK,EACArI,EACA3C,EACJ,MAAMa,EAAML,EAAM,OACZI,EAAQJ,EAAM,IAKpB,GAHII,EAAQ,GAAKC,GACbL,EAAM,IAAI,OAAOI,CAAK,IAAM,KAE5BJ,EAAM,IAAI,OAAOI,EAAQ,CAAC,IAAM,IAAK,MAAO,GAEhD,MAAMqK,EAAarK,EAAQ,EACrBsK,EAAWC,GAAe3K,EAAOI,EAAQ,CAAC,EAGhD,OAAIsK,EAAW,EAAU,IAOpBvK,IACEH,EAAM,IAAI,YAAWA,EAAM,IAAI,UAAY,CAAA,GAC3CA,EAAM,IAAI,UAAU,OAAMA,EAAM,IAAI,UAAU,KAAO,CAAA,GAC1DwK,EAAaxK,EAAM,IAAI,UAAU,KAAK,OAEtCA,EAAM,GAAG,OAAO,MACdA,EAAM,IAAI,MAAMyK,EAAYC,CAAQ,EACpC1K,EAAM,GACNA,EAAM,IACLR,EAAS,CAAA,CACZ,EAEA2C,EAAQnC,EAAM,KAAK,cAAe,GAAI,CAAC,EACvCmC,EAAM,KAAO,CAAE,GAAIqI,CAAW,EAE9BxK,EAAM,IAAI,UAAU,KAAKwK,GAAc,CACrC,QAASxK,EAAM,IAAI,MAAMyK,EAAYC,CAAQ,EAC7C,OAAAlL,CACF,GAGFQ,EAAM,IAAM0K,EAAW,EACvB1K,EAAM,OAASK,EAER,GACT,EAGMuK,GAA0B,CAAC5K,EAA4BG,IAAW,CACtE,IAAIG,EACAkK,EACAK,EACA1I,EACJ,MAAM9B,EAAML,EAAM,OACZI,EAAQJ,EAAM,IAQpB,GALII,EAAQ,EAAIC,GAEZ,CAACL,EAAM,IAAI,WAAa,CAACA,EAAM,IAAI,UAAU,MAC7CA,EAAM,IAAI,OAAOI,CAAK,IAAM,KAE5BJ,EAAM,IAAI,OAAOI,EAAQ,CAAC,IAAM,IAAK,MAAO,GAEhD,IAAKE,EAAMF,EAAQ,EAAGE,EAAMD,EAAKC,IAAO,CAEtC,GADIN,EAAM,IAAI,OAAOM,CAAG,IAAM,KAC1BN,EAAM,IAAI,OAAOM,CAAG,IAAM;AAAA,EAAM,MAAO,GAC3C,GAAIN,EAAM,IAAI,OAAOM,CAAG,IAAM,IAAK,KACrC,CAGA,GADIA,IAAQF,EAAQ,GAChBE,GAAOD,EAAK,MAAO,GAEvBC,GAAO,EAEP,MAAMyJ,EAAQ/J,EAAM,IAAI,MAAMI,EAAQ,EAAGE,EAAM,CAAC,EAEhD,OAAI,OAAON,EAAM,IAAI,UAAU,KAAK,IAAI+J,KAAa,IAC5C,IAEJ5J,IACEH,EAAM,IAAI,UAAU,OAAMA,EAAM,IAAI,UAAU,KAAO,CAAA,GAEtDA,EAAM,IAAI,UAAU,KAAK,IAAI+J,KAAW,GAC1CS,EAAaxK,EAAM,IAAI,UAAU,KAAK,OACtCA,EAAM,IAAI,UAAU,KAAKwK,GAAc,CAAE,MAAAT,EAAO,MAAO,CAAE,EACzD/J,EAAM,IAAI,UAAU,KAAK,IAAI+J,KAAWS,GACnCA,EAAaxK,EAAM,IAAI,UAAU,KAAK,IAAI+J,KAEjDc,EAAgB7K,EAAM,IAAI,UAAU,KAAKwK,GAAY,MACrDxK,EAAM,IAAI,UAAU,KAAKwK,GAAY,MACnCxK,EAAM,IAAI,UAAU,KAAKwK,GAAY,MAAS,EAEhDrI,EAAQnC,EAAM,KAAK,cAAe,GAAI,CAAC,EACvCmC,EAAM,KAAO,CAAE,GAAIqI,EAAY,MAAOK,EAAe,MAAAd,CAAM,GAG7D/J,EAAM,IAAMM,EACZN,EAAM,OAASK,EAER,GACT,EAGMyK,GAAgB9K,GAAsC,CAC1D,IAAI+K,EACA5I,EACA3C,EACAwL,EACAC,EACAC,EAAY,GAChB,MAAMC,EAAqC,GAwB3C,GAtBI,CAACnL,EAAM,IAAI,YAEfA,EAAM,OAASA,EAAM,OAAO,OAAQoL,GAC9BA,EAAW,OAAS,yBACtBF,EAAY,GACZF,EAAU,CACVC,EAAAA,EAAeG,EAAW,KAAK,MAExB,IAELA,EAAW,OAAS,0BACtBF,EAAY,GAEZC,EAAU,IAAIF,KAAkBD,EAEzB,KAELE,GAAWF,EAAQ,KAAKI,CAAU,EAE/B,CAACF,EACT,EAEG,CAAClL,EAAM,IAAI,UAAU,MAAM,MAAO,GACtC,KAAM,CAAE,KAAAqL,CAAK,EAAIrL,EAAM,IAAI,UAE3BmC,EAAQ,IAAI6H,EAAM,oBAAqB,GAAI,CAAC,EAC5ChK,EAAM,OAAO,KAAKmC,CAAK,EAEvB,QAASkB,EAAI,EAAG,CAAE,OAAAiF,CAAO,EAAI+C,EAAMhI,EAAIiF,EAAQjF,IAAK,CAClDlB,EAAQ,IAAI6H,EAAM,eAAgB,GAAI,CAAC,EACvC7H,EAAM,KAAO,CAAE,GAAIkB,EAAG,MAAOgI,EAAKhI,GAAG,KAAM,EAC3CrD,EAAM,OAAO,KAAKmC,CAAK,EAEnBkJ,EAAKhI,GAAG,QACV7D,EAAS,CAET2C,EAAAA,EAAQ,IAAI6H,EAAM,iBAAkB,IAAK,CAAC,EAC1C7H,EAAM,MAAQ,GACd3C,EAAO,KAAK2C,CAAK,EAEjBA,EAAQ,IAAI6H,EAAM,SAAU,GAAI,CAAC,EACjC7H,EAAM,SAAWkJ,EAAKhI,GAAG,OACzBlB,EAAM,QAAUkJ,EAAKhI,GAAG,QACxB7D,EAAO,KAAK2C,CAAK,EAEjBA,EAAQ,IAAI6H,EAAM,kBAAmB,IAAK,EAAE,EAC5C7H,EAAM,MAAQ,GACd3C,EAAO,KAAK2C,CAAK,GACRkJ,EAAKhI,GAAG,MAAO7D,EAAS2L,EAAU,IAAIE,EAAKhI,GAAG,SACpD7D,EAAS,CAEVA,EAAAA,IAAQQ,EAAM,OAASA,EAAM,OAAO,OAAOR,CAAM,GACjDQ,EAAM,OAAOA,EAAM,OAAO,OAAS,GAAG,OAAS,kBACjD+K,EAAgB/K,EAAM,OAAO,IAAI,GAAK,KACnC+K,EAAgB,KAErB,QAAS5F,EAAI,EAAGA,GAAK,OAAOkG,EAAKhI,GAAG,KAAK,EAAI,EAAIgI,EAAKhI,GAAG,MAAS,GAAI8B,IACpEhD,EAAQ,IAAI6H,EAAM,iBAAkB,GAAI,CAAC,EACzC7H,EAAM,KAAO,CAAE,GAAIkB,EAAG,MAAO8B,EAAG,MAAOkG,EAAKhI,GAAG,KAAM,EACrDrD,EAAM,OAAO,KAAKmC,CAAK,EAGrB4I,GAAe/K,EAAM,OAAO,KAAK+K,CAAa,EAElD5I,EAAQ,IAAI6H,EAAM,gBAAiB,GAAI,EAAE,EACzChK,EAAM,OAAO,KAAKmC,CAAK,CACzB,CAEA,OAAAA,EAAQ,IAAI6H,EAAM,qBAAsB,GAAI,EAAE,EAC9ChK,EAAM,OAAO,KAAKmC,CAAK,EAEhB,EACT,EAEamJ,GAA0BpM,GAAO,CAC5CA,EAAG,SAAS,MAAM,YAAiBiK,GACnCjK,EAAG,SAAS,MAAM,kBAAuBmK,GACzCnK,EAAG,SAAS,MAAM,mBAAwBsK,GAC1CtK,EAAG,SAAS,MAAM,aAAkBuK,GACpCvK,EAAG,SAAS,MAAM,cAAmBwK,GACrCxK,EAAG,SAAS,MAAM,eAAoByK,GAItCzK,EAAG,SAAS,MAAM,gBAAqBgK,GACvChK,EAAG,SAAS,MAAM,mBAAwB8J,GAE1C9J,EAAG,MAAM,MAAM,OAAO,YAAa,cAAe0K,GAAa,CAC7D,IAAK,CAAC,YAAa,WAAW,CAChC,CAAC,EACD1K,EAAG,OAAO,MAAM,MAAM,QAAS,iBAAkBqL,EAAc,EAC/DrL,EAAG,OAAO,MAAM,MAAM,iBAAkB,cAAe0L,EAAW,EAClE1L,EAAG,KAAK,MAAM,MAAM,SAAU,eAAgB4L,EAAY,CAC5D,ECxdaS,GAAiD,CAC5DrM,EACAQ,EAAU,CAAA,IACP,CACuC,CACxC,OACA,OACA,MACA,UACA,QACF,EAEW,QAASP,GAAS,CAC3BD,EAAG,IAAID,EAAW,CAChB,KAAAE,EACA,WAAY,CAACK,EAAQC,EAAOwJ,EAAUlC,IAA6B,CA5BzE,IAAAlC,EAgCQ,IAAIiB,EAHUtG,EAAOC,GAGJ,KAAK,KAAO,EAAA,MAAMN,EAAK,MAAM,EAAE,KAAK,EAGrD,GAAI,CAAC2G,EAAM,CACT,KAAM,CAAE,iBAAA0F,CAAiB,EAAIzE,EACvB0E,EAAeC,GAAmBF,GAAoB,EAAE,EACxDG,EAAaC,GAAkBlM,EAAS+L,CAAY,EAE1D3F,GAAOjB,EAAAnF,EAAQiM,KAAR,KAAA,OAAA9G,EAAsB1F,EAC/B,CAEA,MAAO,gCAAgCA;AAAAA,oCACrC2G,GAAQ3G;AAAAA,CAEZ,EACA,YAAa,IAAM;AAAA,CACrB,CAAC,CACH,CAAC,EAEDD,EAAG,IAAKA,GACND,EAAUC,EAAI,CACZ,KAAM,UACN,WAAY,CAACM,EAAQC,EAAOwJ,EAAUlC,IAA6B,CAtDzE,IAAAlC,EA0DQ,IAAIiB,EAHUtG,EAAOC,GAGJ,KACd,KAAK,EACL,MAEC,CACF,EACC,KAAK,EAGR,GAAI,CAACqG,EAAM,CACT,KAAM,CAAE,iBAAA0F,CAAiB,EAAIzE,EACvB0E,EAAeC,GAAmBF,GAAoB,EAAE,EACxDG,EAAaC,GAAkBlM,EAAS+L,CAAY,EAE1D3F,GAAOjB,EAAAnF,EAAQiM,KAAR,KAAA,OAAA9G,EAAqB,OAC9B,CAEA,MAAO,sDACLiB,GAAQ;AAAA,CAEZ,EACA,YAAa,IAAM;AAAA,CACrB,CAAC,CACH,CACF,EChFa+F,GAA+B3M,GAAO,CACjD,MAAM4M,EAAsB5M,EAAG,SAAS,MAAM,MAE9CA,EAAG,SAAS,MAAM,MAAQ,CAACM,EAAQC,EAAOC,EAASqH,EAAKC,KACtDxH,EAAOC,GAAO,QAAQ,UAAW,MAAM,EAEhCqM,EAAoBtM,EAAQC,EAAOC,EAASqH,EAAKC,CAAI,EAEhE,ECPa+E,GAAiD,CAC5D7M,EACA,CACE,MAAA8M,EAAQ,CAAC,qBAAsB,OAAO,EACtC,KAAAC,EAAO,CAAC,oBAAqB,MAAM,CACrC,EAAI,CACK,IAAA,CACT,MAAMH,EAAsB5M,EAAG,SAAS,MAAM,MAE9CA,EAAG,SAAS,MAAM,MAAQ,CAACM,EAAQC,EAAOC,EAASqH,EAAKC,IAAiB,CACvE,MAAM7E,EAAQ3C,EAAOC,GACfyM,EAAM/J,EAAM,QAAQ,KAAK,EAE/B,OAAI+J,IACEF,EAAM,KAAM/J,GAASiK,EAAI,SAAS,IAAIjK,GAAM,CAAC,GAC/CE,EAAM,QAAQ,YAAa,gBAAgB,EAC3CA,EAAM,QAAQ,MAAO+J,EAAI,QAAQ,QAAS,EAAE,CAAC,GACpCD,EAAK,KAAMhK,GAASiK,EAAI,SAAS,IAAIjK,GAAM,CAAC,IACrDE,EAAM,QAAQ,YAAa,eAAe,EAC1CA,EAAM,QAAQ,MAAO+J,EAAI,QAAQ,QAAS,EAAE,CAAC,IAI1CJ,EAAoBtM,EAAQC,EAAOC,EAASqH,EAAKC,CAAI,CAC9D,CACF,ECZMmF,GAAkB,CACtB7K,EACAhB,EACAD,IACgD,CAChD,IAAI6F,EACJ,MAAM9F,EAAQE,EACR8L,EAAS,CACb,GAAI,GACJ,IAAK9L,EACL,MAAO,EACT,EAIA,IAFA4F,EAAO5E,EAAI,WAAWhB,CAAG,EAGtBA,EAAMD,GAAO6F,GAAQ,IAAgBA,GAAQ,IAC9CA,IAAS,IAETA,EAAO5E,EAAI,WAAW,EAAEhB,CAAG,EAG7B,OAAA8L,EAAO,GAAK,GACZA,EAAO,IAAM9L,EACb8L,EAAO,MAAQ9K,EAAI,MAAMlB,EAAOE,CAAG,EAE5B8L,CACT,EAEMC,GAAiB,CACrB/K,EACAhB,EACAD,IACgE,CAChE,MAAM+L,EAAS,CACb,GAAI,GACJ,IAAK,EACL,MAAO,GACP,OAAQ,EACV,EAIA,GAFI9L,GAAOD,GAEPiB,EAAI,OAAOhB,CAAG,IAAM,IAAK,OAAO8L,EAEpC9L,GAAO,EAMP,MAAM4F,EAAO5E,EAAI,WAAWhB,CAAG,EAE/B,GAAI4F,IAAS,MAAiBA,EAAO,IAAQA,EAAO,IAClD,OAAOkG,EAGT,MAAME,EAAQH,GAAgB7K,EAAKhB,EAAKD,CAAG,EAK3C,GAHAC,EAAMgM,EAAM,IAGRhL,EAAI,OAAOhB,CAAG,IAAM,IAAK,OAAO8L,EAEpC9L,GAAO,EAGP,MAAMiM,EAASJ,GAAgB7K,EAAKhB,EAAKD,CAAG,EAE5C,OAAAC,EAAMiM,EAAO,IAEbH,EAAO,MAAQE,EAAM,MACrBF,EAAO,OAASG,EAAO,MACvBH,EAAO,IAAM9L,EACb8L,EAAO,GAAK,GAELA,CACT,EAEMI,GAA4B,CAACxM,EAAOG,IAAW,CACnD,MAAM4G,EAAgB/G,EAAM,IACtByM,EAASzM,EAAM,IACfK,EAAML,EAAM,OAGlB,GADIA,EAAM,IAAI,OAAOA,EAAM,GAAG,IAAM,KAChCA,EAAM,IAAI,OAAOA,EAAM,IAAM,CAAC,IAAM,IAAK,MAAO,GAEpD,MAAMyK,EAAazK,EAAM,IAAM,EACzB0K,EAAW1K,EAAM,GAAG,QAAQ,eAAeA,EAAOA,EAAM,IAAM,EAAG,EAAK,EAG5E,GAAI0K,EAAW,EAAG,MAAO,GAEzB,IAAIpK,EAAMoK,EAAW,EACjBxE,EAEAwG,EAAO,GACP/G,EAAQ,GACR2G,EAAQ,GACRC,EAAS,GAEb,GAAIjM,EAAMD,GAAOL,EAAM,IAAI,OAAOM,CAAG,IAAM,IAAK,CAS9C,IAFAA,GAAO,EAEAA,EAAMD,IACX6F,EAAOlG,EAAM,IAAI,WAAWM,CAAG,EAC3B,GAACN,EAAM,GAAG,MAAM,QAAQkG,CAAI,GAAKA,IAAS,KAF9B5F,IAEhB,CAGF,GAAIA,GAAOD,EAAK,MAAO,GAIvB,IAAI0E,EAEJA,EAAM/E,EAAM,GAAG,QAAQ,qBAAqBA,EAAM,IAAKM,EAAKN,EAAM,MAAM,EAEpE+E,EAAI,KACN2H,EAAO1M,EAAM,GAAG,cAAc+E,EAAI,GAAG,EAEjC/E,EAAM,GAAG,aAAa0M,CAAI,EAAGpM,EAAMyE,EAAI,IACtC2H,EAAO,IAKd,MAAMtM,EAAQE,EAEd,KAAOA,EAAMD,IACX6F,EAAOlG,EAAM,IAAI,WAAWM,CAAG,EAC3B,EAACN,CAAAA,EAAM,GAAG,MAAM,QAAQkG,CAAI,GAAKA,IAAS,KAF9B5F,IAEhB,CAOF,GAFAyE,EAAM/E,EAAM,GAAG,QAAQ,eAAeA,EAAM,IAAKM,EAAKN,EAAM,MAAM,EAE9DM,EAAMD,GAAOD,IAAUE,GAAOyE,EAAI,GAMpC,IALAY,EAAQZ,EAAI,IACZzE,EAAMyE,EAAI,IAIHzE,EAAMD,IACX6F,EAAOlG,EAAM,IAAI,WAAWM,CAAG,EAC3B,EAAA,CAACN,EAAM,GAAG,MAAM,QAAQkG,CAAI,GAAKA,IAAS,KAF9B5F,IAEhB,MAEGqF,EAAQ,GAIf,GAAIrF,EAAM,GAAK,IACb4F,EAAOlG,EAAM,IAAI,WAAWM,EAAM,CAAC,EAI/B4F,IAAS,KACXnB,EAAMsH,GAAerM,EAAM,IAAKM,EAAKN,EAAM,MAAM,EAC7C+E,EAAI,KAON,IANAuH,EAAQvH,EAAI,MACZwH,EAASxH,EAAI,OACbzE,EAAMyE,EAAI,IAIHzE,EAAMD,IACX6F,EAAOlG,EAAM,IAAI,WAAWM,CAAG,EAC3B,EAAA4F,IAAS,IAAQA,IAAS,KAFd5F,IAEhB,CAMR,GAAIA,GAAOD,GAAOL,EAAM,IAAI,OAAOM,CAAG,IAAM,IAC1C,OAAAN,EAAM,IAAMyM,EAEL,GAETnM,GAAO,CACT,KAAO,CACL,IAAIyJ,EAAQ,GAKZ,GAAI,OAAOhD,EAAI,WAAe,IAAa,MAAO,GAElD,GAAIzG,EAAMD,GAAOL,EAAM,IAAI,OAAOM,CAAG,IAAM,IAAK,CAC9C,MAAMF,EAAQE,EAAM,EAEpBA,EAAMN,EAAM,GAAG,QAAQ,eAAeA,EAAOM,CAAG,EAE5CA,GAAO,EAAGyJ,EAAQ/J,EAAM,IAAI,MAAMI,EAAOE,GAAK,EAC7CA,EAAMoK,EAAW,CACxB,MAAOpK,EAAMoK,EAAW,EAInBX,IAAOA,EAAQ/J,EAAM,IAAI,MAAMyK,EAAYC,CAAQ,GAExD,MAAMiC,EAAM5F,EAAI,WAAW/G,EAAM,GAAG,MAAM,mBAAmB+J,CAAK,GAElE,GAAI,CAAC4C,EACH,OAAA3M,EAAM,IAAMyM,EAEL,GAGTC,EAAOC,EAAI,KACXhH,EAAQgH,EAAI,OAAS,EACvB,CAMA,GAAI,CAACxM,EAAQ,CACX,MAAMkE,EAAUrE,EAAM,IAAI,MAAMyK,EAAYC,CAAQ,EAC9ClL,EAAkB,CAAA,EAExBQ,EAAM,GAAG,OAAO,MAAMqE,EAASrE,EAAM,GAAIA,EAAM,IAAKR,CAAM,EAE1D,MAAM2C,EAAQnC,EAAM,KAAK,QAAS,MAAO,CAAC,EAE1CmC,EAAM,MAA4B,CAChC,CAAC,MAAOuK,CAAI,EACZ,CAAC,MAAO,EAAE,CACZ,EACI/G,GAAOxD,EAAM,MAAM,KAAK,CAAC,QAASwD,CAAK,CAAC,EACxC2G,IAAU,IAAInK,EAAM,MAAM,KAAK,CAAC,QAASmK,CAAK,CAAC,EAC/CC,IAAW,IAAIpK,EAAM,MAAM,KAAK,CAAC,SAAUoK,CAAM,CAAC,EAEtDpK,EAAM,SAAW3C,EACjB2C,EAAM,QAAUkC,CAClB,CAEA,OAAArE,EAAM,IAAMM,EACZN,EAAM,OAASK,EAER,EACT,EAEauM,GAA2B1N,GAAO,CAC7CA,EAAG,OAAO,MAAM,OAAO,WAAY,QAASsN,EAAa,CAC3D,ECnOMK,GAAe,CACnB7M,EACAM,IAC4C,CAC5C,MAAMwM,EAAWxM,EAAM,EAAIN,EAAM,IAAI,OAAOM,EAAM,CAAC,EAAI,GACjD0C,EAAW1C,EAAM,GAAKN,EAAM,OAASA,EAAM,IAAI,OAAOM,EAAM,CAAC,EAAI,GAEvE,MAAO,CACL,QAAS0C,IAAa,KAAOA,IAAa,IAM1C,SAAU,EACR8J,IAAa,KACbA,IAAa,KACb,SAAS,KAAK9J,CAAQ,EAE1B,CACF,EAEM+J,GAAwB,CAAC/M,EAAOG,IAAW,CAC/C,IAAI6E,EACA1E,EACAyE,EACA5C,EAEJ,GAAInC,EAAM,IAAIA,EAAM,OAAS,IAAK,MAAO,GAGzC,GADA+E,EAAM8H,GAAa7M,EAAOA,EAAM,GAAG,EAC/B,CAAC+E,EAAI,QACP,OAAK5E,IAAQH,EAAM,SAAW,KAE9BA,EAAM,KAAO,EAEN,GAST,MAAMI,EAAQJ,EAAM,IAAM,EAG1B,IADAgF,EAAQ5E,GACA4E,EAAQhF,EAAM,IAAI,QAAQ,IAAKgF,CAAK,KAAO,IAAI,CAMrD,IADA1E,EAAM0E,EAAQ,EACPhF,EAAM,IAAIM,KAAS,MAAMA,GAAO,EAGvC,IAAK0E,EAAQ1E,GAAO,IAAM,EAAG,MAE7B0E,GAAS,CACX,CAGA,OAAIA,IAAU,IACP7E,IAAQH,EAAM,SAAW,KAE9BA,EAAM,IAAMI,EAEL,IAIL4E,EAAQ5E,IAAU,GACfD,IAAQH,EAAM,SAAW,MAE9BA,EAAM,IAAMI,EAAQ,EAEb,KAIT2E,EAAM8H,GAAa7M,EAAOgF,CAAK,EAE1BD,EAAI,UAQJ5E,IACHgC,EAAQnC,EAAM,KAAK,cAAe,OAAQ,CAAC,EAC3CmC,EAAM,OAAS,IACfA,EAAM,QAAUnC,EAAM,IAAI,MAAMI,EAAO4E,CAAK,GAG9ChF,EAAM,IAAMgF,EAAQ,EAEb,KAfA7E,IAAQH,EAAM,SAAW,KAE9BA,EAAM,IAAMI,EAEL,IAYX,EAEM4M,GAAsB,CAAChN,EAAOI,EAAO0C,EAAK3C,IAAW,CACzD,IAAI8M,EACAC,EACAC,EACAC,EACAC,EAAQ,GACR/M,EAAMN,EAAM,OAAOI,GAASJ,EAAM,OAAOI,GACzCC,EAAML,EAAM,OAAOI,GAIvB,GAFIE,EAAM,EAAID,GAEVL,EAAM,IAAI,MAAMM,EAAKA,EAAM,CAAC,IAAM,KAAM,MAAO,GAKnD,GAHAA,GAAO,EACP2M,EAAYjN,EAAM,IAAI,MAAMM,EAAKD,CAAG,EAEhCF,EAAQ,MAAO,GAQnB,IANI8M,EAAU,KAAK,EAAE,SAAS,IAAI,IAEhCA,EAAYA,EAAU,KAAA,EAAO,MAAM,EAAG,EAAE,EACxCI,EAAQ,IAGLF,EAAO/M,EAAO,CAACiN,IAClBF,GAAQ,EAEJ,EAAAA,GAAQrK,IAEZxC,EAAMN,EAAM,OAAOmN,GAAQnN,EAAM,OAAOmN,GACxC9M,EAAML,EAAM,OAAOmN,GAEf7M,EAAMD,GAAOL,EAAM,OAAOmN,GAAQnN,EAAM,cAIxCA,EAAM,IAAI,MAAMM,EAAKD,CAAG,EAAE,OAAO,SAAS,IAAI,IAChD+M,EAAUpN,EAAM,IAAI,MAAM,EAAGK,CAAG,EAAE,YAAY,IAAI,EAClD6M,EAAWlN,EAAM,IAAI,MAAMM,EAAK8M,CAAO,EACvCC,EAAQ,IAIZrN,EAAM,KAAOmN,EAAO,EAEpB,MAAMhL,EAAQnC,EAAM,KAAK,aAAc,OAAQ,CAAC,EAEhD,OAAAmC,EAAM,MAAQ,GACdA,EAAM,SACH8K,GAAA,MAAAA,EAAW,KAAS,EAAA;AAAA,EAAKA;AAAAA,EAAgB;AAAA,GAC1CjN,EAAM,SAASI,EAAQ,EAAG+M,EAAMnN,EAAM,OAAOI,GAAQ,EAAI,GACxD8M,GAAA,MAAAA,EAAU,KAAA,EAASA,EAAW,IACjC/K,EAAM,IAAM,CAAC/B,EAAOJ,EAAM,IAAI,EAC9BmC,EAAM,OAAS,KAER,EACT,EAEamL,EAAqC,CAACpO,EAAIQ,IAAY,CACjE,KAAM,CAAE,OAAA6N,CAAO,EAAI7N,GAAW,CAE9B,EAAA,GAAI,OAAO6N,GAAW,WACpB,OAAO,QAAQ,MACb,uDACF,EAEFrO,EAAG,OAAO,MAAM,MAAM,SAAU,cAAe6N,EAAS,EACxD7N,EAAG,MAAM,MAAM,MAAM,aAAc,aAAc8N,GAAU,CACzD,IAAK,CAAC,YAAa,YAAa,aAAc,MAAM,CACtD,CAAC,EAED9N,EAAG,SAAS,MAAM,YAAiB,CAACM,EAAQC,IAC1C8N,EAAO/N,EAAOC,GAAO,QAAS,EAAK,EACrCP,EAAG,SAAS,MAAM,WAAgB,CAACM,EAAQC,IACzC8N,EAAO/N,EAAOC,GAAO,QAAS,EAAI,CACtC,ECrNa+N,GAAc,YAEdC,GAAc,8CAEdC,GAAe,CAC1BvL,EACAhD,EACAwC,IACS,CACT,MAAMlC,EAAQ0C,EAAM,UAAUhD,CAAI,EAC5B6C,EAAyB,CAAC7C,EAAMwC,CAAK,EAEvClC,EAAQ,EAAG0C,EAAM,SAASH,CAAI,EAC7BG,EAAM,MAAO1C,GAASuC,CAC7B,EAEa2L,GAAsB,CAACnO,EAAiBC,IAA0B,CAC7E,MAAMmO,EAAcpO,EAAOC,GAAO,MAAQ,EAE1C,QAAS4D,EAAI5D,EAAQ,EAAG4D,GAAK,EAAGA,IAC9B,GAAI7D,EAAO6D,GAAG,QAAUuK,EAAa,OAAOvK,EAE9C,MAAO,EACT,EAEawK,GAAiB1L,IAC5BA,GAAA,KAAA,OAAAA,EAAO,QAAS,SAEL2L,GAAoB3L,IAC/BA,GAAA,YAAAA,EAAO,QAAS,iBAEL4L,GAAmB5L,IAC9BA,GAAA,YAAAA,EAAO,QAAS,iBAEL6L,EAAcC,GACzBA,EACG,QAAQ,MAAO,OAAO,EACtB,QAAQ,MAAO,MAAM,EACrB,QAAQ,MAAO,MAAM,EACrB,QAAQ,MAAO,QAAQ,EACvB,QAAQ,MAAO,QAAQ,ECRtBC,GAAUC,GAAc,YAAY,GAAG,EAEvCC,GAAc,CAACd,EAAa5N,IAA0C,CAC1E,GAAI,CACF,OAAO2O,GAAM,eAAef,EAAK,CAAE,GAAG5N,EAAS,YAAa,EAAM,CAAC,CACrE,OAAS4O,GACP,OAAI5O,EAAQ,cAAc,QAAQ,KAAK4O,CAAK,EAErC,oCAAoCN,EACxCM,EAAgB,SACnB,CAAA,MAAMN,EAAWV,CAAG,UACtB,CACF,EAEMiB,GAAa,CAACjB,EAAa5N,IAA0C,CACzE,GAAI,CACF,MAAO,0BAA0B2O,GAAM,eAAef,EAAK,CACzD,GAAG5N,EACH,YAAa,GACb,OAAS8O,GACPA,IAAc,uBAAyB,SAAW,MACtD,CAAC;AAAA,CACH,OAASF,GACP,OAAI5O,EAAQ,cAAc,QAAQ,KAAK4O,CAAK,EAErC,6CAA6CN,EACjDM,EAAgB,UACnB,MAAMN,EAAWV,CAAG;AAAA,CACtB,CACF,EAEamB,GAAyC,CAACvP,EAAIQ,EAAU,CAAC,IAAM,CAC1E,KAAM,CAAE,OAAAgP,EAAS,MAAUC,CAAY,EAAIjP,EAEvCgP,GAAQR,GAAQ,sBAAsB,EAE1C,MAAMU,EAAe,CACnB,aAAc,GACd,GAAGD,CACL,EAEAzP,EAAG,IAAIoO,EAAK,CACV,OAAQ,CAACjJ,EAASwK,IAChBA,EACIN,GAAWlK,EAASuK,CAAY,EAChCR,GAAY/J,EAASuK,CAAY,CACzC,CAAC,CACH,ECnCME,GAAa,CACjBzK,EACA0K,EACAF,IACW,CACX,MAAMG,EAAUC,GAAY,EAE5BC,GAAoBF,CAAO,EAC3B,MAAMG,EAAeC,GAAQ,SAAS/K,EAAS0K,CAAe,EAExDM,EAAOL,EAAQ,UACnBG,EAAa,QAAQ9K,EAAS,CAAE,QAASwK,CAAY,CAAC,CACxD,EACMS,EAAaN,EAAQ,UACzBD,EAAgB,UAAU,WAAWI,CAAY,CACnD,EAGA,OAAOI,GAAMF,EAAOC,CAAU,CAChC,EAEaE,GAA6C,CACxDtQ,EACAQ,EAAU,KACP,CACH,MAAMqP,EAAkB,CACtB,SAAU,IAAIU,GAAsC,CAClD,SAAUC,GACV,GAAGhQ,EAAQ,GACb,CAAC,EACD,UACEA,EAAQ,SAAW,QACf,IAAIiQ,GAAwC,CAC1C,GAAGjQ,EAAQ,KACb,CAAC,EACD,IAAIkQ,GAAsC,CACxC,UAAW,OACX,GAAGlQ,EAAQ,GACb,CAAC,CACT,EAEAR,EAAG,IAAIoO,EAAK,CACV,OAAQ,CAACjJ,EAASwK,IAChBC,GAAWzK,EAAS0K,EAAiBF,CAAW,CACpD,CAAC,CACH,ECzDMgB,GAAuB,CAAC7P,EAAOG,IAAW,CAC9C,MAAMC,EAAQJ,EAAM,IACdZ,EAASY,EAAM,IAAI,OAAOI,CAAK,EAErC,GAAID,GAAUf,IAAW,IAAK,MAAO,GAErC,MAAM0Q,EAAU9P,EAAM,WAAWA,EAAM,IAAK,EAAI,EAChD,GAAI,CAAE,OAAAsI,CAAO,EAAIwH,EAEjB,GAAIxH,EAAS,EAAG,MAAO,GACvB,IAAInG,EAEAmG,EAAS,IACXnG,EAAQnC,EAAM,KAAK,OAAQ,GAAI,CAAC,EAChCmC,EAAM,QAAU/C,EAChBkJ,GAAU,GAGZ,QAASjF,EAAI,EAAGA,EAAIiF,EAAQjF,GAAK,EAC/BlB,EAAQnC,EAAM,KAAK,OAAQ,GAAI,CAAC,EAChCmC,EAAM,QAAU,GAAG/C,IAASA,KAExB0Q,EAAQ,UAAYA,EAAQ,YAC9B9P,EAAM,WAAW,KAAK,CACpB,OAAQ,GACR,OAAQ,EACR,KAAMqD,EAAI,EACV,MAAOrD,EAAM,OAAO,OAAS,EAC7B,IAAK,GACL,KAAM8P,EAAQ,SACd,MAAOA,EAAQ,SACjB,CAAC,EAGL,OAAA9P,EAAM,KAAO8P,EAAQ,OAEd,EACT,EAMMC,GAAc,CAClB/P,EACAgQ,IACS,CACT,IAAI7N,EACJ,MAAM8N,EAAc,CAAA,EACd5P,EAAM2P,EAAW,OAEvB,QAAS3M,EAAI,EAAGA,EAAIhD,EAAKgD,IAAK,CAC5B,MAAM6M,EAAaF,EAAW3M,GAE9B,GAAI6M,EAAW,SAAW,IAAgBA,EAAW,MAAQ,GAAI,CAC/D,MAAMC,EAAWH,EAAWE,EAAW,KAEvC/N,EAAQnC,EAAM,OAAOkQ,EAAW,OAChC/N,EAAM,KAAO,YACbA,EAAM,IAAM,OACZA,EAAM,QAAU,EAChBA,EAAM,OAAS,KACfA,EAAM,QAAU,GAEhBA,EAAQnC,EAAM,OAAOmQ,EAAS,OAC9BhO,EAAM,KAAO,aACbA,EAAM,IAAM,OACZA,EAAM,QAAU,GAChBA,EAAM,OAAS,KACfA,EAAM,QAAU,GAGdnC,EAAM,OAAOmQ,EAAS,MAAQ,GAAG,OAAS,QAC1CnQ,EAAM,OAAOmQ,EAAS,MAAQ,GAAG,UAAY,KAE7CF,EAAY,KAAKE,EAAS,MAAQ,CAAC,CACvC,CACF,CAUA,KAAOF,EAAY,QAAQ,CACzB,MAAM5M,EAAI4M,EAAY,MACtB,IAAI9K,EAAI9B,EAAI,EAEZ,KAAO8B,EAAInF,EAAM,OAAO,QAAUA,EAAM,OAAOmF,GAAG,OAAS,cACzDA,GAAK,EAEPA,GAAK,EAED9B,IAAM8B,IACRhD,EAAQnC,EAAM,OAAOmF,GACrBnF,EAAM,OAAOmF,GAAKnF,EAAM,OAAOqD,GAC/BrD,EAAM,OAAOqD,GAAKlB,EAEtB,CACF,EAEaiO,GAAsBlR,GAAO,CACxCA,EAAG,OAAO,MAAM,OAAO,WAAY,OAAQ2Q,EAAQ,EACnD3Q,EAAG,OAAO,OAAO,OAAO,WAAY,OAASc,GAAU,CACrD,MAAMqQ,EAAarQ,EAAM,aAAe,CAAA,EAExC+P,GAAY/P,EAAOA,EAAM,UAAU,EAEnC,QAASsQ,EAAO,EAAGA,EAAOD,EAAW,OAAQC,IAAQ,CACnD,MAAMC,EAAYF,EAAWC,GAEzBC,GAAA,MAAAA,EAAW,YAAYR,GAAY/P,EAAOuQ,EAAU,UAAU,CACpE,CAEA,MAAO,EACT,CAAC,CACH,EC5HMC,GAAY,+CAELC,GAAgB,CAC3B,CAAE,SAAAC,EAAU,UAAAC,EAAW,QAAAC,CAAQ,EAC/B,CAAE,IAAAC,EAAK,cAAAC,EAAe,aAAAC,CAAa,IACxB,CACX,IAAIC,EAAWN,EAEf,GAAI,CAACO,EAAK,WAAWP,CAAQ,EAAG,CAG9B,GAAI,CAACG,EACH,OAAQ,QAAA,MAAM,uCAAuCH,GAAU,EAExD;AAAA;AAAA,EAGTM,EAAWC,EAAK,QAAQJ,EAAKH,CAAQ,CACvC,CAKA,GAHAI,EAAc,KAAKE,CAAQ,EAGvB,CAACE,GAAG,WAAWF,CAAQ,EACzB,OAAQ,QAAA,MAAM,YAAYA,aAAoB,EAEvC;AAAA;AAAA,EAOT,MAAM5E,EAHc8E,GAAG,aAAaF,CAAQ,EAAE,SAI3C,EAAA,QAAQxD,GAAa;AAAA,CAAI,EACzB,MAAM;AAAA,CAAI,EACV,MAAMmD,GAAYA,EAAY,EAAeC,CAAO,EAEvD,GAAIG,GAAgBC,EAAS,SAAS,KAAK,EAAG,CAC5C,MAAMG,EAAUF,EAAK,QAAQD,CAAQ,EAErC5E,EAAO,QAAQ,iBAAiB+E,IAAU,EAC1C/E,EAAO,KAAK,gBAAgB,CAC9B,CAEA,OAAOA,EAAO,KAAK;AAAA,CAAI,EAAE,QAAQ,OAAQ;AAAA,CAAI,CAC/C,EAEagF,EAAiB,CAC5B/M,EACA3E,EACA,CAAE,IAAAmR,EAAK,cAAAC,CAAc,IAErBzM,EACG,MAAM;AAAA,CAAI,EACV,IAAKgN,GAAS,CACb,GAAIA,EAAK,WAAW,UAAU,EAAG,CAE/B,MAAMrM,EAAQqM,EAAK,MAAMb,EAAS,EAElC,GAAIxL,EAAO,CACT,KAAM,CAAGsM,CAAAA,EAAaX,EAAWC,CAAO,EAAI5L,EACtCuM,EAAa7R,EAAQ,QAAQ4R,CAAW,EACxCP,EACJrR,EAAQ,kBAAoBA,EAAQ,gBAEhC2E,EAAUoM,GACd,CACE,SAAUc,EACV,UAAWZ,EAAY,OAAO,SAASA,EAAW,EAAE,EAAI,EACxD,QAASC,EAAU,OAAO,SAASA,EAAS,EAAE,EAAI,MACpD,EACA,CAAE,IAAAC,EAAK,cAAAC,EAAe,aAAAC,CAAa,CACrC,EAEA,OAAOrR,EAAQ,MAAQ6R,EAAW,SAAS,KAAK,EAC5CH,EAAe/M,EAAS3E,EAAS,CAC/B,IAAKuR,EAAK,WAAWM,CAAU,EAC3BN,EAAK,QAAQM,CAAU,EACvBV,EACAI,EAAK,QAAQJ,EAAKI,EAAK,QAAQM,CAAU,CAAC,EAC1C,KACJ,cAAAT,CACF,CAAC,EACDzM,CACN,CACF,CAEA,OAAOgN,CACT,CAAC,EACA,KAAK;AAAA,CAAI,EAEDG,GACV9R,GACAM,GAAgB,CACf,MAAM+G,EAAkB/G,EAAM,IACxB8Q,EAAgB/J,EAAI,gBAAkBA,EAAI,cAAgB,IAEhE/G,EAAM,IAAMoR,EAAepR,EAAM,IAAKN,EAAS,CAC7C,IAAKqH,EAAI,SAAWkK,EAAK,QAAQlK,EAAI,QAAQ,EAAI,KACjD,cAAA+J,CACF,CAAC,CACH,EAEIW,GAAiB,8BACjBC,GAAgB,qBAEhBC,GAA6B,CAAC3R,EAAOC,EAAW2R,EAAGzR,IAAoB,CAC3E,MAAMG,EAAMN,EAAM,OAAOC,GAAaD,EAAM,OAAOC,GAC7CI,EAAML,EAAM,OAAOC,GACnBoE,EAAUrE,EAAM,IAAI,MAAMM,EAAKD,CAAG,EACxC,IAAI+L,EAAkB/H,EAAQ,WAAW,eAAe,EAExD,GAAI+H,EAAQ,CAEV,MAAMpH,EAAQX,EAAQ,MAAMoN,EAAc,EAE1C,GAAIzM,EAAO,CACT,GAAI7E,EAAQ,MAAO,GAEnB,KAAM,CAAGmR,CAAAA,CAAW,EAAItM,EAExBhF,EAAM,KAAOC,EAAY,EACzB,MAAMkC,EAAQnC,EAAM,KAAK,eAAgB,GAAI,CAAC,EAE9CmC,EAAM,IAAM,CAAClC,EAAWD,EAAM,IAAI,EAClCmC,EAAM,KAAOmP,EACbnP,EAAM,OAAS,SACjB,MACEiK,EAAS,EAEb,CAEA,OAAOA,CACT,EAEMyF,GAA4B,CAAC7R,EAAOC,EAAW2R,EAAGzR,IAAoB,CAC1E,MAAMG,EAAMN,EAAM,OAAOC,GAAaD,EAAM,OAAOC,GAC7CI,EAAML,EAAM,OAAOC,GACnBoE,EAAUrE,EAAM,IAAI,MAAMM,EAAKD,CAAG,EACxC,IAAI+L,EAAkB/H,EAAQ,WAAW,cAAc,EAEvD,GAAI+H,EAGF,GAFc/H,EAAQ,MAAMqN,EAAa,EAE9B,CACT,GAAIvR,EAAQ,MAAO,GAEnBH,EAAM,KAAOC,EAAY,EAEzB,MAAMkC,EAAQnC,EAAM,KAAK,cAAe,GAAI,CAAC,EAE7CmC,EAAM,IAAM,CAAClC,EAAWD,EAAM,IAAI,EAClCmC,EAAM,OAAS,QACjB,MAAOiK,EAAS,GAGlB,OAAOA,CACT,EAEM0F,GAAqB,CACzB9P,EACAG,EACAuO,EACAqB,IACS,CAnMX,IAAAlN,EAoME,MAAMmN,EAAY7P,EAAM,UAAUH,CAAI,EAChCiQ,GAAMpN,EAAA1C,EAAM,QAAN,KAAA,OAAA0C,EAAcmN,GAAW,GAErC,IAAIC,GAAA,KAAA,OAAAA,EAAK,WAAW,GAAQ,IAAA,MAAM,QAAQF,CAAa,EAAG,CACxD,KAAM,CAAE,OAAAzJ,CAAO,EAAIyJ,EAEnB,GAAIzJ,EAAQ,CACV,MAAM4J,EAAajB,EAAK,SACtBA,EAAK,QAAQP,CAAQ,EACrBqB,EAAczJ,EAAS,EACzB,EAEAnG,EAAM,MAAO6P,GAAW,GAAK,IAAIf,EAAK,MAAMA,EAAK,KAAKiB,EAAYD,CAAG,GACvE,CACF,CACF,EAEaE,GAA6C,CACxDjT,EACA,CACE,QAAAkT,EAAWnB,GAAyBA,EACpC,KAAAoB,EAAO,GACP,gBAAAC,EAAkB,GAClB,iBAAAC,EAAmB,EACrB,EAAI,KACK,CAQT,GANArT,EAAG,KAAK,MAAM,MACZ,YACA,YACAsS,GAAsB,CAAE,QAAAY,EAAS,KAAAC,EAAM,gBAAAC,EAAiB,iBAAAC,CAAiB,CAAC,CAC5E,EAEIA,GAAoBD,EAAiB,CAoCvC,GAnCApT,EAAG,MAAM,MAAM,OAAO,QAAS,kBAAmByS,GAAiB,CACjE,IAAK,CAAC,YAAa,YAAa,aAAc,MAAM,CACtD,CAAC,EACDzS,EAAG,MAAM,MAAM,OAAO,QAAS,iBAAkB2S,GAAgB,CAC/D,IAAK,CAAC,YAAa,YAAa,aAAc,MAAM,CACtD,CAAC,EAED3S,EAAG,SAAS,MAAM,aAAkB,CAClCM,EACAC,EACAwJ,EACAlC,IACW,CACX,MAAM5E,EAAQ3C,EAAOC,GAGrB,OAFsBsH,EAAI,gBAAkBA,EAAI,cAAgB,CAAC,IAEnD,KAAK5E,EAAM,IAAI,EAEtB,EACT,EAEAjD,EAAG,SAAS,MAAM,YAAiB,CACjCoK,EACAC,EACAN,EACAlC,IACW,CACX,MAAMgL,EAAgBhL,EAAI,cAE1B,OAAI,MAAM,QAAQgL,CAAa,EAAGA,EAAc,IAAA,EAC3C,QAAQ,MAAM,+CAA+C,EAE3D,EACT,EAEIQ,EAAkB,CACpB,MAAMC,EAAgBtT,EAAG,SAAS,MAAM,MAExCA,EAAG,SAAS,MAAM,MAAQ,CACxBM,EACAC,EACAC,EACAqH,EACAC,IACW,CACX,MAAM7E,EAAQ3C,EAAOC,GAErB,OAAIsH,EAAI,UACN+K,GAAmB,MAAO3P,EAAO4E,EAAI,SAAUA,EAAI,aAAa,EAG3DyL,EAAchT,EAAQC,EAAOC,EAASqH,EAAKC,CAAI,CACxD,CACF,CAEA,GAAIsL,EAAiB,CACnB,MAAME,EACJtT,EAAG,SAAS,MAAM,YACjB,CAACM,EAAQC,EAAOC,EAASC,EAAMqH,IAC9BA,EAAK,YAAYxH,EAAQC,EAAOC,CAAO,GAE3CR,EAAG,SAAS,MAAM,UAAe,CAC/BM,EACAC,EACAC,EACAqH,EACAC,IACW,CACX,MAAM7E,EAAQ3C,EAAOC,GAErB,OAAIsH,EAAI,UACN+K,GAAmB,OAAQ3P,EAAO4E,EAAI,SAAUA,EAAI,aAAa,EAG5DyL,EAAchT,EAAQC,EAAOC,EAASqH,EAAKC,CAAI,CACxD,CACF,CACF,CACF,EChTMyL,GAAqC,CAACjT,EAAQC,IAAU,CAC5D,MAAM0C,EAAQ3C,EAAOC,GACfiC,EAAM,WAAWjC,IACjB,CAAE,QAAA4E,CAAQ,EAAIlC,EAEpB,MAAO,gBAAgBT,YAAcqE,EAAK1B,CAAO,eACnD,EAGMqO,EAAoB,CACxBvT,EACAkF,EACA5E,IAEA,wBAAwBA,YAAgBsG,EACtC,GAAG5G;AAAAA,EAASkF,EACT,MAAM;AAAA,CAAI,EACV,IAAKgN,GAAUA,EAAO,KAAKA,IAAS,EAAG,EACvC,KAAK;AAAA,CAAI,GACd,gBAEWsB,GAAyBzT,GAAO,CAE3C,MAAM4I,EAAQ5I,EAAG,SAAS,MAAM,MAEhCA,EAAG,SAAS,MAAM,MAAQ,IAAI6I,IAAiB,CAC7C,KAAM,CAACvI,EAAQC,CAAK,EAAIsI,EAClB,CAAE,QAAA1D,EAAS,KAAAyB,CAAK,EAAItG,EAAOC,GAEjC,OAAIqG,EAAK,KAAA,IAAW,UAAkB2M,GAAc,GAAG1K,CAAI,EACvDjC,EAAK,KAAK,IAAM,WACX4M,EAAkB,kBAAmBrO,EAAS5E,CAAK,EACxDqG,EAAK,KAAK,IAAM,QACX4M,EAAkB,eAAgBrO,EAAS5E,CAAK,EACrDqG,EAAK,KAAK,IAAM,QACX4M,EAAkB,kBAAmBrO,EAAS5E,CAAK,EACxDqG,EAAK,KAAK,IAAM,KACX4M,EAAkB,YAAarO,EAAS5E,CAAK,EAClDqG,EAAK,KAAK,IAAM,UACX4M,EAAkB,UAAWrO,EAAS5E,CAAK,EAChDqG,EAAK,KAAK,IAAM,QACX4M,EAAkB,QAASrO,EAAS5E,CAAK,EAC9CqG,EAAK,KAAK,IAAM,MAAc4M,EAAkB,MAAOrO,EAAS5E,CAAK,EACrEqG,EAAK,KAAK,IAAM,YACX4M,EAAkB,WAAYrO,EAAS5E,CAAK,EACjDqG,EAAK,KAAK,IAAM,MACX4M,EAAkB,YAAarO,EAAS5E,CAAK,EAClDqG,EAAK,KAAK,IAAM,UACX4M,EAAkB,UAAWrO,EAAS5E,CAAK,EAE7CqI,EAAO,GAAGC,CAAI,CACvB,EAEA7I,EAAG,SAAS,MAAM,QAAauT,EACjC,ECnDMG,GAAY,IACZC,GAAgB,CAAC,OAAQ,SAAU,SAAS,EAE5CC,GACH3T,GACD,CAACa,EAAOC,EAAWC,EAASC,IAAW,CACrC,IAAIC,EAAQJ,EAAM,OAAOC,GAAaD,EAAM,OAAOC,GAC/CI,EAAML,EAAM,OAAOC,GAIvB,GAAID,EAAM,IAAII,KAAW,IAAK,MAAO,GAErC,IAAIE,EAAMF,EAAQ,EAGlB,KAAOE,GAAOD,GACRL,EAAM,IAAIM,KAAS,KACvBA,GAAO,EAGT,MAAMC,EAAcD,EAAMF,EAE1B,GAAIG,EAAc,EAAG,MAAO,GAE5B,MAAMC,EAASR,EAAM,IAAI,MAAMI,EAAOE,CAAG,EACnChB,EAASU,EAAM,IAAI,MAAMM,EAAKD,CAAG,EAEjCsG,EAAgBrH,EAAO,UAAA,EAAY,MAAM,IAAK,CAAC,EAAE,GAEjDqG,EAAQrG,EAAO,UAAY,EAAA,MAAMH,EAAK,MAAM,EAAE,KAAK,EAEzD,GAAIwH,EAAc,KAAA,IAAWxH,EAAM,MAAO,GAG1C,GAAIgB,EAAQ,MAAO,GAGnB,IAAIM,EAAWR,EACXS,EAAa,GAGjB,KAGED,EAAWP,IAEXO,GAAY,EACZL,EAAQJ,EAAM,OAAOS,GAAYT,EAAM,OAAOS,GAC9CJ,EAAML,EAAM,OAAOS,GAEf,EAAAL,EAAQC,GAAOL,EAAM,OAAOS,GAAYT,EAAM,aAMlD,GAGEA,EAAM,IAAII,KAAW,KAErBJ,EAAM,OAAOS,GAAYT,EAAM,UAAY,EAC3C,CAEA,IAAKM,EAAMF,EAAQ,EAAGE,GAAOD,GACvBL,EAAM,IAAIM,KAAS,IADSA,IAChC,CAGF,GAAIA,EAAMF,GAASG,IAEjBD,EAAMN,EAAM,WAAWM,CAAG,EAEtBA,GAAOD,GAAK,CAEdK,EAAa,GACb,KACF,CAEJ,CAGF,MAAMC,EAAYX,EAAM,WAClBY,EAAaZ,EAAM,QAGzBA,EAAM,WAAa,GAAGb,IAGtBa,EAAM,QAAUS,GAAYC,EAAa,EAAI,GAE7C,MAAMG,EAAYb,EAAM,KAAK,GAAGb,SAAa,WAAY,CAAC,EAE1D0B,EAAU,OAASL,EACnBK,EAAU,MAAQ,GAClBA,EAAU,KAAO8E,EACjB9E,EAAU,IAAM,CAACZ,EAAWQ,GAAYC,EAAa,EAAI,EAAE,EAE3DV,EAAM,GAAG,MAAM,SACbA,EACAC,EAAY,EACZQ,GAAYC,EAAa,EAAI,EAC/B,EAEA,MAAMI,EAAad,EAAM,KAAK,GAAGb,UAAc,WAAY,EAAE,EAE7D,OAAA2B,EAAW,OAASd,EAAM,IAAI,MAAMI,EAAOE,CAAG,EAC9CQ,EAAW,MAAQ,GAEnBd,EAAM,WAAaW,EACnBX,EAAM,QAAUY,EAChBZ,EAAM,KAAOS,GAAYC,EAAa,EAAI,GAEnC,EACT,EAEIqS,GACHC,GACD,CAAChT,EAAOC,EAAWC,EAASC,IAAW,CACrC,IAAIC,EAAQJ,EAAM,OAAOC,GAAaD,EAAM,OAAOC,GAC/CI,EAAML,EAAM,OAAOC,GAEvB,MAAMgT,EAAW,GAAGL,KAAYI,IAMhC,GAAIhT,EAAM,IAAI,OAAOI,CAAK,IAAM,IAAK,MAAO,GAE5C,IAAIX,EAGJ,IAAKA,EAAQ,EAAGA,EAAQwT,EAAS,OAAQxT,IACvC,GAAIwT,EAASxT,KAAWO,EAAM,IAAII,EAAQX,GAAQ,MAAO,GAE3D,MAAMe,EAASR,EAAM,IAAI,MAAMI,EAAOA,EAAQX,CAAK,EAC7CqG,EAAO9F,EAAM,IAAI,MAAMI,EAAQX,EAAOY,CAAG,EAG/C,GAAIF,EAAQ,MAAO,GAEnB,IAAIM,EAAWR,EACXS,EAAa,GAGjB,KAGED,EAAWP,IAEXO,GAAY,EACZL,EAAQJ,EAAM,OAAOS,GAAYT,EAAM,OAAOS,GAC9CJ,EAAML,EAAM,OAAOS,GAEf,EAAAL,EAAQC,GAAOL,EAAM,OAAOS,GAAYT,EAAM,aAMlD,GAEEA,EAAM,IAAII,KAAWwS,IAErB5S,EAAM,OAAOS,IAAaT,EAAM,OAAOC,GACvC,CACA,IAAI6G,EAAmB,GAEvB,IAAKrH,EAAQ,EAAGA,EAAQwT,EAAS,OAAQxT,IACvC,GAAIwT,EAASxT,KAAWO,EAAM,IAAII,EAAQX,GAAQ,CAChDqH,EAAmB,GACnB,KACF,CAEF,GAAIA,EAAkB,CAEpBpG,EAAa,GACbD,GAAY,EACZ,KACF,CACF,CAGF,MAAME,EAAYX,EAAM,WAClBY,EAAaZ,EAAM,QAGzBA,EAAM,WAAa,GAAGgT,IAGtBhT,EAAM,QAAUS,EAEhB,MAAMI,EAAYb,EAAM,KAAK,GAAGgT,SAAmB,WAAY,CAAC,EAEhEnS,EAAU,MAAQ,GAClBA,EAAU,OAASL,EACnBK,EAAU,KAAOiF,EAAK,OAEtBjF,EAAU,IAAM,CAACZ,EAAWQ,CAAQ,EAEpCT,EAAM,GAAG,MAAM,SAASA,EAAOC,EAAY,EAAGQ,CAAQ,EAEtD,MAAMK,EAAad,EAAM,KAAK,GAAGgT,UAAoB,WAAY,EAAE,EAEnE,OAAAlS,EAAW,MAAQ,GACnBA,EAAW,OAAS,GAEpBd,EAAM,WAAaW,EACnBX,EAAM,QAAUY,EAChBZ,EAAM,KAAOS,GAAYC,EAAa,EAAI,GAEnC,EACT,EAEWwS,EAAmD,CAC9DhU,EACA,CAAE,KAAAC,EAAO,aAAc,UAAAoH,EAAY,aAAc,YAAA4M,CAAY,EAAI,CAC/D,KAAM,aACN,UAAW,aACX,YAAcC,IAA4D,CACxE,IAAKA,EAAe,IACpB,MAAOA,EAAe,OAAS,GAC/B,MAAO,mBAAmB,KAAK,UAAUA,EAAe,KAAK,CAAC,EAC9D,SAAU,mBACR,KAAK,UAAUA,EAAe,UAAY,CAAE,CAAA,CAC9C,CACF,EACF,IACG,CACHlU,EAAG,MAAM,MAAM,OAAO,QAAS,GAAGC,IAAQ2T,GAAkB3T,CAAI,EAAG,CACjE,IAAK,CAAC,YAAa,YAAa,aAAc,MAAM,CACtD,CAAC,EAED0T,GAAc,QAASzT,GAAW,CAK3BF,EAAG,MAAM,MAAM,UAAU,KAAK,CAAC,CAAE,KAAAC,CAAK,IAAMA,IAAS,QAAQ,GAChED,EAAG,MAAM,MAAM,OAAO,QAAS,MAAO6T,GAAa3T,CAAM,EAAG,CAC1D,IAAK,CAAC,YAAa,YAAa,aAAc,MAAM,CACtD,CAAC,CACL,CAAC,EAEDF,EAAG,SAAS,MAAM,GAAGC,UAAe,CAACK,EAAQC,IAAkB,CAC7D,KAAM,CAAE,KAAAqG,CAAK,EAAItG,EAAOC,GAElB2T,EAAiC,CACrC,IAAKC,GAAK,aAAa5T,KAASqG,GAAM,EACtC,MAAO,mBAAmBA,CAAI,EAC9B,SAAU,CAAA,EACV,MAAO,EACT,EAEA,IAAIwN,EAA4B,KAC5BC,EAAgB,GAEpB,QAASlQ,EAAI5D,EAAO4D,EAAI7D,EAAO,OAAQ6D,IAAK,CAC1C,KAAM,CAAE,MAAAiE,EAAO,KAAA/D,EAAM,KAAAuC,EAAM,QAAAzB,CAAQ,EAAI7E,EAAO6D,GAE9C,GAAIiE,EAAO,CACT,GAAI/D,IAAS,GAAGpE,UAAc,MAC9B,GAAIoE,IAAS,GAAGpE,SAAa,SAE7B,GAAIoE,IAAS,YAAa,CAExB,GAAI,CAACuC,EAAM,SACXwN,EAAaxN,CACf,MAAWvC,IAAS,gBAClB6P,EAAe,UAAYE,EAAaxN,GAAQ,mBAKlD,GAHIvC,IAAS,iBAAgBgQ,EAAgB,IACzChQ,IAAS,kBAAiBgQ,EAAgB,IAG5ChQ,IAAS,cACTA,IAAS,gBACTA,IAAS,iBACT,CAACc,EACD,CACA7E,EAAO6D,GAAG,KAAO,GAAGlE,UACpBK,EAAO6D,GAAG,OAAS,GACnB,QACF,CAGIkQ,EACEhQ,IAAS,SAAWuC,IAAS,SAC/BsN,EAAe,SACb,KAAK,MAAM/O,EAAQ,KAAM,CAAA,GAItBd,IAAS,SAAW+P,IAC3BF,EAAe,MAAME,GAAc,CACjC,IAAKxN,EACL,QAASzB,CACX,GAEF7E,EAAO6D,GAAG,KAAO,GAAGlE,UACpBK,EAAO6D,GAAG,OAAS,EACrB,CACF,CAEA,MAAMmQ,EAAQL,EAAYC,CAAc,EAExC,MAAO,IAAI7M,KAAa,OAAO,QAAQiN,CAAK,EACzC,IAAI,CAAC,CAACxR,EAAML,CAAK,IAAM,GAAGK,MAASgM,EAAWrM,CAAK,IAAI,EACvD,KAAK,GAAG;AAAA,CACb,EAEAzC,EAAG,SAAS,MAAM,GAAGC,WAAgB,IAAc,KAAKoH;AAAAA,CAC1D,EC1SMkN,GAAI,oEAEJC,GAAW,CAACC,EAAWC,EAAWlQ,IAA+B,CACrE,GAAYiQ,GAAR,KAAW,MAAO,GAEtB,IAAIF,EACFhO,EACApC,EACAwQ,EAA4B,CAAC,EAC7BC,EAA6B,CAC7B,EAAAC,EAAI,GACJC,EAAI,GACJC,EAAI,GACJC,EAAI,EACJC,EAAI,EACJC,EAAI,EACJC,EAAI,CAAA,EACJC,EAAI,EACJC,EAAI,EAEN,IAAKlR,EAAI,EAAGA,EAAIsQ,EAAE,OAAQtQ,GAAK,EAC7B,GACI0Q,EAAIJ,EAAE,OAAOtQ,CAAC,EAChB,OAAO,UAAU,eAAe,KAAKwQ,EAAGE,CAAC,IAAOF,EAAEE,GAAKI,IAAOL,EAAEC,GAAK,IACpEC,EAAIC,EAAIF,EACT,OAAO,UAAU,eAAe,KAAKF,EAAGG,CAAC,EAEzCC,EAAID,MACD,CACH,GAAI,OAAO,UAAU,eAAe,KAAKF,EAAGG,CAAC,EAAG,CAC9C,GAAIA,EAAE,WAAW,CAAC,EAAI,IAAK,CACzB,IAAKR,EAAI,EAAGW,EAAIX,EAAGA,IAChBa,IAAM,EAAIC,GAAKX,EAAI,GAAMW,EAAI,EAAIF,EAAE,KAAK3Q,EAAE4Q,CAAC,CAAC,EAAIA,EAAI,GAAMC,IAC7D,IAAK9O,EAAIwO,EAAE,WAAW,CAAC,EAAGR,EAAI,EAAG,EAAIA,EAAGA,IACrCa,EAAKA,GAAK,EAAM,EAAI7O,EACnB8O,GAAKX,EAAI,GAAMW,EAAI,EAAIF,EAAE,KAAK3Q,EAAE4Q,CAAC,CAAC,EAAIA,EAAI,GAAMC,IAC/C9O,IAAM,CACb,KAAO,CACL,IAAKA,EAAI,EAAGgO,EAAI,EAAGW,EAAIX,EAAGA,IACvBa,EAAKA,GAAK,EAAK7O,EACd8O,GAAKX,EAAI,GAAMW,EAAI,EAAIF,EAAE,KAAK3Q,EAAE4Q,CAAC,CAAC,EAAIA,EAAI,GAAMC,IAC/C9O,EAAI,EACT,IAAKA,EAAIwO,EAAE,WAAW,CAAC,EAAGR,EAAI,EAAG,GAAKA,EAAGA,IACtCa,EAAKA,GAAK,EAAM,EAAI7O,EACnB8O,GAAKX,EAAI,GAAMW,EAAI,EAAIF,EAAE,KAAK3Q,EAAE4Q,CAAC,CAAC,EAAIA,EAAI,GAAMC,IAC/C9O,IAAM,CACb,CACAyO,IAAUA,GAAL,IAAYA,EAAI,KAAK,IAAI,EAAGE,CAAC,EAAIA,KAAM,OAAON,EAAEG,EACvD,UACOxO,EAAIoO,EAAEI,GAAIR,EAAI,EAAGW,EAAIX,EAAGA,IAC1Ba,EAAKA,GAAK,EAAM,EAAI7O,EACnB8O,GAAKX,EAAI,GAAMW,EAAI,EAAIF,EAAE,KAAK3Q,EAAE4Q,CAAC,CAAC,EAAIA,EAAI,GAAMC,IAC/C9O,IAAM,EACbyO,IAAUA,GAAL,IAAYA,EAAI,KAAK,IAAI,EAAGE,CAAC,EAAIA,KAAOP,EAAEG,GAAKG,IAAOF,EAAI,OAAOF,CAAC,CACzE,CAEF,GAAWE,IAAP,GAAU,CACZ,GAAI,OAAO,UAAU,eAAe,KAAKH,EAAGG,CAAC,EAAG,CAC9C,GAAIA,EAAE,WAAW,CAAC,EAAI,IAAK,CACzB,IAAKR,EAAI,EAAGW,EAAIX,EAAGA,IAChBa,IAAM,EAAIC,GAAKX,EAAI,GAAMW,EAAI,EAAIF,EAAE,KAAK3Q,EAAE4Q,CAAC,CAAC,EAAIA,EAAI,GAAMC,IAC7D,IAAK9O,EAAIwO,EAAE,WAAW,CAAC,EAAGR,EAAI,EAAG,EAAIA,EAAGA,IACrCa,EAAKA,GAAK,EAAM,EAAI7O,EACnB8O,GAAKX,EAAI,GAAMW,EAAI,EAAIF,EAAE,KAAK3Q,EAAE4Q,CAAC,CAAC,EAAIA,EAAI,GAAMC,IAC/C9O,IAAM,CACb,KAAO,CACL,IAAKA,EAAI,EAAGgO,EAAI,EAAGW,EAAIX,EAAGA,IACvBa,EAAKA,GAAK,EAAK7O,EACd8O,GAAKX,EAAI,GAAMW,EAAI,EAAIF,EAAE,KAAK3Q,EAAE4Q,CAAC,CAAC,EAAIA,EAAI,GAAMC,IAC/C9O,EAAI,EACT,IAAKA,EAAIwO,EAAE,WAAW,CAAC,EAAGR,EAAI,EAAG,GAAKA,EAAGA,IACtCa,EAAKA,GAAK,EAAM,EAAI7O,EACnB8O,GAAKX,EAAI,GAAMW,EAAI,EAAIF,EAAE,KAAK3Q,EAAE4Q,CAAC,CAAC,EAAIA,EAAI,GAAMC,IAC/C9O,IAAM,CACb,CACAyO,IAAUA,GAAL,IAAYA,EAAI,KAAK,IAAI,EAAGE,CAAC,EAAIA,KAAM,OAAON,EAAEG,EACvD,KACOxO,KAAAA,EAAIoO,EAAEI,GAAIR,EAAI,EAAGW,EAAIX,EAAGA,IAC1Ba,EAAKA,GAAK,EAAM,EAAI7O,EACnB8O,GAAKX,EAAI,GAAMW,EAAI,EAAIF,EAAE,KAAK3Q,EAAE4Q,CAAC,CAAC,EAAIA,EAAI,GAAMC,IAC/C9O,IAAM,EACbyO,IAAUA,GAAL,IAAYA,EAAI,KAAK,IAAI,EAAGE,CAAC,EAAIA,IACxC,CAEA,IAAK3O,EAAI,EAAGgO,EAAI,EAAGW,EAAIX,EAAGA,IACvBa,EAAKA,GAAK,EAAM,EAAI7O,EACnB8O,GAAKX,EAAI,GAAMW,EAAI,EAAIF,EAAE,KAAK3Q,EAAE4Q,CAAC,CAAC,EAAIA,EAAI,GAAMC,IAC/C9O,IAAM,EAEX,OAAS,CACP,GAAM6O,IAAM,EAAIC,GAAKX,EAAI,EAAI,CAC3BS,EAAE,KAAK3Q,EAAE4Q,CAAC,CAAC,EACX,KACF,CACAC,GACF,CAEA,OAAOF,EAAE,KAAK,EAAE,CAClB,EAEaG,GAAiCnQ,GAC5CqP,GAASrP,EAAS,EAAI/D,GAAgBmT,GAAE,OAAOnT,CAAG,CAAC,EC5GxCmU,GAAqB,CAChC,CAAE,KAAM,OAAQ,KAAM,SAAU,EAChC,CAAE,KAAM,OAAQ,KAAM,SAAU,EAChC,CAAE,KAAM,QAAS,KAAM,SAAU,EACjC,CAAE,KAAM,sBAAuB,KAAM,SAAU,EAC/C,CAAE,KAAM,YAAa,KAAM,SAAU,EACrC,CAAE,KAAM,eAAgB,KAAM,SAAU,EACxC,CAAE,KAAM,mBAAoB,KAAM,SAAU,EAC5C,CAAE,KAAM,SAAU,KAAM,SAAU,EAClC,CAAE,KAAM,kBAAmB,KAAM,SAAU,EAC3C,CAAE,KAAM,cAAe,KAAM,SAAU,EACvC,CAAE,KAAM,sBAAuB,KAAM,SAAU,EAC/C,CAAE,KAAM,qBAAsB,KAAM,QAAS,EAC7C,CAAE,KAAM,gBAAiB,KAAM,QAAS,EACxC,CAAE,KAAM,cAAe,KAAM,SAAU,EACvC,CAAE,KAAM,4CAA6C,KAAM,SAAU,EACrE,CAAE,KAAM,SAAU,KAAM,QAAS,EACjC,CAAE,KAAM,MAAO,KAAM,SAAU,EAC/B,CAAE,KAAM,UAAW,KAAM,SAAU,EACnC,CAAE,KAAM,OAAQ,KAAM,SAAU,EAChC,CAAE,KAAM,UAAW,KAAM,QAAS,EAClC,CAAE,KAAM,QAAS,KAAM,SAAU,EACjC,CAAE,KAAM,aAAc,KAAM,SAAU,EACtC,CAAE,KAAM,gBAAiB,KAAM,SAAU,EACzC,CACE,KAAM,SACN,KAAM,CACJ,IAAK,EACL,IAAK,EACL,IAAK,EACL,OAAQ,EACR,OAAQ,EACR,OAAQ,EACR,OAAQ,EACR,OAAQ,EACR,OAAQ,EACR,OAAQ,EACR,OAAQ,EACR,OAAQ,EACV,CACF,EACA,CACE,KAAM,SACN,KAAM,CACJ,KAAM,EACN,SAAU,EACV,IAAK,EACL,OAAQ,EACR,IAAK,EACL,IAAK,EACL,OAAQ,EACR,OAAQ,EACR,OAAQ,EACR,OAAQ,GACR,OAAQ,IACR,SAAU,GACZ,CACF,EACA,CAAE,KAAM,MAAO,KAAM,MAAO,EAC5B,CAAE,KAAM,UAAW,KAAM,SAAU,EACnC,CAAE,KAAM,UAAW,KAAM,SAAU,EACnC,CACE,KAAM,MACN,KAAM,CACJ,SAAU,EACV,eAAgB,EAChB,MAAO,EACP,YAAa,EACb,eAAgB,CAClB,CACF,EACA,CAAE,KAAM,cAAe,KAAM,SAAU,EACvC,CAAE,KAAM,iBAAkB,KAAM,SAAU,EAC1C,CAAE,KAAM,sBAAuB,KAAM,SAAU,EAC/C,CAAE,KAAM,YAAa,KAAM,SAAU,EACrC,CAAE,KAAM,UAAW,KAAM,QAAS,EAClC,CAAE,KAAM,SAAU,KAAM,QAAS,EACjC,CAAE,KAAM,UAAW,KAAM,QAAS,EAClC,CAAE,KAAM,YAAa,KAAM,SAAU,EACrC,CAAE,KAAM,kBAAmB,KAAM,QAAS,EAC1C,CAAE,KAAM,iBAAkB,KAAM,SAAU,EAC1C,CAAE,KAAM,SAAU,KAAM,SAAU,EAClC,CAAE,KAAM,gBAAiB,KAAM,SAAU,EACzC,CACE,KAAM,yBACN,KAAM,CAAE,OAAQ,EAAG,SAAU,EAAG,MAAO,CAAE,CAC3C,EACA,CAAE,KAAM,qBAAsB,KAAM,SAAU,EAC9C,CAAE,KAAM,kBAAmB,KAAM,SAAU,EAC3C,CAAE,KAAM,SAAU,KAAM,SAAU,EAClC,CAAE,KAAM,gBAAiB,KAAM,SAAU,EACzC,CAAE,KAAM,mBAAoB,KAAM,SAAU,EAC5C,CAAE,KAAM,sBAAuB,KAAM,SAAU,EAC/C,CAAE,KAAM,sBAAuB,KAAM,SAAU,EAC/C,CAAE,KAAM,+BAAgC,KAAM,SAAU,EACxD,CAAE,KAAM,iBAAkB,KAAM,SAAU,EAC1C,CAAE,KAAM,6BAA8B,KAAM,SAAU,EACtD,CAAE,KAAM,eAAgB,KAAM,SAAU,EACxC,CAAE,KAAM,iBAAkB,KAAM,SAAU,EAC1C,CAAE,KAAM,qBAAsB,KAAM,SAAU,EAC9C,CAAE,KAAM,6BAA8B,KAAM,SAAU,EACtD,CAAE,KAAM,oBAAqB,KAAM,SAAU,EAC7C,CAAE,KAAM,6BAA8B,KAAM,SAAU,EACtD,CAAE,KAAM,2BAA4B,KAAM,SAAU,EACpD,CAAE,KAAM,qBAAsB,KAAM,SAAU,EAC9C,CAAE,KAAM,qCAAsC,KAAM,SAAU,EAC9D,CACE,KAAM,mBACN,KAAM,CAAE,KAAM,EAAG,QAAS,EAAG,OAAQ,EAAG,SAAU,EAAG,CACvD,EACA,CAAE,KAAM,UAAW,KAAM,QAAS,EAClC,CAAE,KAAM,QAAS,KAAM,QAAS,EAChC,CAAE,KAAM,WAAY,KAAM,MAAO,EACjC,CAAE,KAAM,YAAa,KAAM,MAAO,EAClC,CAAE,KAAM,QAAS,KAAM,MAAO,EAC9B,CAAE,KAAM,+BAAgC,KAAM,SAAU,EACxD,CAAE,KAAM,kBAAmB,KAAM,SAAU,EAC3C,CAAE,KAAM,mBAAoB,KAAM,SAAU,EAC5C,CAAE,KAAM,uBAAwB,KAAM,SAAU,EAChD,CAAE,KAAM,iBAAkB,KAAM,MAAO,EACvC,CAAE,KAAM,aAAc,KAAM,QAAS,EACrC,CAAE,KAAM,UAAW,KAAM,QAAS,EAClC,CAAE,KAAM,kBAAmB,KAAM,SAAU,EAC3C,CAAE,KAAM,gBAAiB,KAAM,SAAU,EACzC,CAAE,KAAM,yBAA0B,KAAM,SAAU,EAClD,CAAE,KAAM,wBAAyB,KAAM,SAAU,EACjD,CAAE,KAAM,aAAc,KAAM,QAAS,EACrC,CAAE,KAAM,qBAAsB,KAAM,QAAS,EAC7C,CAAE,KAAM,kBAAmB,KAAM,QAAS,EAC1C,CAAE,KAAM,oBAAqB,KAAM,SAAU,EAC7C,CAAE,KAAM,MAAO,KAAM,QAAS,EAC9B,CAAE,KAAM,iBAAkB,KAAM,QAAS,EACzC,CAAE,KAAM,sBAAuB,KAAM,SAAU,EAC/C,CAAE,KAAM,UAAW,KAAM,QAAS,EAClC,CAAE,KAAM,UAAW,KAAM,SAAU,EACnC,CAAE,KAAM,UAAW,KAAM,CAAE,KAAM,EAAG,GAAI,CAAE,CAAE,EAC5C,CAAE,KAAM,oBAAqB,KAAM,SAAU,EAC7C,CAAE,KAAM,QAAS,KAAM,SAAU,EACjC,CAAE,KAAM,YAAa,KAAM,SAAU,EACrC,CAAE,KAAM,gBAAiB,KAAM,SAAU,EACzC,CAAE,KAAM,mBAAoB,KAAM,SAAU,EAC5C,CAAE,KAAM,0CAA2C,KAAM,SAAU,EACnE,CAAE,KAAM,2BAA4B,KAAM,SAAU,EACpD,CAAE,KAAM,+BAAgC,KAAM,SAAU,EACxD,CAAE,KAAM,sBAAuB,KAAM,SAAU,EAC/C,CAAE,KAAM,gBAAiB,KAAM,SAAU,EACzC,CAAE,KAAM,gBAAiB,KAAM,SAAU,EACzC,CAAE,KAAM,qBAAsB,KAAM,SAAU,EAC9C,CAAE,KAAM,iBAAkB,KAAM,QAAS,EACzC,CAAE,KAAM,eAAgB,KAAM,SAAU,EACxC,CAAE,KAAM,oBAAqB,KAAM,SAAU,EAC7C,CAAE,KAAM,uBAAwB,KAAM,SAAU,EAChD,CAAE,KAAM,+BAAgC,KAAM,SAAU,EACxD,CAAE,KAAM,iCAAkC,KAAM,SAAU,EAC1D,CAAE,KAAM,mCAAoC,KAAM,SAAU,EAC5D,CAAE,KAAM,uBAAwB,KAAM,QAAS,EAC/C,CAAE,KAAM,wBAAyB,KAAM,SAAU,EACjD,CAAE,KAAM,0BAA2B,KAAM,SAAU,EACnD,CAAE,KAAM,uBAAwB,KAAM,SAAU,EAChD,CAAE,KAAM,mBAAoB,KAAM,SAAU,EAC5C,CAAE,KAAM,UAAW,KAAM,MAAO,EAChC,CAAE,KAAM,kBAAmB,KAAM,CAAE,KAAM,EAAG,OAAQ,EAAG,MAAO,CAAE,CAAE,CACpE,ECrKaC,GAAS,CACpBxO,EACAyO,EAAmC,KACxB,CACX,MAAMtB,EAAO,SAASmB,GAA8BtO,CAAI,IAElD0O,EAAc,OAAO,QAAQD,CAAe,EAC/C,IAAI,CAAC,CAACjT,EAAKC,CAAK,IAAM,CACrB,MAAMM,EAAOwS,GAAmB,KAAMI,GAAWA,EAAO,OAASnT,CAAG,EAEpE,GAAI,CAACO,GAAQN,IAAU,MAAQA,IAAU,OAAW,MAAO,GAE3D,KAAM,CAAE,KAAA4B,CAAK,EAAItB,EAEjB,GAAI,OAAOsB,GAAS,SAAU,CAC5B,MAAM6I,EAAS7I,EAAK5B,GAEpB,OAAOyK,GAAA,KAAA,OAAAA,EAAQ,SAAc,IAAA,EAC/B,CAEA,MAAO,GAAG1K,KAAO,mBAAmBC,CAAe,GACrD,CAAC,EACA,OAAQA,GAAUA,EAAM,MAAM,EAC9B,KAAK,GAAG,EAEX,MAAO,GAAGiT,EAAc,IAAIA,IAAgB,KAAKvB,GACnD,EAEayB,GAAwB,CAAC,CACpC,QAAAC,EAAU,yCACPJ,CACL,EAA+B,CAA2B,KAAA,CACxD,KAAM,gBACN,YAAa,CAAC,CACZ,MAAAhP,EAAQ,GACR,MAAAqP,EACA,SAAAC,EACA,IAAAvT,CACF,IAA8C,CAC5C,MAAMwT,EAAU,OAAO,KAAKF,CAAK,EAAE,OAAQtT,GAAQA,EAAI,SAAS,KAAK,CAAC,EAElEwT,EAAQ,SAAW,GACrB,QAAQ,MAAM,sCAAsC,EAEtD,MAAMC,EAAO,GAAGJ,IAAUL,GACxBM,EAAME,EAAQ,IAAI,QAClBE,EACE,GACiBH,GAAY,CAAA,EACZN,CACnB,CACF,IAEA,MAAO,CACL,IAAAjT,EACA,MAAAiE,EACA,KAAM,mBAAmBwP,CAAI,CAC/B,CACF,CACF,GChEME,GAA2B,CAC/B,OACA,KACA,KACA,MACA,MACA,MACA,MACF,EAEaC,GAAyB,CACpC5V,EAAsC,CAAC,KAChB,CACvB,KAAM,iBACN,YAAc0T,GAA2D,CACvE,KAAM,CAAE,MAAAzN,EAAQ,GAAI,MAAAqP,EAAO,SAAUO,EAAe,IAAA7T,CAAI,EAAI0R,EACtD6B,EAAW,CAEf,QAAS,yBACT,IAAK,GACL,IAAK,GACL,GAAGvV,EACH,GAAG6V,CACL,EAEA,MAAO,CACL,IAAA7T,EACA,MAAAiE,EACA,KAAM,mBACJ,GAAGsP,EAAS,WAEVA,EAAS,IAAM,UAAY,KAG3BA,EAAS,IAAM,UAAY,KAG3B,OAAO,KACL,KAAK,UACH,OAAO,YACL,OAAO,QAAQD,CAAK,EACjB,OAAO,CAAC,CAAA,CAAG,CAAE,IAAAQ,CAAI,CAAC,IACjBH,GAAyB,SAASG,CAAG,CACvC,EACC,IAAI,CAAC,CAAC9T,EAAK,CAAE,QAAA2C,CAAQ,CAAC,IAAM,CAC3B,GAAI3C,IAAQ,kBAAmB,CAC7B,MAAM+T,EAKL,KAAK,MAAMpR,CAAO,EAEnB,MAAO,CACL3C,EACA,KAAK,UACH0T,EACE,CAAA,EACA,CAEE,QAAS,CACP,IAAK,mDACL,GAAIH,EAAS,IACT,CAEE,sBACE,sDACJ,EACA,CACN,CAAA,CACF,EACAQ,CACF,CACF,CACF,CACF,CAEA,MAAO,CAAC/T,EAAK2C,CAAO,CACtB,CAAC,CACL,CACF,CACF,EAAE,SAAS,QAAQ,GAEvB,CACF,CACF,CACF,GC9EaqR,EAA+C,CAC1DxW,EACA,CAAE,KAAAC,EAAM,KAAAwW,EAAM,MAAAC,EAAO,OAAArI,CAAO,EAAI,CAC9B,KAAM,MACN,KAAM,QACN,MAAO,MACP,OAAQ,CAAC/N,EAAQC,IAAkB,CACjC,MAAM0C,EAAQ3C,EAAOC,GACf,CAAE,QAAA4E,EAAS,KAAAyB,EAAM,KAAAvC,CAAK,EAAIpB,EAEhC,MAAO,eAAeoB,aAAgBuC,MAASzB,SACjD,CACF,IACG,CACH,MAAMwR,EAAc,IAAIF,IAClBG,EAAe,IAAIF,IAEnBG,EAAqB,CAAC/V,EAAOC,EAAWC,EAASC,IAAW,CAChE,IAAIkD,EACA3C,EAAa,GACbN,EAAQJ,EAAM,OAAOC,GAAaD,EAAM,OAAOC,GAC/CI,EAAML,EAAM,OAAOC,GAMvB,GAAID,EAAM,IAAI,OAAOI,CAAK,IAAM,IAAK,MAAO,GAG5C,IAAKiD,EAAI,EAAGA,EAAIwS,EAAY,OAAQ,EAAExS,EACpC,GAAIwS,EAAYxS,KAAOrD,EAAM,IAAII,EAAQiD,GAAI,MAAO,GAEtD,MAAM7C,EAASR,EAAM,IAAI,MAAMI,EAAOA,EAAQiD,CAAC,EACzC/D,EAASU,EAAM,IAAI,MAAMI,EAAQiD,EAAGhD,CAAG,EAG7C,GAAIF,EAAQ,MAAO,GAEnB,IAAIM,EAAWR,EAGf,KAKEQ,EAAWP,IAEXE,EAAQJ,EAAM,OAAOS,GAAYT,EAAM,OAAOS,GAC9CJ,EAAML,EAAM,OAAOS,GAEf,EAAAL,EAAQC,GAAOL,EAAM,OAAOS,GAAYT,EAAM,aAJlD,CAYA,GAEEA,EAAM,IAAI,OAAOI,CAAK,IAAM,KAE5BJ,EAAM,OAAOS,IAAaT,EAAM,OAAOC,GACvC,CACA,IAAI+V,EAAqB,GAEzB,IAAK3S,EAAI,EAAGA,EAAIyS,EAAa,OAAQ,EAAEzS,EACrC,GAAIyS,EAAazS,KAAOrD,EAAM,IAAII,EAAQiD,GAAI,CAC5C2S,EAAqB,GACrB,KACF,CAEF,GACEA,GAEAhW,EAAM,WAAWI,EAAQiD,CAAC,GAAKhD,EAC/B,CAEAK,EAAa,GACb,KACF,CACF,CAEAD,GAAY,CACd,CAEA,MAAMwV,EAAWjW,EAAM,IACpB,MAAM;AAAA,CAAI,EACV,MAAMC,EAAY,EAAGQ,CAAQ,EAC7B,KAAK;AAAA,CAAI,EAEN0B,EAAQnC,EAAM,KAAKb,EAAM,QAAS,CAAC,EAEzC,OAAAgD,EAAM,MAAQ,GACdA,EAAM,KAAO7C,EACb6C,EAAM,QAAU8T,EAChB9T,EAAM,IAAM,CAAClC,EAAWQ,CAAQ,EAChC0B,EAAM,OAAS3B,EAEfR,EAAM,KAAOS,GAAYC,EAAa,EAAI,GAEnC,EACT,EAEAxB,EAAG,MAAM,MAAM,OAAO,QAASC,EAAM4W,EAAS,CAC5C,IAAK,CAAC,YAAa,YAAa,aAAc,MAAM,CACtD,CAAC,EAED7W,EAAG,SAAS,MAAMC,GAAQoO,CAC5B,ECzHa2I,GAA8BhX,GAAO,CAChDA,EAAG,IAAIwW,EAAK,CACV,KAAM,eACN,KAAM,aACN,MAAO,WACP,OAAQ,CAAClW,EAAQC,IAAkB,CACjC,MAAM0C,EAAQ3C,EAAOC,GACfiC,EAAM,gBAAgBjC,IACtB,CAAE,QAAA4E,EAAS,KAAAyB,CAAK,EAAI3D,EAE1B,MAAO,qBAAqBT,YAAcqE,EAAK1B,CAAO,aACpDyB,EAAK,QAAU,yBAEnB,CACF,CAAC,CACH,ECYMqQ,GAA8B,CAACnW,EAAOG,IAAW,CACrD,IAAIkN,EACAlL,EACJ,MAAM9B,EAAML,EAAM,OACZI,EAAQJ,EAAM,IAKpB,GAHIA,EAAM,IAAI,OAAOI,CAAK,IAAM,KAE5BD,GACAC,EAAQ,GAAKC,EAAK,MAAO,GAI7B,IAFAL,EAAM,IAAMI,EAAQ,EAEbJ,EAAM,IAAMK,GAAK,CACtB,GAAIL,EAAM,IAAI,OAAOA,EAAM,GAAG,IAAM,IAAK,CACvCqN,EAAQ,GACR,KACF,CAEArN,EAAM,GAAG,OAAO,UAAUA,CAAK,CACjC,CAEA,GAAI,CAACqN,GAASjN,EAAQ,IAAMJ,EAAM,IAChC,OAAAA,EAAM,IAAMI,EAEL,GAGT,MAAMiE,EAAUrE,EAAM,IAAI,MAAMI,EAAQ,EAAGJ,EAAM,GAAG,EAGpD,MAAI,sBAAsB,KAAKqE,CAAO,GACpCrE,EAAM,IAAMI,EAEL,KAITJ,EAAM,OAASA,EAAM,IACrBA,EAAM,IAAMI,EAAQ,EAGpB+B,EAAQnC,EAAM,KAAK,WAAY,MAAO,CAAC,EACvCmC,EAAM,OAAS,IAEfA,EAAQnC,EAAM,KAAK,OAAQ,GAAI,CAAC,EAChCmC,EAAM,QAAUkC,EAAQ,QAAQoJ,GAAa,IAAI,EAEjDtL,EAAQnC,EAAM,KAAK,YAAa,MAAO,EAAE,EACzCmC,EAAM,OAAS,IAEfnC,EAAM,IAAMA,EAAM,OAAS,EAC3BA,EAAM,OAASK,EAER,GACT,EAEa+V,GAAqBlX,GAAO,CACvCA,EAAG,OAAO,MAAM,MAAM,WAAY,MAAOiX,EAAe,CAC1D,EC3DME,GAAgC,CAACrW,EAAOG,IAAW,CACvD,IAAIkN,EACAlL,EACJ,MAAM9B,EAAML,EAAM,OACZI,EAAQJ,EAAM,IAKpB,GAHIA,EAAM,IAAI,OAAOI,CAAK,IAAM,KAE5BD,GACAC,EAAQ,GAAKC,EAAK,MAAO,GAI7B,IAFAL,EAAM,IAAMI,EAAQ,EAEbJ,EAAM,IAAMK,GAAK,CACtB,GAAIL,EAAM,IAAI,OAAOA,EAAM,GAAG,IAAM,IAAK,CACvCqN,EAAQ,GACR,KACF,CAEArN,EAAM,GAAG,OAAO,UAAUA,CAAK,CACjC,CAEA,GAAI,CAACqN,GAASjN,EAAQ,IAAMJ,EAAM,IAChC,OAAAA,EAAM,IAAMI,EAEL,GAGT,MAAMiE,EAAUrE,EAAM,IAAI,MAAMI,EAAQ,EAAGJ,EAAM,GAAG,EAGpD,MAAI,sBAAsB,KAAKqE,CAAO,GACpCrE,EAAM,IAAMI,EAEL,KAITJ,EAAM,OAASA,EAAM,IACrBA,EAAM,IAAMI,EAAQ,EAGpB+B,EAAQnC,EAAM,KAAK,WAAY,MAAO,CAAC,EACvCmC,EAAM,OAAS,IAEfA,EAAQnC,EAAM,KAAK,OAAQ,GAAI,CAAC,EAChCmC,EAAM,QAAUkC,EAAQ,QAAQoJ,GAAa,IAAI,EAEjDtL,EAAQnC,EAAM,KAAK,YAAa,MAAO,EAAE,EACzCmC,EAAM,OAAS,IAEfnC,EAAM,IAAMA,EAAM,OAAS,EAC3BA,EAAM,OAASK,EAER,GACT,EAEaiW,GAAqBpX,GAAO,CACvCA,EAAG,OAAO,MAAM,MAAM,WAAY,MAAOmX,EAAiB,CAC5D,ECjDME,GAA0BpU,GAC9B,4BAA4B,KAAKA,EAAM,OAAO,EAE1CqU,GAAiB,CAAChX,EAAiBC,IACvCoO,GAAcrO,EAAOC,EAAM,GAC3BqO,GAAiBtO,EAAOC,EAAQ,EAAE,GAClCsO,GAAgBvO,EAAOC,EAAQ,EAAE,GACjC8W,GAAuB/W,EAAOC,EAAM,EAEhCgX,GAAmB,CAACtU,EAAcyE,EAAY8P,EAAW,KAAgB,CAC7E,MAAMC,EAAW,IAAI3M,EAAM,iBAAkB,QAAS,CAAC,EAEvD,OAAA2M,EAAS,MAAQ,CACf,CAAC,OAAQ,UAAU,EACnB,CAAC,QAAS,yBAAyB,EACnC,CAAC,KAAM/P,CAAE,CACX,EAGI,qBAAqB,KAAKzE,EAAM,OAAO,GACzCwU,EAAS,MAAM,KAAK,CAAC,UAAW,SAAS,CAAC,EAExCD,GAAUC,EAAS,MAAM,KAAK,CAAC,WAAY,UAAU,CAAC,EAEnDA,CACT,EAEMC,GAAchQ,GAAsB,CACxC,MAAMmD,EAAQ,IAAIC,EAAM,aAAc,QAAS,CAAC,EAEhD,OAAAD,EAAM,MAAQ,CACZ,CAAC,QAAS,sBAAsB,EAChC,CAAC,MAAOnD,CAAE,CACZ,EAEOmD,CACT,EAEM8M,GAAW,IAAa,IAAI7M,EAAM,cAAe,QAAS,EAAE,EAE5D8M,GAAU,CACd3U,EACAnC,EACAN,IACS,CACT,MAAMkH,EAAK,aAAa5G,EAAM,IAAI,cAElCmC,EAAM,SAAWA,EAAM,UAAY,CAAA,EAGnCA,EAAM,SAAS,GAAG,QAAUA,EAAM,SAAS,GAAG,QAAQ,MAAM,CAAC,EAEzDzC,EAAQ,QAEVyC,EAAM,SAAS,QAAQyU,GAAWhQ,CAAE,CAAC,EACrCzE,EAAM,SAAS,KAAK0U,GAAU,CAAA,GAGhC1U,EAAM,SAAS,QAAQsU,GAAiBtU,EAAOyE,EAAIlH,EAAQ,QAAQ,CAAC,CACtE,EAEaqX,GAA+C,CAC1D7X,EACA,CAAE,SAAAwX,EAAW,GAAM,MAAA3M,EAAQ,EAAK,EAAI,CAAA,IACjC,CACH7K,EAAG,KAAK,MAAM,MACZ,SACA,oBACCc,GAA6B,CAC5B,MAAMR,EAASQ,EAAM,OAEhBA,EAAM,IAAI,YAAWA,EAAM,IAAI,UAAY,GAEhD,QAASqD,EAAI,EAAGA,EAAI7D,EAAO,OAAQ6D,IAC7BmT,GAAehX,EAAQ6D,CAAC,IAC1ByT,GAAQtX,EAAO6D,GAAIrD,EAAO,CAAE,SAAA0W,EAAU,MAAA3M,CAAM,CAAC,EAC7C2D,GAAalO,EAAO6D,EAAI,GAAI,QAAS,gBAAgB,EACrDqK,GACElO,EAAOmO,GAAoBnO,EAAQ6D,EAAI,CAAC,GACxC,QACA,qBACF,GAIJ,MAAO,EACT,CACF,CACF,EC9Ha2T,GAAsB9X,GAAO,CACxCD,EAAUC,EAAI,CACZ,KAAM,QACN,WAAY,IAAM;AAAA,EAClB,YAAa,IAAM;AAAA,CACrB,CAAC,CACH,ECOM+X,GAAa,CACjBzX,EACAE,EACAwX,EAAyB,KAChB,CACT,QAASzX,EAAQ,EAAG0X,EAAM3X,EAAO,OAAQC,EAAQ0X,EAAM,EAAG1X,IAAS,CACjE,MAAM0C,EAAQ3C,EAAOC,GACf,CAAE,QAAA4E,EAAS,KAAAd,CAAK,EAAIpB,EAG1B,GAAIoB,IAAS,QAAU2T,EAAa,SAAS7S,CAAO,EAAG,SAEvD,MAAMuB,EAASlG,EAAQ,KAAK,CAAC,CAAE,QAAA0X,CAAQ,IACrC,OAAOA,GAAY,SAAWA,IAAY/S,EAAU+S,EAAQ,KAAK/S,CAAO,CAC1E,EACMgT,EAAY7X,EAAOC,EAAQ,GAC3B6X,EAAY9X,EAAOC,EAAQ,GAEjC,GACEmG,GACAyR,EAAU,MAAQC,EAAU,KAC5BD,EAAU,UAAY,GACtBC,EAAU,UAAY,GACtB,CACA,MAAMlL,EAASxG,EAAO,SAAS,CAC7B,IAAKyR,EAAU,IACf,QAASlV,EAAM,QACf,MAAO,OAAO,YAAYkV,EAAU,OAAS,CAAE,CAAA,CACjD,CAAC,EAEGjL,IACFiL,EAAU,IAAMC,EAAU,IAAMlL,EAAO,IACvCiL,EAAU,MAAQ,OAAO,QAAQjL,EAAO,KAAK,EAC7CjK,EAAM,QAAUiK,EAAO,SAIzB3M,GAAS,CACX,CACF,CACF,EAEa8X,GAA6C,CACxDrY,EACAQ,EAAU,CACP,IAAA,CACC,OAAO,KAAKA,CAAO,EAAE,QAAU,GAEnCR,EAAG,KAAK,MAAM,KAAK,cAAe,CAAC,CAAE,IAAA6H,EAAK,OAAAvH,CAAO,IAAM,CACrD,KAAM,CAAE,UAAAgY,CAAU,EAAyBzQ,EAAK,aAAe,CAE/DvH,EAAAA,EAAO,QAAQ,CAAC,CAAE,KAAA+D,EAAM,SAAAkB,CAAS,IAAM,CACjClB,IAAS,UAAU0T,GAAWxS,GAAY,CAAA,EAAI/E,EAAS8X,CAAS,CACtE,CAAC,CACH,CAAC,CACH,EClEaC,EAAuD,CAClE,WAAY,GACZ,SAAU,GACV,kBAAmB,GACnB,cAAe,GACf,aAAc,GACd,OAAQ,WACR,IAAK,EACP,EACMpC,GAA2B,CAC/B,OACA,KACA,KACA,MACA,MACA,MACA,MACF,EAEMqC,GAAe1C,GACnB,OAAO,KACL,KAAK,UACH,OAAO,YACL,OAAO,QAAQA,CAAK,EACjB,OAAO,CAAC,CAAG,CAAA,CAAE,IAAAQ,CAAI,CAAC,IAAMH,GAAyB,SAASG,CAAG,CAAC,EAC9D,IAAI,CAAC,CAAC9T,EAAKkE,CAAM,IAAM,CAAClE,EAAKkE,EAAO,OAAO,CAAC,CACjD,CACF,CACF,EAAE,SAAS,QAAQ,EAER+R,GAA+BzY,GAAO,CACjDA,EAAG,IAAIgU,EAAY,CACjB,KAAM,iBACN,UAAW,gBACX,YAAa,CAAC,CAAE,MAAAvN,EAAQ,GAAI,IAAAjE,EAAK,MAAAsT,EAAO,SAAAC,CAAS,KAAuB,CACtE,MAAAtP,EACA,IAAAjE,EACA,SAAU,mBAAmB,KAAK,UAAUuT,GAAY,CAAA,CAAE,CAAC,EAC3D,MAAO,mBAAmByC,GAAY1C,CAAK,CAAC,CAC9C,EACF,CAAC,CACH,EC7Ca4C,GAAsD,CACjE,OAAQ,CACN,KAAM,OACN,KAAM,OACN,IAAK,OACL,QAAS,OACT,OAAQ,UACR,QAAS,SACX,EAEA,OAAQ,CACN,KAAM,OACN,KAAM,IACN,IAAK,KACL,QAAS,KACT,OAAQ,KACR,QAAS,IACX,EAEA,UAAW,CACT,KAAM,OACN,KAAM,IACN,IAAK,KACL,QAAS,KACT,OAAQ,KACR,QAAS,IACX,EAEA,UAAW,CACT,KAAM,cACN,KAAM,OACN,IAAK,OACL,QAAS,QACT,OAAQ,UACR,QAAS,SACX,EAEA,OAAQ,CACN,KAAM,YACN,KAAM,OACN,IAAK,OACL,QAAS,QACT,OAAQ,WACR,QAAS,UACX,EAEA,OAAQ,CACN,KAAM,aACN,KAAM,OACN,IAAK,SACL,QAAS,WACT,OAAQ,QACR,QAAS,QACX,EAEA,OAAQ,CACN,KAAM,OACN,KAAM,UACN,IAAK,QACL,QAAS,aACT,OAAQ,iBACR,QAAS,aACX,EAEA,OAAQ,CACN,KAAM,cACN,KAAM,OACN,IAAK,QACL,QAAS,SACT,OAAQ,UACR,QAAS,SACX,EAEA,OAAQ,CACN,KAAM,OACN,KAAM,UACN,IAAK,SACL,QAAS,UACT,OAAQ,cACR,QAAS,MACX,EAEA,OAAQ,CACN,KAAM,OACN,KAAM,WACN,IAAK,MACL,QAAS,cACT,OAAQ,QACR,QAAS,aACX,EAEA,OAAQ,CACN,KAAM,OACN,KAAM,OACN,IAAK,UACL,QAAS,OACT,OAAQ,gBACR,QAAS,SACX,EAEA,OAAQ,CACN,KAAM,cACN,KAAM,OACN,IAAK,WACL,QAAS,QACT,OAAQ,cACR,QAAS,UACX,EAEA,OAAQ,CACN,KAAM,OACN,KAAM,IACN,IAAK,MACL,QAAS,KACT,OAAQ,KACR,QAAS,IACX,EAEA,OAAQ,CACN,KAAM,QACN,KAAM,MACN,IAAK,UACL,QAAS,QACT,OAAQ,UACR,QAAS,OACX,EAEA,OAAQ,CACN,KAAM,KACN,KAAM,KACN,IAAK,IACL,QAAS,KACT,OAAQ,KACR,QAAS,MACX,CACF,ECvIaC,GAAc,CACzB,OACA,UACA,cACA,aACA,WACA,SACA,UACA,QACA,SACA,KACA,aACA,WACA,eACA,KACA,KACA,QACA,UACA,WACA,QACA,OACA,KACA,YACA,UACA,UACA,SACA,SACA,QACA,QACA,SACA,SACA,OACA,OACA,UACA,SACA,MACA,QACA,MACA,SACA,aACA,YACA,aACA,gBACF,EAEaC,EAAS,IAAIC,GAAO,4BAA4B,EC1ChDC,GAAsB,CACjCC,EACAvY,IACY,CACZ,KAAM,CAAE,UAAAwY,EAAY,KAAM,EAAIxY,EAE9B,OAAO,OAAOwY,GAAc,UACxBA,EAEAA,IAAc,UAEXD,EAAI,IAAI,OAASC,IAAc,OAE/BD,EAAI,IAAI,SAAWC,IAAc,SAClC,EACR,EAEaC,GAAa,CAACC,EAAYH,IAAmB,CACxD,MAAMhH,EAAOmH,EAAK,kBAAoBA,EAAK,KACrC,CAAE,MAAAC,CAAM,EAAIJ,EAEZK,EAAgBF,EAAK,MAAM,OAAO,CAAC,CAAE,IAAAG,CAAI,IAC7CA,EAAI,MAAM,mBAAmB,CAC/B,EAEMC,EAAc,CAClB,GAAGF,EAEA,OAAO,CAAC,CAAE,IAAAC,CAAI,IAAM,CAACA,EAAI,WAAW,GAAG,CAAC,EACxC,OAAO,CAAC,CAAE,SAAAE,CAAS,IAElBJ,EAAM,MAAM,CAAC,CAAE,iBAAA7M,CAAiB,IAAMA,IAAqBiN,CAAQ,CACrE,EACF,GAAGH,EAEA,OAAO,CAAC,CAAE,IAAAC,CAAI,IAAMA,EAAI,WAAW,GAAG,CAAC,EACvC,OAAO,CAAC,CAAE,SAAAG,CAAS,IAElBL,EAAM,MACJ,CAAC,CAAE,iBAAA7M,CAAiB,IAClB,CAACA,GACD,GAAGyM,EAAI,QAAQ,OAAOzM,MAAuBkN,CACjD,CACF,CACJ,EAAE,IAAI,CAAC,CAAE,IAAAH,CAAI,IAAMA,CAAG,EAElBC,EAAY,QACdV,GAAO,KAAK,yBAAyB7G,MAASuH,EAAY,KAAK,IAAI,GAAG,CAC1E,EC1CaG,EAAmB,CAAC,CAC/B,QAAAjZ,EACA,iBAAAkZ,EACA,UAAAC,EACA,IAAAC,EAAM,GACN,MAAAC,EAAQ,EACV,IAAqC,CACnC,GAAIH,KAAoBlZ,EAAS,CAS/B,GARAoY,EAAO,KACL,GAAGkB,EAAM,QAAQJ,CAAgB,QAAQI,EAAM,OAAO,YAAY,IAChED,EAAQ,OAAOA,IAAU,mBACVC,EAAM,QAAQH,CAAS,cACtCC,EAAM;AAAA,EAAKA,IAAQ,IAEvB,EAEID,EAAU,SAAS,GAAG,EAAG,CAC3B,MAAMI,EAAOJ,EAAU,MAAM,GAAG,EAChC,IAAIK,EAAOxZ,EAEXuZ,EAAK,QAAQ,CAACvX,EAAKjC,IAAU,CACvBA,IAAUwZ,EAAK,OAAS,GAE1BC,EAAKxX,GAAOwX,EAAKxX,IAAQ,CAAA,EAEzBwX,EAAOA,EAAKxX,IACPwX,EAAKxX,GAAOhC,EAAQkZ,EAC7B,CAAC,CACH,MAAOlZ,EAAQmZ,GAAanZ,EAAQkZ,GAEpC,OAAOlZ,EAAQkZ,EACjB,CACF,EAEaO,EAAgB,CAC3BzZ,EACA0Z,EACA7N,EAAO,GACPsN,EAAY,KACH,CACLO,KAAiB1Z,IACnBoY,EAAO,MACL,IAAIkB,EAAM,QAAQI,CAAa,SAASJ,EAAM,IAAI,SAAS,IACzDH,EACI,gBAAgBG,EAAM,QAAQH,CAAS,aACvC,6BACHtN,EAAO;AAAA,EAAKA,IAAS,IAC1B,EAEKsN,GAAW,OAAOnZ,EAAQ0Z,GAEnC,EC1DaC,GACX3Z,GACS,CACTiZ,EAAiB,CACf,QAAAjZ,EACA,iBAAkB,YAClB,UAAW,UACb,CAAC,EACDiZ,EAAiB,CACf,QAAAjZ,EACA,iBAAkB,WAClB,UAAW,eACb,CAAC,EACDiZ,EAAiB,CACf,QAAAjZ,EACA,iBAAkB,WAClB,UAAW,SACb,CAAC,EACDiZ,EAAiB,CACf,QAAAjZ,EACA,iBAAkB,MAClB,UAAW,OACb,CAAC,EACDiZ,EAAiB,CACf,QAAAjZ,EACA,iBAAkB,OAClB,UAAW,MACb,CAAC,EACDyZ,EAAczZ,EAAS,WAAW,EAClCyZ,EAAczZ,EAAS,aAAa,EACpCyZ,EAAczZ,EAAS,UAAU,CACnC,EC5Ba4Z,GAAgCpa,GAAO,CAClDA,EAAG,IAAID,EAAW,CAChB,KAAM,OACN,WAAY,CAACO,EAAiBC,IAA0B,CACtD,KAAM,CAAE,KAAAqG,CAAK,EAAItG,EAAOC,GAClB8D,EAAO,YAAY,KAAKuC,CAAI,EAC5BH,EAAQ,oCAAoC,KAAKG,CAAI,EAE3D,IAAIF,EAAS,GACb,MAAMM,EAA+B,CAAA,EAErC,QAAS7C,EAAI5D,EAAO4D,EAAI7D,EAAO,OAAQ6D,IAAK,CAC1C,KAAM,CAAE,KAAAE,EAAM,QAAAc,EAAS,KAAAyB,CAAK,EAAItG,EAAO6D,GAEvC,GAAIE,IAAS,uBAAwB,MACjC,CAACc,GACDd,IAAS,UACPuC,IAAS,OAAQF,EAASG,EAAK1B,CAAO,EACrC6B,EAAKJ,GAAQzB,EAEtB,CAEA,MAAO;AAAA,0BACa5E,aAAgB8D,GAAA,KAAAA,OAAAA,EAAO,KAAM,YAC/CoC,EAAQ,WAAW,mBAAmBA,EAAM,EAAE,KAAO,KACpDC,EAAS,YAAYA,KAAY,YAAYG,EAC9C,KAAK,UAAUG,CAAI,CACrB;AAAA,CAEF,EACA,YAAa,IAAM,aACrB,CAAC,CACH,EChCaqT,GAAiCra,GAAO,CACnDA,EAAG,IAAID,EAAW,CAChB,KAAM,aACN,WAAY,CAACqK,EAASC,EAAQN,EAAUlC,KACtC+Q,EAAO,KACL,qCACE/Q,EAAI,iBAAmB,MAAMA,EAAI,mBAAqB,IAE1D,EAEO;AAAA,GAET,YAAa,IAAM;AAAA,CACrB,CAAC,EAED7H,EAAG,IAAID,EAAW,CAChB,KAAM,kBACN,WAAY,CAACO,EAAQC,IAAU,CAC7B,KAAM,CAAE,KAAAqG,CAAK,EAAItG,EAAOC,GAClB+Z,EAAW1T,EAAK,MAAM,GAAG,EAAE,IAAA,IAAU,SAE3C,MAAO,yBACL0T,EAAW1T,EAAK,QAAQ,WAAY,EAAE,EAAIA,KACxC0T,EAAW,UAAY;AAAA,CAC7B,EACA,YAAa,IAAM;AAAA,CACrB,CAAC,CACH,EC5BaC,GAAiCva,GAAO,CACnDwW,EAAIxW,EAAI,CACN,KAAM,YACN,KAAM,YACN,MAAO,UACP,OAAQ,CAACM,EAAQC,IAAkB,CACjC,QAAQ,KACN,kFACF,EAEA,MAAM0C,EAAQ3C,EAAOC,GACfiC,EAAM,aAAajC,IACnB,CAAE,QAAA4E,EAAS,KAAAyB,CAAK,EAAI3D,EAE1B,MAAO,kBAAkBT,YAAcqE,EAAK1B,CAAO,cACjDyB,EAAK,KAAA,GAAU,qBAEnB,CACF,CAAC,CACH,EClBM4T,GAAYC,GAAW,YAAY,GAAG,EACtCC,EAAgBC,GAAkB5I,EAAK,QAAQyI,GAAW,WAAW,CAAC,EAE/DI,GAAoB,MAC/B7B,EACAvY,EACAqa,EAAS,KACW,CACpB,IAAIC,EAAe,GACfC,EAAU,GAEd,MAAMC,EAAY,CAACxY,EAAmCyY,EAAM,KAC1DzY,KAAOhC,EACH,QAAQA,EAAQgC,EAAI,EACnByY,GAAO,QAASza,GAAWA,EAAQ,KAAQ,GAElD,OAAIwa,EAAU,OAAO,IACnBF,GAAgB,wBACGJ;AAAAA,EAEnBK,GAAW;AAAA,GAKTC,EAAU,UAAU,IACtBF,GAAgB,yBACIJ;AAAAA,EAEpBK,GAAW;AAAA,EAKPF,IACFC,GAAgB,6CACsBJ;AAAAA,EAEtCK,GAAW;AAAA;AAAA,IAOXC,EAAU,WAAW,IACvBF,GAAgB,WACVJ;AAAAA,GAGJM,EAAU,MAAM,IAClBF,GAAgB,yBACIJ;AAAAA,EAEpBK,GAAW;AAAA,GAKTC,EAAU,SAAS,IACrBF,GAAgB,wBACGJ;AAAAA,EAEnBK,GAAW;AAAA,GAKTC,EAAU,SAAU,EAAI,IAC1BF,GAAgB,WACVJ;AAAAA,GAGJM,EAAU,WAAW,IACvBF,GAAgB,0BACKJ;AAAAA,EAErBK,GAAW;AAAA,GAKTC,EAAU,WAAY,EAAI,IAC5BF,GAAgB,WACVJ;AAAAA,GAGJM,EAAU,YAAa,EAAI,IAC7BF,GAAgB,WACVJ;AAAAA,GAGJM,EAAU,SAAS,IACrBF,GAAgB,wBACGJ;AAAAA,EAEnBK,GAAW;AAAA,GAKTC,EAAU,cAAc,IAC1BF,GAAgB,6BACQJ;AAAAA,EAExBK,GAAW;AAAA,GAKTC,EAAU,YAAY,IACxBF,GAAgB,2BACMJ;AAAAA,EAEtBK,GAAW;AAAA,GAKTC,EAAU,MAAM,IAClBF,GAAgB,qBACAJ;AAAAA,EAEhBK,GAAW;AAAA,GAKTC,EAAU,WAAY,EAAI,IAC5BF,GAAgB,WACVJ;AAAAA,GAGJM,EAAU,OAAO,IACnBF,GAAgB,WACVJ;AAAAA,GAGJM,EAAU,eAAe,IAC3BF,GAAgB;AAAA,EAGhBC,GAAW,qEACqDL;AAAAA,OAI3D3B,EAAI,UACT,uBACA;AAAA,EAEF+B;AAAAA;AAAAA;AAAAA;AAAAA,EAIAC,EACC,MAAM;AAAA,CAAI,EACV,IAAKhY,GAAS,OAAOA,GAAM,EAC3B,KAAK;AAAA,CAAI;AAAA;AAAA;AAAA,CAIV,CACF,EAEamY,GAA0B,MACrCnC,EACAoC,IACkB,CAClB,MAAMC,EAAW,CACf,SACA,iBACA,GAAGD,EAAc,IACd3Y,GAAQ,SAASA,EAAI,GAAG,gBAAgBA,EAAI,UAAU,CAAC,GAC1D,CACF,EAEA,MAAMuW,EAAI,UACR,uBACA,YACOqC,EAAS,KAAK,IAAI,aAAaV;AAAAA;AAAAA,kCAERU,EAC3B,IAAKnb,GAAS,GAAGA,KAAQ,EACzB,KAAK,IAAI;AAAA,CAEd,CACF,EC/Haob,GACX,CACE7a,EAAkC,CAAE,IAAK,EAAK,EAC9Cqa,EAAS,KAEV9B,GAAQ,CAEH8B,GACFV,GACE3Z,CACF,EACEuY,EAAI,IAAI,SAASH,EAAO,KAAK,YAAYpY,EAAQ,YAAY,EAEjE,MAAMwa,EAAY,CAChBxY,EACAyY,EAAM,KAENzY,KAAOhC,EACH,QAAQA,EAAQgC,EAAI,EACnByY,GAAO,QAASza,GAAWA,EAAQ,KAAQ,GAE5C8a,EAAUC,GAAW,CACzB,IAAAxC,EACA,KAAM,aACN,QAASL,GACT,OAAQlY,EAAQ,OAClB,CAAC,EAEKgb,EAAcR,EAAU,OAAO,EAC/BS,EAAgBT,EAAU,SAAS,EACnCU,EAAkBV,EAAU,WAAW,EACvCW,EAAiBX,EAAU,WAAY,EAAI,EAC3CY,EAAkBZ,EAAU,YAAa,EAAI,EAC7Ca,EAAiBb,EAAU,WAAY,EAAI,EAC3Cc,EAAgBd,EAAU,SAAS,EACnCe,EAAqBf,EAAU,cAAc,EAC7CgB,EAAchB,EAAU,OAAO,EAC/BiB,EAAgBjB,EAAU,SAAS,EACnCkB,EAAsBlB,EAAU,eAAe,EAE/CmB,EAAmBrD,GAAoBC,EAAKvY,CAAO,EAEnDkP,EAA6B,CACjC,OAAQ,CAGN,YAAa,wBAEb,WAAY,2BAEZ,aAAc,yBAChB,EACA,GAAI,OAAOlP,EAAQ,OAAU,SAAWA,EAAQ,MAAQ,CAAA,CAC1D,EAEM2a,EACJ,OAAO3a,EAAQ,cAAiB,UAChC,MAAM,QAAQA,EAAQ,aAAa,OAAO,EACtCA,EAAQ,aAAa,QACrB,GAEN4b,GAAqBrD,EAAK,CAAE,GAAI,MAAO,CAAC,EAExC,IAAIsD,EAAmB,GAEvB,MAAO,CACL,KAAM,6BAEN,OAAQ,KAAgC,CACtC,uBAAwB7b,EAAQ,OAAS,IACzC,kBAAmB,CACjB,GAAGsG,GACH,GAAI,OAAOtG,EAAQ,MAAS,SAAWA,EAAQ,KAAO,CAAA,CACxD,EACA,gBACE,OAAOA,EAAQ,SAAY,SAAWA,EAAQ,QAAU,CAAA,EAC1D,cACE,OAAOA,EAAQ,cAAiB,UAChC,OAAOA,EAAQ,aAAa,cAAiB,SACzCA,EAAQ,aAAa,aACrB,CACN,EAAA,uBACE,OAAOA,EAAQ,eAAkB,SAC7B0V,EACE,CACAqC,EAAAA,EACA/X,EAAQ,aACV,EACA+X,CACR,GAEA,sBAAuB,CAAC7R,EAAiBqS,IAAc,CACrD,KAAM,CAAE,QAAAuD,CAAQ,EAAIvD,EAAI,QAExB,GAAIuD,EAAQ,KAAK,SAAS,MAAM,EAAG,CACjC,MAAMC,EAAoC7V,EAE1C6V,EAAc,YAAcC,GAC1BD,EAAc,aAAe,CAAA,EAC7B,CACE,MAAO,CACL,cAAe,CACb,OACEE,EACAC,GACA,CACID,EAAQ,QAAQ,SAAS,aAAa,GAE1CC,GAAKD,CAAO,CACd,CACF,CACF,CACF,CACF,CACF,CAEAE,GAAqB,CAAE,IAAA5D,EAAK,OAAArS,CAAO,EAAG,CAAC,SAAU,iBAAiB,CAAC,EAE/DsV,GAAetM,EAAa,SAAW,OACzCkN,EAAiB,CAAE,IAAA7D,EAAK,OAAArS,CAAO,EAAGiS,EAAW,EACtCsD,GAAeW,EAAiB,CAAE,IAAA7D,EAAK,OAAArS,CAAO,EAAG,OAAO,EAE7D8U,IACFqB,EAA2B,CAAE,IAAA9D,EAAK,OAAArS,CAAO,EAAG,wBAAwB,EACpEoW,EAAmB,CAAE,IAAA/D,EAAK,OAAArS,CAAO,EAAG,UAAU,GAG5C+U,IACFoB,EAA2B,CAAE,IAAA9D,EAAK,OAAArS,CAAO,EAAG,SAAS,EACrDoW,EAAmB,CAAE,IAAA/D,EAAK,OAAArS,CAAO,EAAG,SAAS,GAG3CgV,IACFqB,GACE,CAAE,IAAAhE,EAAK,OAAArS,CAAO,EACd,qCACF,EACAoW,EAAmB,CAAE,IAAA/D,EAAK,OAAArS,CAAO,EAAG,cAAc,GAGhDoV,IACFe,EAA2B,CAAE,IAAA9D,EAAK,OAAArS,CAAO,EAAG,SAAS,EACrDoW,EAAmB,CAAE,IAAA/D,EAAK,OAAArS,CAAO,EAAG,SAAS,GAG3CqV,IACFc,EAA2B,CAAE,IAAA9D,EAAK,OAAArS,CAAO,EAAG,CAC1C,+BACA,4CACA,GAAGyU,EAAc,IACd6B,GAAW,oBAAoBA,KAAUA,UAC5C,CACF,CAAC,EAEDF,EAAmB,CAAE,IAAA/D,EAAK,OAAArS,CAAO,EAAG,WAAW,GAG7CwV,IACFa,GAA2B,CAAE,IAAAhE,EAAK,OAAArS,CAAO,EAAG,WAAW,EACvDoW,EAAmB,CAAE,IAAA/D,EAAK,OAAArS,CAAO,EAAG,WAAW,EAG/CuW,GAAa,CAAE,IAAAlE,EAAK,OAAArS,CAAO,EAAIA,GAAW,CACxCA,EAAO,OAAO,IAAI,sBAAuB,EAAK,EAC9CA,EAAO,OAAO,IAAI,yBAA0B,EAAK,CACnD,CAAC,EAEL,EAEA,gBAAkB1G,GAAa,CAoE7B,GAlEIgb,EAAU,KAAK,IAAGhb,EAAG,QAAQ,QAAU,IACvCgb,EAAU,OAAO,GACnBhb,EAAG,IAAI4C,GAAO,OAAOpC,EAAQ,OAAU,SAAWA,EAAQ,MAAQ,EAAE,EAClEwa,EAAU,OAAO,GAAGhb,EAAG,IAAI6B,EAAK,EAChCmZ,EAAU,WAAW,GAAGhb,EAAG,IAAIqM,GAAMiP,CAAO,EAC5CN,EAAU,eAAe,GAAGhb,EAAG,IAAI2M,EAAa,EAChDqO,EAAU,QAAQ,GAAGhb,EAAG,IAAImJ,EAAM,EAClCyS,GACF5b,EAAG,IACD6M,GACA,OAAOrM,EAAQ,WAAc,SAAWA,EAAQ,UAAY,CAAA,CAC9D,EACEwa,EAAU,WAAW,GAAGhb,EAAG,IAAI0N,EAAS,EACxCsN,EAAU,KAAK,GAAGhb,EAAG,IAAIoX,EAAG,EAC5B4D,EAAU,KAAK,GAAGhb,EAAG,IAAIkX,EAAG,EAC5ByE,GAAgB3b,EAAG,IAAIoM,EAAQ,EAC/B4O,EAAU,MAAM,GAAGhb,EAAG,IAAIkR,EAAI,EAC9B2K,GACF7b,EAAG,IAAI6X,GAAU,CACf,OAAOrX,EAAQ,UAAa,SAAWA,EAAQ,SAAW,CAC5D,CAAA,CAAC,GAIDwa,EAAU,MAAM,GAEhBH,IAEA7a,EAAG,IAAI8X,EAAI,EACTkE,EAAahc,EAAG,IAAIuP,GAAOG,CAAY,EAClCuM,GACPjc,EAAG,IACDsQ,GACA,OAAO9P,EAAQ,SAAY,SAAWA,EAAQ,QAAU,CAAA,CAC1D,EAEEwa,EAAU,SAAS,GACrBhb,EAAG,IACDiT,GACA,OAAOzS,EAAQ,SAAY,SAAWA,EAAQ,QAAU,EAC1D,EACEwa,EAAU,SAAS,GAAGhb,EAAG,IAAIqY,GAAS7X,EAAQ,OAAO,EAGrDwa,EAAU,UAAU,IACtBhb,EAAG,IAAIsI,EAAQ,EAEXuS,GAAQ7a,EAAG,IAAIqa,EAAe,GAEhCW,EAAU,MAAM,GAAGhb,EAAG,IAAIoH,CAAI,EAC9BsU,IACF1b,EAAG,IAAI2J,EAAS,EAEZkR,GAAQ7a,EAAG,IAAIua,EAAe,GAEhCiB,GAAaxb,EAAG,IAAIwG,EAAK,EACzBiV,GAAezb,EAAG,IAAI2I,EAAO,EAC7BqS,EAAU,MAAM,IAClBhb,EAAG,IAAIiH,EAAU,EACjBjH,EAAG,IAAIkH,EAAO,EACdlH,EAAG,IAAImH,EAAS,EAEZ0T,GAAQ7a,EAAG,IAAIoa,EAAc,GAE/B0B,GAAe9b,EAAG,IAAIyT,EAAO,EAC7BsI,GAAoB/b,EAAG,IAAIgX,EAAY,EACvC,OAAOxW,EAAQ,YAAe,SAAU,CAC1C,KAAM,CAAE,QAAA0c,EAAU,GAAI,OAAAxW,EAAS,CAAG,CAAA,EAAIlG,EAAQ,WAE9C0c,EAAQ,QAASC,GAAW,CACtBA,IAAW,KACbnd,EAAG,IAAIgU,EAAY4B,GAAsBlP,EAAO,IAAM,CAAE,CAAA,CAAC,EAClDyW,IAAW,MAClBnd,EAAG,IAAIgU,EAAYoC,GAAuB1P,EAAO,KAAO,CAAA,CAAE,CAAC,EACpD,OAAOyW,GAAW,UAAUnd,EAAG,IAAIgU,EAAYmJ,CAAM,CAChE,CAAC,CACH,CACIjB,GAAqBlc,EAAG,IAAIyY,EAAa,CAC/C,EAEA,YAAa,CAACS,EAAMH,IAAc,CAC5BoD,GAAoBE,GAAkBpD,GAAWC,EAAMH,CAAG,CAChE,EAEA,cAAe,MAAOA,GAAuB,CAC3CsD,EAAmB,GACfF,GACFpD,EAAI,MAAM,QAASG,GAASD,GAAWC,EAAMH,CAAG,CAAC,EAEnD,MAAMmC,GAAwBnC,EAAKoC,CAAa,CAClD,EAEA,iBAAmBpC,GAAQ6B,GAAkB7B,EAAKvY,EAASqa,CAAM,CACnE,CACF"}