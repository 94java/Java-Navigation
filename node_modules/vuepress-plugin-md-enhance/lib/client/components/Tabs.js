import{ClientOnly as m}from"@vuepress/client";import{useStorage as y}from"@vueuse/core";import{defineComponent as I,ref as c,watch as g,h as n}from"vue";import"../styles/tabs.scss";const d=y("VUEPRESS_TAB_STORE",{});var S=I({name:"Tabs",props:{active:{type:Number,default:0},data:{type:Array,required:!0},id:{type:String,required:!0},tabId:{type:String,default:""}},setup(a,{slots:o}){const l=c((()=>{if(a.tabId){const t=a.data.findIndex(({title:e,value:i=e})=>d.value[a.tabId]===i);if(t!==-1)return t}return a.active})()),u=c([]),s=()=>{if(a.tabId){const{title:t,value:e=t}=a.data[l.value];d.value[a.tabId]=e}},f=(t=l.value)=>{l.value=t<u.value.length-1?t+1:0,u.value[l.value].focus()},b=(t=l.value)=>{l.value=t>0?t-1:u.value.length-1,u.value[l.value].focus()},p=(t,e)=>{t.key===" "||t.key==="Enter"?(t.preventDefault(),l.value=e):t.key==="ArrowRight"?(t.preventDefault(),f()):t.key==="ArrowLeft"&&(t.preventDefault(),b()),s()};return g(()=>d.value[a.tabId],(t,e)=>{if(a.tabId&&t!==e){const i=a.data.findIndex(({title:r,value:v=r})=>v===t);i!==-1&&(l.value=i)}}),()=>n(m,()=>n("div",{class:"tab-list"},[n("div",{class:"tab-list-nav",role:"tablist"},a.data.map(({title:t},e)=>{const i=e===l.value;return n("button",{ref:r=>{r&&(u.value[e]=r)},class:["tab-list-nav-item",{active:i}],role:"tab","aria-controls":`tab-${a.id}-${e}`,"aria-selected":i,onClick:()=>{l.value=e,s()},onKeydown:r=>p(r,e)},t)})),a.data.map(({title:t,value:e=t},i)=>{var r;const v=i===l.value;return n("div",{class:["tab-item",{active:v}],id:`tab-${a.id}-${i}`,role:"tabpanel","aria-expanded":v},(r=o[`tab${i}`])==null?void 0:r.call(o,{title:t,value:e,isActive:v}))})]))}});export{S as default};
//# sourceMappingURL=Tabs.js.map
