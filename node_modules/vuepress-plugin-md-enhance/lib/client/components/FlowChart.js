import{useEventListener as u,useDebounceFn as m}from"@vueuse/core";import{IconBase as w,atou as h}from"vuepress-shared/client";import{h as o,defineComponent as x,ref as f,computed as v,onMounted as b}from"vue";import"../styles/flowchart.scss";const y=()=>o(w,{name:"loading"},()=>["0s","-0.333s","-0.667s"].map(e=>o("circle",{cx:512,cy:512,r:0,fill:"none",stroke:"currentColor","stroke-width":"20"},[o("animate",{attributeName:"r",repeatCount:"indefinite",dur:"1s",values:"0;400",keyTimes:"0;1",keySplines:"0 0.2 0.8 1",calcMode:"spline",begin:e}),o("animate",{attributeName:"opacity",repeatCount:"indefinite",dur:"1s",values:"1;0",keyTimes:"0;1",keySplines:"0.2 0 0.8 1",calcMode:"spline",begin:e})])));var a={x:0,y:0,"line-width":2,"line-length":40,"text-margin":8,"font-size":14,"font-color":"#8DA1AC","line-color":"#8DA1AC","element-color":"black",fill:"white","yes-text":"Yes","no-text":"No","arrow-end":"block",scale:1},F={...a,symbols:{start:{class:"start-element","font-color":"#fff",fill:"#595959","line-width":"0px"},end:{class:"end-element","font-color":"#fff",fill:"#595959","line-width":"0px"},operation:{class:"operation-element","font-color":"#fff",fill:"#1890ff","line-width":"0px"},inputoutput:{class:"inputoutput-element","font-color":"#fff",fill:"#1890ff","line-width":"0px"},subroutine:{class:"subroutine-element","font-color":"#fff",fill:"#FF485E","element-color":"#fff","line-color":"red"},condition:{class:"condition-element","font-color":"#fff",fill:"#FF485E","line-width":"0px"},parallel:{class:"parallel-element","font-color":"#fff",fill:"#1890ff","line-width":"0px"}}},C={...a,"line-width":1,symbols:{start:{class:"start-element",fill:"#ccc","line-width":"1px","line-color":"#5c6ac4","font-color":"#000"},end:{class:"end-element",fill:"#ccc","line-width":"1px","line-color":"#5c6ac4","font-color":"#000"},operation:{class:"operation-element",fill:"#f1f1f1","line-width":"1px","line-color":"#5c6ac4","font-color":"#000"},inputoutput:{class:"inputoutput-element",fill:"#f1f1f1","line-width":"1px","line-color":"#5c6ac4","font-color":"#000"},subroutine:{class:"subroutine-element",fill:"#f1f1f1","line-width":"1px","line-color":"#5c6ac4","font-color":"#000"},condition:{class:"condition-element",fill:"#f1f1f1","line-width":"1px","line-color":"#5c6ac4","font-color":"#000"},parallel:{class:"parallel-element",fill:"#f1f1f1","line-width":"1px","line-color":"#5c6ac4","font-color":"#000"}}},g={...a,symbols:{start:{class:"start-element","font-color":"#fff",fill:"#2F495F","line-width":"0px"},end:{class:"end-element","font-color":"#fff",fill:"#2F495F","line-width":"0px"},operation:{class:"operation-element","font-color":"#fff",fill:"#00BC7D","line-width":"0px"},inputoutput:{class:"inputoutput-element","font-color":"#fff",fill:"#EB4D5D","line-width":"0px"},subroutine:{class:"subroutine-element","font-color":"#fff",fill:"#937AC4","element-color":"#fff","line-color":"red"},condition:{class:"condition-element","font-color":"#fff",fill:"#FFB500","line-width":"0px"},parallel:{class:"parallel-element","font-color":"#fff",fill:"#2F495F","line-width":"0px"}}},p={ant:F,vue:g,pie:C},k=x({name:"FlowChart",props:{code:{type:String,required:!0},id:{type:String,required:!0},preset:{type:String,default:"vue"}},setup(e){let n;const d=f(),i=f(!0),t=f(1),c=v(()=>p[e.preset]||(console.warn(`[md-enhance:flowchart] Unknown preset: ${e.preset}`),p.vue)),s=l=>l<419?.8:l>1280?1:.9;return b(()=>{Promise.all([import("flowchart.js/src/flowchart.parse.js"),new Promise(l=>setTimeout(l,MARKDOWN_ENHANCE_DELAY))]).then(([{default:l}])=>{n=l(h(e.code)),t.value=s(window.innerWidth),i.value=!1,n.drawSVG(e.id,{...c.value,scale:t.value}),u("resize",m(()=>{const r=s(window.innerWidth);t.value!==r&&(t.value=r,n.drawSVG(e.id,{...c.value,scale:r}))},100))})}),()=>[i.value?o("div",{class:"flowchart-loading-wrapper"},o(y)):null,o("div",{ref:d,class:["flowchart-wrapper",e.preset],id:e.id,style:{display:i.value?"none":"block"}})]}});export{k as default};
//# sourceMappingURL=FlowChart.js.map
