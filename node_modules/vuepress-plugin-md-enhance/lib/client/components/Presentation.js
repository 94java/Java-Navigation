import{useReveal as c}from"@temp/md-enhance/reveal";import{usePageFrontmatter as v}from"@vuepress/client";import{h as e,defineComponent as f,ref as o,onMounted as y,onBeforeUnmount as g}from"vue";import{IconBase as b,atou as h}from"vuepress-shared/client";import"../styles/slides/index.scss";import"../styles/slides/theme/fonts/league-gothic/league-gothic.css";import"../styles/slides/theme/fonts/source-sans-pro/source-sans-pro.css";const k=()=>e(b,{name:"loading"},()=>["0s","-0.333s","-0.667s"].map(t=>e("circle",{cx:512,cy:512,r:0,fill:"none",stroke:"currentColor","stroke-width":"20"},[e("animate",{attributeName:"r",repeatCount:"indefinite",dur:"1s",values:"0;400",keyTimes:"0;1",keySplines:"0 0.2 0.8 1",calcMode:"spline",begin:t}),e("animate",{attributeName:"opacity",repeatCount:"indefinite",dur:"1s",values:"1;0",keyTimes:"0;1",keySplines:"0.2 0 0.8 1",calcMode:"spline",begin:t})])));var S=f({name:"Presentation",props:{id:{type:String,required:!0},code:{type:String,required:!0},theme:{type:String,default:"auto"}},setup(t){const n=v(),s=o(""),r=o(!1),u=o(),a=o();let i;return y(()=>{if(a.value){s.value=h(t.code),a.value.setAttribute("id",t.id),a.value.setAttribute("data-theme",t.theme);const d=[new Promise(l=>setTimeout(l,MARKDOWN_ENHANCE_DELAY)),...c()];Promise.all(d).then(([,l,...m])=>{i=new l.default(a.value,{plugins:m.map(p=>p.default)}),i.initialize({backgroundTransition:"slide",hash:n.value.layout==="Slide",mouseWheel:n.value.layout==="Slide",transition:"slide",slideNumber:!0,...REVEAL_CONFIG,...n.value.reveal||{},embedded:n.value.layout!=="Slide"}).then(()=>{r.value=!1,i.configure({backgroundTransition:"slide"})})})}}),g(()=>{i==null||i.destroy()}),()=>e("div",{ref:u,class:{"md-enhance-presentation":!0,loading:r.value}},[r.value?e(k):null,e("div",{ref:a,class:["reveal","reveal-viewport"]},e("div",{class:"slides",style:{display:r.value?"none":"block"},innerHTML:`<section data-markdown data-separator="^\\r?\\n---\\r?\\n$" data-separator-vertical="^\\r?\\n--\\r?\\n$"><script type="text/template">${s.value}<\/script></section>`}))])}});export{S as default};
//# sourceMappingURL=Presentation.js.map
