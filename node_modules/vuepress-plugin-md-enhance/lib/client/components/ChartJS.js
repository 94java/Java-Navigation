import{h,defineComponent,ref,onMounted}from"vue";import{IconBase,atou}from"vuepress-shared/client";import"../styles/chart.scss";const LoadingIcon=()=>h(IconBase,{name:"loading"},()=>["0s","-0.333s","-0.667s"].map(e=>h("circle",{cx:512,cy:512,r:0,fill:"none",stroke:"currentColor","stroke-width":"20"},[h("animate",{attributeName:"r",repeatCount:"indefinite",dur:"1s",values:"0;400",keyTimes:"0;1",keySplines:"0 0.2 0.8 1",calcMode:"spline",begin:e}),h("animate",{attributeName:"opacity",repeatCount:"indefinite",dur:"1s",values:"1;0",keyTimes:"0;1",keySplines:"0.2 0 0.8 1",calcMode:"spline",begin:e})]))),parseChartConfig=(config,type)=>{if(type==="json")return JSON.parse(config);const exports={},module={exports};return eval(config),module.exports};var ChartJS=defineComponent({name:"ChartJS",props:{config:{type:String,required:!0},id:{type:String,required:!0},title:{type:String,default:""},type:{type:String,default:"json"}},setup(e){const o=ref(),i=ref(),n=ref(!0);return onMounted(()=>{Promise.all([import("chart.js/auto"),new Promise(t=>setTimeout(t,MARKDOWN_ENHANCE_DELAY))]).then(([{default:t}])=>{t.defaults.maintainAspectRatio=!1;const r=parseChartConfig(atou(e.config),e.type),a=i.value.getContext("2d");new t(a,r),n.value=!1})}),()=>[e.title?h("div",{class:"chart-title"},decodeURIComponent(e.title)):null,n.value?h("div",{class:"chart-loading-wrapper"},h(LoadingIcon)):null,h("div",{ref:o,class:"chart-wrapper",id:e.id,style:{display:n.value?"none":"block"}},h("canvas",{ref:i,height:400}))]}});export{ChartJS as default};
//# sourceMappingURL=ChartJS.js.map
