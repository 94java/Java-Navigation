'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

const grayMatter = require('gray-matter');

function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e["default"] : e; }

const grayMatter__default = /*#__PURE__*/_interopDefaultLegacy(grayMatter);

const frontmatterPlugin = (md, { grayMatterOptions, renderExcerpt = true } = {}) => {
  const render = md.render.bind(md);
  md.render = (src, env = {}) => {
    const { data, content, excerpt = "" } = grayMatter__default(src, grayMatterOptions);
    env.content = content;
    env.frontmatter = {
      ...env.frontmatter,
      ...data
    };
    env.excerpt = renderExcerpt && excerpt ? render(excerpt, { ...env }) : excerpt;
    return render(content, env);
  };
};

exports.frontmatterPlugin = frontmatterPlugin;
