import{categoryMap as M}from"@temp/blog/category";import{useRouteLocale as h,usePageFrontmatter as f}from"@vuepress/client";import{ref as E,computed as y}from"vue";import{useRouter as v,useRoute as b}from"vue-router";import{resolveRouteWithRedirect as R}from"vuepress-shared/client";import{typeMap as k}from"@temp/blog/type";const _=E(M),B=(t="")=>{const r=v(),c=b(),i=h();return y(()=>{var p;const m=t||((p=f().value.blog)==null?void 0:p.key)||"",u=r.getRoutes();if(!_.value[m])throw new Error(`useBlogCategory: ${t?`key ${t} is invalid`:"can not bind to an existing key on non blog pages"}`);const n=_.value[m][i.value],e={path:n.path,map:{}};for(const a in n.map){const o=n.map[a];e.map[a]={path:o.path,items:[]};for(const d of o.keys){const g=u.find(({name:s})=>s===d);if(g){const s=R(r,g.path);e.map[a].items.push({path:s.path,info:BLOG_META_SCOPE===""?s.meta:s.meta[BLOG_META_SCOPE]})}}c.path===o.path&&(e.currentItems=e.map[a].items)}return e})};__VUEPRESS_DEV__&&(import.meta.webpackHot||import.meta.hot)&&(__VUE_HMR_RUNTIME__.updateBlogCategory=t=>{_.value=t});const l=E(k),T=(t="")=>{const r=v(),c=h();return y(()=>{var i;const p=t||((i=f().value.blog)==null?void 0:i.key)||"";if(!l.value[p])throw new Error(`useBlogType: ${t?`key ${t} is invalid`:"can not bind to an existing key on non blog pages"}`);const m=r.getRoutes(),u=l.value[p][c.value],n={path:u.path,items:[]};for(const e of u.keys){const a=m.find(({name:o})=>o===e);if(a){const o=R(r,a.path);n.items.push({path:o.path,info:BLOG_META_SCOPE===""?o.meta:o.meta[BLOG_META_SCOPE]})}}return n})};__VUEPRESS_DEV__&&(import.meta.webpackHot||import.meta.hot)&&(__VUE_HMR_RUNTIME__.updateBlogType=t=>{l.value=t});export{_ as blogCategoryMap,l as blogTypeMap,B as useBlogCategory,T as useBlogType};
//# sourceMappingURL=index.js.map
