<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.53" />
    <meta name="theme" content="VuePress Theme Hope" />
    <title>SpringCloud | Java-Navigation</title><meta name="description" content="ä»è‡ªå­¦è§’åº¦å‡ºå‘ï¼Œè®°å½•è‡ªå­¦æ‰€å¾—ï¼Œå¹¶ä¸æ–­å®Œå–„ã€æ›´æ–°ã€‚åŒ…å«ï¼šJavaåŸºç¡€çŸ¥è¯†ä½“ç³»ã€webå¼€å‘ç”¨åˆ°çš„å‰ç«¯çŸ¥è¯†ä»¥åŠå¸¸ç”¨çš„å„ç§æ¡†æ¶å’Œä¸­é—´ä»¶ï¼Œæ¶µç›–è®¡ç®—æœºåŸºç¡€ã€æ•°æ®åº“ã€éƒ¨ç½²å·¥å…·ä»¥åŠä»£ç é£æ ¼å’Œè§„èŒƒçš„å…¨æ ˆçŸ¥è¯†ä½“ç³»ï¼ˆå«é¢è¯•å’Œå®æˆ˜é¡¹ç›®æ¨èï¼‰">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d2025;
      }

      html,
      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.querySelector("html").setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="preload" href="/assets/style.20c1a94f.css" as="style" /><link rel="stylesheet" href="/assets/style.20c1a94f.css" />
    <link rel="modulepreload" href="/assets/app.401b812b.js"><link rel="modulepreload" href="/assets/cloud.html.bdaa8ba9.js"><link rel="modulepreload" href="/assets/_plugin-vue_export-helper.cdc0426e.js"><link rel="modulepreload" href="/assets/cloud.html.cd45594b.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">è·³è‡³ä¸»è¦å…§å®¹</a><!--]--><div class="theme-container has-toc"><!--[--><!--[--><header class="navbar"><div class="navbar-left"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><a href="/" class="brand"><img class="logo" src="/logo.svg" alt="Java-Navigation"><!----><span class="site-name hide-in-pad">Java-Navigation</span></a><!--[--><!----><!--]--></div><div class="navbar-center"><!--[--><!----><!--]--><nav class="nav-links"><div class="nav-item hide-in-mobile"><a href="/md/quick_nav.html" class="nav-link" aria-label="å¯¼èˆª"><span class="icon iconfont icon-discover"></span>å¯¼èˆª<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Java"><span class="title"><span class="icon iconfont icon-java"></span>Java</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/md/java/basic.html" class="nav-link" aria-label="åŸºç¡€"><!---->åŸºç¡€<!----></a></li><li class="dropdown-item"><a href="/md/java/collection.html" class="nav-link" aria-label="å®¹å™¨"><!---->å®¹å™¨<!----></a></li><li class="dropdown-item"><a href="/md/java/concurrency.html" class="nav-link" aria-label="å¹¶å‘"><!---->å¹¶å‘<!----></a></li><li class="dropdown-item"><a href="/md/java/io.html" class="nav-link" aria-label="IO"><!---->IO<!----></a></li><li class="dropdown-item"><a href="/md/java/jvm.html" class="nav-link" aria-label="JVM"><!---->JVM<!----></a></li><li class="dropdown-item"><a href="/md/java/new.html" class="nav-link" aria-label="æ–°ç‰¹æ€§"><!---->æ–°ç‰¹æ€§<!----></a></li><li class="dropdown-item"><a href="/md/java/javaweb.html" class="nav-link" aria-label="JavaWEB"><!---->JavaWEB<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="è®¡ç®—æœºåŸºç¡€"><span class="title"><span class="icon iconfont icon-study"></span>è®¡ç®—æœºåŸºç¡€</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/md/common/network.html" class="nav-link" aria-label="è®¡ç®—æœºç½‘ç»œ"><!---->è®¡ç®—æœºç½‘ç»œ<!----></a></li><li class="dropdown-item"><a href="/md/common/composition.html" class="nav-link" aria-label="è®¡ç®—æœºç»„æˆåŸç†"><!---->è®¡ç®—æœºç»„æˆåŸç†<!----></a></li><li class="dropdown-item"><a href="/md/common/os.html" class="nav-link" aria-label="æ“ä½œç³»ç»Ÿ"><!---->æ“ä½œç³»ç»Ÿ<!----></a></li><li class="dropdown-item"><a href="/md/common/structure.html" class="nav-link" aria-label="æ•°æ®ç»“æ„"><!---->æ•°æ®ç»“æ„<!----></a></li><li class="dropdown-item"><a href="/md/common/algorithm.html" class="nav-link" aria-label="ç®—æ³•"><!---->ç®—æ³•<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Spring"><span class="title"><span class="icon iconfont icon-emmet"></span>Spring</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/md/spring/framework.html" class="nav-link" aria-label="Spring"><!---->Spring<!----></a></li><li class="dropdown-item"><a href="/md/spring/mvc.html" class="nav-link" aria-label="SpringMVC"><!---->SpringMVC<!----></a></li><li class="dropdown-item"><a href="/md/spring/boot.html" class="nav-link" aria-label="SpringBoot"><!---->SpringBoot<!----></a></li><li class="dropdown-item"><a aria-current="page" href="/md/spring/cloud.html" class="router-link-active router-link-exact-active nav-link active" aria-label="SpringCloud"><!---->SpringCloud<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="æ•°æ®åº“"><span class="title"><span class="icon iconfont icon-mysql"></span>æ•°æ®åº“</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>åŸºç¡€çŸ¥è¯†</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/md/database/base.html" class="nav-link" aria-label="æ•°æ®åº“åŸç†"><!---->æ•°æ®åº“åŸç†<!----></a></li><li class="dropdown-subitem"><a href="/md/database/sql.html" class="nav-link" aria-label="SQLè¯­æ³•"><!---->SQLè¯­æ³•<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>SQLæ•°æ®åº“</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/md/database/mysql.html" class="nav-link" aria-label="MySQL"><!---->MySQL<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>NoSQLæ•°æ®åº“</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/md/database/redis.html" class="nav-link" aria-label="Redis"><!---->Redis<!----></a></li><li class="dropdown-subitem"><a href="/md/database/mongodb.html" class="nav-link" aria-label="MongoDB"><!---->MongoDB<!----></a></li><li class="dropdown-subitem"><a href="/md/database/elasticsearch.html" class="nav-link" aria-label="ElasticSearch"><!---->ElasticSearch<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="æ¡†æ¶|ä¸­é—´ä»¶"><span class="title"><span class="icon iconfont icon-repair"></span>æ¡†æ¶|ä¸­é—´ä»¶</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>å¸¸ç”¨æ¡†æ¶</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/md/frame/mybatis.html" class="nav-link" aria-label="MyBatis"><!---->MyBatis<!----></a></li><li class="dropdown-subitem"><a href="/md/frame/mybatis_plus.html" class="nav-link" aria-label="MyBatis-Plus"><!---->MyBatis-Plus<!----></a></li><li class="dropdown-subitem"><a href="/md/frame/dubbo.html" class="nav-link" aria-label="Dubbo"><!---->Dubbo<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>ä¸­é—´ä»¶</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/md/frame/zookeeper.html" class="nav-link" aria-label="Zookeeper"><!---->Zookeeper<!----></a></li><li class="dropdown-subitem"><a href="/md/frame/rabbitmq.html" class="nav-link" aria-label="RabbitMQ"><!---->RabbitMQ<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="å·¥å…·|éƒ¨ç½²"><span class="title"><span class="icon iconfont icon-relation"></span>å·¥å…·|éƒ¨ç½²</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>éƒ¨ç½²</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/md/tool/linux.html" class="nav-link" aria-label="Linux"><!---->Linux<!----></a></li><li class="dropdown-subitem"><a href="/md/tool/docker.html" class="nav-link" aria-label="Docker"><!---->Docker<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>å·¥å…·</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/md/tool/maven.html" class="nav-link" aria-label="Maven"><!---->Maven<!----></a></li><li class="dropdown-subitem"><a href="/md/tool/git.html" class="nav-link" aria-label="Git"><!---->Git<!----></a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>Web å®¹å™¨</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/md/tool/tomcat.html" class="nav-link" aria-label="Tomcat"><!---->Tomcat<!----></a></li><li class="dropdown-subitem"><a href="/md/tool/nginx.html" class="nav-link" aria-label="Nginx"><!---->Nginx<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="å‰ç«¯"><span class="title"><span class="icon iconfont icon-leaf"></span>å‰ç«¯</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/md/front/html.html" class="nav-link" aria-label="HTML/CSS"><!---->HTML/CSS<!----></a></li><li class="dropdown-item"><a href="/md/front/mobile.html" class="nav-link" aria-label="ç§»åŠ¨ç«¯å¼€å‘"><!---->ç§»åŠ¨ç«¯å¼€å‘<!----></a></li><li class="dropdown-item"><a href="/md/front/js.html" class="nav-link" aria-label="JavaScript"><!---->JavaScript<!----></a></li><li class="dropdown-item"><a href="/md/front/jq.html" class="nav-link" aria-label="jQuery"><!---->jQuery<!----></a></li><li class="dropdown-item"><a href="/md/front/ajax.html" class="nav-link" aria-label="Ajax"><!---->Ajax<!----></a></li><li class="dropdown-item"><a href="/md/front/es6.html" class="nav-link" aria-label="ES6"><!---->ES6<!----></a></li><li class="dropdown-item"><a href="/md/front/node.html" class="nav-link" aria-label="Node.js"><!---->Node.js<!----></a></li><li class="dropdown-item"><a href="/md/front/vue.html" class="nav-link" aria-label="Vue"><!---->Vue<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="æ¶æ„"><span class="title"><span class="icon iconfont icon-material"></span>æ¶æ„</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/zh/guide//" class="nav-link" aria-label="..."><!---->...<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="é£æ ¼|è§„èŒƒ"><span class="title"><span class="icon iconfont icon-note"></span>é£æ ¼|è§„èŒƒ</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/zh/guide//" class="nav-link" aria-label="..."><!---->...<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><a href="/zh/guide/README.md" class="nav-link" aria-label="é¢è¯•"><span class="icon iconfont icon-editor"></span>é¢è¯•<!----></a></div><div class="nav-item hide-in-mobile"><a href="/zh/guide/README.md" class="nav-link" aria-label="é¡¹ç›®"><span class="icon iconfont icon-creative"></span>é¡¹ç›®<!----></a></div></nav><!--[--><!----><!--]--></div><div class="navbar-right"><!--[--><!----><!--]--><!----><div class="nav-item"><a class="repo-link" href="https://github.com/HelloCode66/Java-Navigation" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button class="outlook-button" tabindex="-1" ariahidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="outlook icon"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg><div class="outlook-dropdown"><!----></div></button></div><!--[--><div class="search-pro-button" role="search" aria-label="æœç´¢"><svg xmlns="http://www.w3.org/2000/svg" class="icon search-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="search icon"><path d="M192 480a256 256 0 1 1 512 0 256 256 0 0 1-512 0m631.776 362.496-143.2-143.168A318.464 318.464 0 0 0 768 480c0-176.736-143.264-320-320-320S128 303.264 128 480s143.264 320 320 320a318.016 318.016 0 0 0 184.16-58.592l146.336 146.368c12.512 12.48 32.768 12.48 45.28 0 12.48-12.512 12.48-32.768 0-45.28"></path></svg></div><!--]--><!--[--><!----><!--]--><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow left"></span></div><aside class="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><section class="sidebar-group"><button class="sidebar-heading clickable active"><span class="icon iconfont icon-guide"></span><span class="title">Spring</span><span class="arrow down"></span></button><ul class="sidebar-links"><li><!--[--><a href="/md/spring/outline.html" class="nav-link sidebar-link sidebar-page" aria-label="å¤§çº²"><!---->å¤§çº²<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/md/spring/framework.html" class="nav-link sidebar-link sidebar-page" aria-label="SpringFramework"><!---->SpringFramework<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/md/spring/mvc.html" class="nav-link sidebar-link sidebar-page" aria-label="SpringMVC"><!---->SpringMVC<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/md/spring/boot.html" class="nav-link sidebar-link sidebar-page" aria-label="SpringBoot"><!---->SpringBoot<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-current="page" href="/md/spring/cloud.html" class="router-link-active router-link-exact-active nav-link active sidebar-link sidebar-page active" aria-label="SpringCloud"><!---->SpringCloud<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/md/spring/cloud.html#ä¸€ã€åŸºæœ¬æ¦‚å¿µ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ä¸€ã€åŸºæœ¬æ¦‚å¿µ"><!---->ä¸€ã€åŸºæœ¬æ¦‚å¿µ<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/md/spring/cloud.html#_1ã€å¾®æœåŠ¡æ¶æ„" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1ã€å¾®æœåŠ¡æ¶æ„"><!---->1ã€å¾®æœåŠ¡æ¶æ„<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/md/spring/cloud.html#_2ã€spring-cloud" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2ã€Spring Cloud"><!---->2ã€Spring Cloud<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/md/spring/cloud.html#_3ã€spring-cloud-ä¸-dubbo-å¯¹æ¯”" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3ã€Spring Cloud ä¸ Dubbo å¯¹æ¯”"><!---->3ã€Spring Cloud ä¸ Dubbo å¯¹æ¯”<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/md/spring/cloud.html#äºŒã€æœåŠ¡æ²»ç†" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="äºŒã€æœåŠ¡æ²»ç†"><!---->äºŒã€æœåŠ¡æ²»ç†<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/md/spring/cloud.html#_1ã€eureka" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1ã€Eureka"><!---->1ã€Eureka<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/md/spring/cloud.html#_2ã€consul" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2ã€Consul"><!---->2ã€Consul<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/md/spring/cloud.html#_3ã€nacos" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3ã€Nacos"><!---->3ã€Nacos<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/md/spring/cloud.html#ä¸‰ã€ribbon-è´Ÿè½½å‡è¡¡" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ä¸‰ã€Ribbon è´Ÿè½½å‡è¡¡"><!---->ä¸‰ã€Ribbon è´Ÿè½½å‡è¡¡<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/md/spring/cloud.html#_1ã€ç®€åŒ–è¿œç¨‹è°ƒç”¨" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1ã€ç®€åŒ–è¿œç¨‹è°ƒç”¨"><!---->1ã€ç®€åŒ–è¿œç¨‹è°ƒç”¨<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/md/spring/cloud.html#_2ã€è´Ÿè½½å‡è¡¡" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2ã€è´Ÿè½½å‡è¡¡"><!---->2ã€è´Ÿè½½å‡è¡¡<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/md/spring/cloud.html#å››ã€feign-å£°æ˜å¼æœåŠ¡è°ƒç”¨" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å››ã€Feign å£°æ˜å¼æœåŠ¡è°ƒç”¨"><!---->å››ã€Feign å£°æ˜å¼æœåŠ¡è°ƒç”¨<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/md/spring/cloud.html#_1ã€å¿«é€Ÿå…¥é—¨" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1ã€å¿«é€Ÿå…¥é—¨"><!---->1ã€å¿«é€Ÿå…¥é—¨<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/md/spring/cloud.html#_2ã€è¶…æ—¶è®¾ç½®" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2ã€è¶…æ—¶è®¾ç½®"><!---->2ã€è¶…æ—¶è®¾ç½®<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/md/spring/cloud.html#_3ã€æ—¥å¿—è®°å½•" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3ã€æ—¥å¿—è®°å½•"><!---->3ã€æ—¥å¿—è®°å½•<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/md/spring/cloud.html#äº”ã€hystrix-ç†”æ–­å™¨" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="äº”ã€Hystrix ç†”æ–­å™¨"><!---->äº”ã€Hystrix ç†”æ–­å™¨<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/md/spring/cloud.html#_1ã€é™çº§" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1ã€é™çº§"><!---->1ã€é™çº§<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/md/spring/cloud.html#_2ã€ç†”æ–­" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2ã€ç†”æ–­"><!---->2ã€ç†”æ–­<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/md/spring/cloud.html#_3ã€ç†”æ–­ç›‘æ§" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3ã€ç†”æ–­ç›‘æ§"><!---->3ã€ç†”æ–­ç›‘æ§<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/md/spring/cloud.html#å…­ã€gateway-ç½‘å…³" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å…­ã€Gateway ç½‘å…³"><!---->å…­ã€Gateway ç½‘å…³<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/md/spring/cloud.html#_1ã€æ¦‚è¿°" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1ã€æ¦‚è¿°"><!---->1ã€æ¦‚è¿°<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/md/spring/cloud.html#_2ã€å¿«é€Ÿå…¥é—¨" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2ã€å¿«é€Ÿå…¥é—¨"><!---->2ã€å¿«é€Ÿå…¥é—¨<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/md/spring/cloud.html#_3ã€è·¯ç”±é…ç½®" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3ã€è·¯ç”±é…ç½®"><!---->3ã€è·¯ç”±é…ç½®<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/md/spring/cloud.html#_4ã€è¿‡æ»¤å™¨" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="4ã€è¿‡æ»¤å™¨"><!---->4ã€è¿‡æ»¤å™¨<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/md/spring/cloud.html#ä¸ƒã€config-åˆ†å¸ƒå¼é…ç½®ä¸­å¿ƒ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ä¸ƒã€config åˆ†å¸ƒå¼é…ç½®ä¸­å¿ƒ"><!---->ä¸ƒã€config åˆ†å¸ƒå¼é…ç½®ä¸­å¿ƒ<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/md/spring/cloud.html#_1ã€æ¦‚è¿°-1" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1ã€æ¦‚è¿°"><!---->1ã€æ¦‚è¿°<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/md/spring/cloud.html#_2ã€å¿«é€Ÿå…¥é—¨-1" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2ã€å¿«é€Ÿå…¥é—¨"><!---->2ã€å¿«é€Ÿå…¥é—¨<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/md/spring/cloud.html#_3ã€é›†æˆeureka" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3ã€é›†æˆEureka"><!---->3ã€é›†æˆEureka<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/md/spring/cloud.html#å…«ã€bus-æ¶ˆæ¯æ€»çº¿" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="å…«ã€bus æ¶ˆæ¯æ€»çº¿"><!---->å…«ã€bus æ¶ˆæ¯æ€»çº¿<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/md/spring/cloud.html#ä¹ã€stream-æ¶ˆæ¯é©±åŠ¨" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="ä¹ã€stream æ¶ˆæ¯é©±åŠ¨"><!---->ä¹ã€stream æ¶ˆæ¯é©±åŠ¨<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/md/spring/cloud.html#_1ã€æ¦‚è¿°-2" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="1ã€æ¦‚è¿°"><!---->1ã€æ¦‚è¿°<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/md/spring/cloud.html#_2ã€æ¶ˆæ¯ç”Ÿäº§è€…" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="2ã€æ¶ˆæ¯ç”Ÿäº§è€…"><!---->2ã€æ¶ˆæ¯ç”Ÿäº§è€…<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/md/spring/cloud.html#_3ã€æ¶ˆæ¯æ¶ˆè´¹è€…" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="3ã€æ¶ˆæ¯æ¶ˆè´¹è€…"><!---->3ã€æ¶ˆæ¯æ¶ˆè´¹è€…<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/md/spring/cloud.html#åã€sleuth-zipkin-é“¾è·¯è¿½è¸ª" class="router-link-active router-link-exact-active nav-link sidebar-link heading" aria-label="åã€Sleuth+Zipkin é“¾è·¯è¿½è¸ª"><!---->åã€Sleuth+Zipkin é“¾è·¯è¿½è¸ª<!----></a><ul class="sidebar-sub-headers"></ul></li></ul><!--]--></li><li><!--[--><a href="/md/spring/interview.html" class="nav-link sidebar-link sidebar-page" aria-label="é¢è¯•å®å…¸"><!---->é¢è¯•å®å…¸<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a href="/md/spring/resource.html" class="nav-link sidebar-link sidebar-page" aria-label="å­¦ä¹ èµ„æ–™"><!---->å­¦ä¹ èµ„æ–™<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul></section></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><!---->SpringCloud</h1><div class="page-info"><span class="author-info" aria-label="ä½œè€…ğŸ–Š" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="author-item" href="https://java-navigation.gitee.io/" target="_blank" rel="noopener noreferrer">HelloCode.</a></span><span property="author" content="HelloCode."></span></span><!----><span class="date-info" aria-label="å†™ä½œæ—¥æœŸğŸ“…" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2022-12-30T13:26:27.000Z"></span><span class="category-info" aria-label="åˆ†ç±»ğŸŒˆ" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><ul class="categories-wrapper"><li><span class="category category1" role>Spring</span></li></ul><meta property="articleSection" content="Spring"></span><!----><span class="reading-time-info" aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>å¤§çº¦ 27 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT27M"></span></div><hr></div><div class="toc-place-holder"><aside id="toc"><div class="toc-header">æ­¤é¡µå†…å®¹</div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/md/spring/cloud.html#ä¸€ã€åŸºæœ¬æ¦‚å¿µ" class="router-link-active router-link-exact-active toc-link level2">ä¸€ã€åŸºæœ¬æ¦‚å¿µ</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/md/spring/cloud.html#_1ã€å¾®æœåŠ¡æ¶æ„" class="router-link-active router-link-exact-active toc-link level3">1ã€å¾®æœåŠ¡æ¶æ„</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/md/spring/cloud.html#_2ã€spring-cloud" class="router-link-active router-link-exact-active toc-link level3">2ã€Spring Cloud</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/md/spring/cloud.html#_3ã€spring-cloud-ä¸-dubbo-å¯¹æ¯”" class="router-link-active router-link-exact-active toc-link level3">3ã€Spring Cloud ä¸ Dubbo å¯¹æ¯”</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/md/spring/cloud.html#äºŒã€æœåŠ¡æ²»ç†" class="router-link-active router-link-exact-active toc-link level2">äºŒã€æœåŠ¡æ²»ç†</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/md/spring/cloud.html#_1ã€eureka" class="router-link-active router-link-exact-active toc-link level3">1ã€Eureka</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/md/spring/cloud.html#_2ã€consul" class="router-link-active router-link-exact-active toc-link level3">2ã€Consul</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/md/spring/cloud.html#_3ã€nacos" class="router-link-active router-link-exact-active toc-link level3">3ã€Nacos</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/md/spring/cloud.html#ä¸‰ã€ribbon-è´Ÿè½½å‡è¡¡" class="router-link-active router-link-exact-active toc-link level2">ä¸‰ã€Ribbon è´Ÿè½½å‡è¡¡</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/md/spring/cloud.html#_1ã€ç®€åŒ–è¿œç¨‹è°ƒç”¨" class="router-link-active router-link-exact-active toc-link level3">1ã€ç®€åŒ–è¿œç¨‹è°ƒç”¨</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/md/spring/cloud.html#_2ã€è´Ÿè½½å‡è¡¡" class="router-link-active router-link-exact-active toc-link level3">2ã€è´Ÿè½½å‡è¡¡</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/md/spring/cloud.html#å››ã€feign-å£°æ˜å¼æœåŠ¡è°ƒç”¨" class="router-link-active router-link-exact-active toc-link level2">å››ã€Feign å£°æ˜å¼æœåŠ¡è°ƒç”¨</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/md/spring/cloud.html#_1ã€å¿«é€Ÿå…¥é—¨" class="router-link-active router-link-exact-active toc-link level3">1ã€å¿«é€Ÿå…¥é—¨</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/md/spring/cloud.html#_2ã€è¶…æ—¶è®¾ç½®" class="router-link-active router-link-exact-active toc-link level3">2ã€è¶…æ—¶è®¾ç½®</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/md/spring/cloud.html#_3ã€æ—¥å¿—è®°å½•" class="router-link-active router-link-exact-active toc-link level3">3ã€æ—¥å¿—è®°å½•</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/md/spring/cloud.html#äº”ã€hystrix-ç†”æ–­å™¨" class="router-link-active router-link-exact-active toc-link level2">äº”ã€Hystrix ç†”æ–­å™¨</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/md/spring/cloud.html#_1ã€é™çº§" class="router-link-active router-link-exact-active toc-link level3">1ã€é™çº§</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/md/spring/cloud.html#_2ã€ç†”æ–­" class="router-link-active router-link-exact-active toc-link level3">2ã€ç†”æ–­</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/md/spring/cloud.html#_3ã€ç†”æ–­ç›‘æ§" class="router-link-active router-link-exact-active toc-link level3">3ã€ç†”æ–­ç›‘æ§</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/md/spring/cloud.html#å…­ã€gateway-ç½‘å…³" class="router-link-active router-link-exact-active toc-link level2">å…­ã€Gateway ç½‘å…³</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/md/spring/cloud.html#_1ã€æ¦‚è¿°" class="router-link-active router-link-exact-active toc-link level3">1ã€æ¦‚è¿°</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/md/spring/cloud.html#_2ã€å¿«é€Ÿå…¥é—¨" class="router-link-active router-link-exact-active toc-link level3">2ã€å¿«é€Ÿå…¥é—¨</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/md/spring/cloud.html#_3ã€è·¯ç”±é…ç½®" class="router-link-active router-link-exact-active toc-link level3">3ã€è·¯ç”±é…ç½®</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/md/spring/cloud.html#_4ã€è¿‡æ»¤å™¨" class="router-link-active router-link-exact-active toc-link level3">4ã€è¿‡æ»¤å™¨</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/md/spring/cloud.html#ä¸ƒã€config-åˆ†å¸ƒå¼é…ç½®ä¸­å¿ƒ" class="router-link-active router-link-exact-active toc-link level2">ä¸ƒã€config åˆ†å¸ƒå¼é…ç½®ä¸­å¿ƒ</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/md/spring/cloud.html#_1ã€æ¦‚è¿°-1" class="router-link-active router-link-exact-active toc-link level3">1ã€æ¦‚è¿°</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/md/spring/cloud.html#_2ã€å¿«é€Ÿå…¥é—¨-1" class="router-link-active router-link-exact-active toc-link level3">2ã€å¿«é€Ÿå…¥é—¨</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/md/spring/cloud.html#_3ã€é›†æˆeureka" class="router-link-active router-link-exact-active toc-link level3">3ã€é›†æˆEureka</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/md/spring/cloud.html#å…«ã€bus-æ¶ˆæ¯æ€»çº¿" class="router-link-active router-link-exact-active toc-link level2">å…«ã€bus æ¶ˆæ¯æ€»çº¿</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/md/spring/cloud.html#ä¹ã€stream-æ¶ˆæ¯é©±åŠ¨" class="router-link-active router-link-exact-active toc-link level2">ä¹ã€stream æ¶ˆæ¯é©±åŠ¨</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/md/spring/cloud.html#_1ã€æ¦‚è¿°-2" class="router-link-active router-link-exact-active toc-link level3">1ã€æ¦‚è¿°</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/md/spring/cloud.html#_2ã€æ¶ˆæ¯ç”Ÿäº§è€…" class="router-link-active router-link-exact-active toc-link level3">2ã€æ¶ˆæ¯ç”Ÿäº§è€…</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/md/spring/cloud.html#_3ã€æ¶ˆæ¯æ¶ˆè´¹è€…" class="router-link-active router-link-exact-active toc-link level3">3ã€æ¶ˆæ¯æ¶ˆè´¹è€…</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/md/spring/cloud.html#åã€sleuth-zipkin-é“¾è·¯è¿½è¸ª" class="router-link-active router-link-exact-active toc-link level2">åã€Sleuth+Zipkin é“¾è·¯è¿½è¸ª</a></li><!----><!--]--></ul></div></aside></div><!----><div class="theme-hope-content"><h1 id="springcloud" tabindex="-1"><a class="header-anchor" href="#springcloud" aria-hidden="true">#</a> SpringCloud</h1><h2 id="ä¸€ã€åŸºæœ¬æ¦‚å¿µ" tabindex="-1"><a class="header-anchor" href="#ä¸€ã€åŸºæœ¬æ¦‚å¿µ" aria-hidden="true">#</a> ä¸€ã€åŸºæœ¬æ¦‚å¿µ</h2><h3 id="_1ã€å¾®æœåŠ¡æ¶æ„" tabindex="-1"><a class="header-anchor" href="#_1ã€å¾®æœåŠ¡æ¶æ„" aria-hidden="true">#</a> 1ã€å¾®æœåŠ¡æ¶æ„</h3><ul><li>&quot;å¾®æœåŠ¡â€ä¸€è¯æºäº Martin Fowlerçš„åä¸º Microservicesçš„åšæ–‡,å¯ä»¥åœ¨ä»–çš„å®˜æ–¹åšå®¢ä¸Šæ‰¾åˆ°<a href="http://martinfowler.com/articles/microservices.html" target="_blank" rel="noopener noreferrer">http://martinfowler.com/articles/microservices.html<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li>ç®€å•åœ°è¯´,å¾®æœåŠ¡æ˜¯ç³»ç»Ÿæ¶æ„ä¸Šçš„ä¸€ç§è®¾è®¡é£æ ¼,å®ƒçš„ä¸»æ—¨æ˜¯å°†ä¸€ä¸ªåŸæœ¬ç‹¬ç«‹çš„ç³»ç»Ÿæ‹†åˆ†æˆå¤šä¸ªå°å‹æœåŠ¡,è¿™äº›å°å‹æœåŠ¡éƒ½åœ¨å„è‡ªç‹¬ç«‹çš„è¿›ç¨‹ä¸­è¿è¡Œ,æœåŠ¡ä¹‹é—´é€šè¿‡åŸºäºHTTPçš„ RESTfuL APè¿›è¡Œé€šä¿¡åä½œ</li><li>è¢«æ‹†åˆ†çš„æ¯ä¸€ä¸ªå°å‹æœåŠ¡éƒ½å›´ç»•ç€ç³»ç»Ÿä¸­çš„æŸä¸€é¡¹æˆ–ä¸€äº›è€¦åˆåº¦è¾ƒé«˜çš„ä¸šåŠ¡åŠŸèƒ½è¿›è¡Œæ„å»ºï¼Œå¹¶ä¸”æ¯ä¸ªæœåŠ¡éƒ½ç»´æŠ¤ç€è‡ªèº«çš„æ•°æ®å­˜å‚¨ã€ä¸šåŠ¡å¼€å‘è‡ªåŠ¨åŒ–æµ‹è¯•æ¡ˆä¾‹ä»¥åŠç‹¬ç«‹éƒ¨ç½²æœºåˆ¶</li><li>ç”±äºæœ‰äº†è½»é‡çº§çš„é€šä¿¡åè®®åšåŸºç¡€ï¼Œæ‰€ä»¥è¿™äº›å¾®æœåŠ¡å¯ä»¥ä½¿ç”¨ä¸åŒçš„è¯­è¨€æ¥ç¼–å†™</li></ul><h3 id="_2ã€spring-cloud" tabindex="-1"><a class="header-anchor" href="#_2ã€spring-cloud" aria-hidden="true">#</a> 2ã€Spring Cloud</h3><ul><li>Spring Cloudæ˜¯ä¸€ç³»åˆ—æ¡†æ¶çš„æœ‰åºé›†åˆ</li><li>Spring Cloudå¹¶æ²¡æœ‰é‡å¤åˆ¶é€ è½®å­ï¼Œå®ƒåªæ˜¯å°†ç›®å‰å„å®¶å…¬å¸å¼€å‘çš„æ¯”è¾ƒæˆç†Ÿã€ç»å¾—èµ·å®é™…è€ƒéªŒçš„æœåŠ¡æ¡†æ¶ç»„åˆèµ·æ¥</li><li>é€šè¿‡ SpringBoot é£æ ¼è¿›è¡Œå†å°è£…å±è”½æ‰äº†å¤æ‚çš„é…ç½®å’Œå®ç°åŸç†ï¼Œæœ€ç»ˆç»™å¼€å‘è€…ç•™å‡ºäº†ä¸€å¥—ç®€å•æ˜“æ‡‚ã€æ˜“éƒ¨ç½²å’Œæ˜“ç»´æŠ¤çš„åˆ†å¸ƒå¼ç³»ç»Ÿå¼€å‘å·¥å…·åŒ…</li><li>åˆ©ç”¨SpringBootçš„å¼€å‘ä¾¿åˆ©æ€§å·§å¦™åœ°ç®€åŒ–äº†åˆ†å¸ƒå¼ç³»ç»ŸåŸºç¡€è®¾æ–½çš„å¼€å‘ï¼Œå¦‚æœåŠ¡å‘ç°æ³¨å†Œã€é…ç½®ä¸­å¿ƒã€æ¶ˆæ¯æ€»çº¿ã€è´Ÿè½½å‡è¡¡ã€æ–­è·¯å™¨ã€æ•°æ®ç›‘æ§ç­‰ï¼Œéƒ½å¯ä»¥ç”¨SpringBootçš„å¼€å‘é£æ ¼åšåˆ°ä¸€é”®å¯åŠ¨å’Œéƒ¨ç½²</li><li>Spring Cloudé¡¹ç›®å®˜æ–¹åœ°å€ï¼š<a href="https://spring.io/projects/spring-cloud" target="_blank" rel="noopener noreferrer">https://spring.io/projects/spring-cloud<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li>Spring Cloudç‰ˆæœ¬å‘½åæ–¹å¼é‡‡ç”¨äº†ä¼¦æ•¦åœ°é“ç«™çš„åç§°ï¼ŒåŒæ—¶æ ¹æ®å­—æ¯è¡¨çš„é¡ºåºæ¥å¯¹åº”ç‰ˆæœ¬æ—¶é—´é¡ºåºï¼Œæ¯”å¦‚ï¼šæœ€æ—©çš„Releaseç‰ˆæœ¬ï¼š<em>A</em>ngelï¼Œç¬¬äºŒä¸ªReleaseç‰ˆæœ¬ï¼š<em>B</em>rixton............<em>H</em>oxton..........2022.0.0</li></ul><h3 id="_3ã€spring-cloud-ä¸-dubbo-å¯¹æ¯”" tabindex="-1"><a class="header-anchor" href="#_3ã€spring-cloud-ä¸-dubbo-å¯¹æ¯”" aria-hidden="true">#</a> 3ã€Spring Cloud ä¸ Dubbo å¯¹æ¯”</h3><table><thead><tr><th></th><th>Dubbo</th><th>Spring Cloud</th></tr></thead><tbody><tr><td>æœåŠ¡æ³¨å†Œä¸­å¿ƒ</td><td>Zookeeper</td><td>Spring Cloud Netflix Eureka</td></tr><tr><td>æœåŠ¡è°ƒç”¨æ–¹å¼</td><td>RPC</td><td>Rest API</td></tr><tr><td>æœåŠ¡ç›‘æ§</td><td>Dubbo-monitor</td><td>Spring Boot Admin</td></tr><tr><td>æ–­è·¯å™¨</td><td>ä¸å®Œå–„</td><td>Spring Cloud Netflix Hystrix</td></tr><tr><td>æœåŠ¡ç½‘å…³</td><td>æ— </td><td>Spring Cloud Gateway</td></tr><tr><td>åˆ†å¸ƒå¼é…ç½®</td><td>æ— </td><td>Spring Cloud Config</td></tr><tr><td>æœåŠ¡è·Ÿè¸ª</td><td>æ— </td><td>Spring Cloud Sleuth</td></tr><tr><td>æ¶ˆæ¯æ€»çº¿</td><td>æ— </td><td>Spring Cloud Bus</td></tr><tr><td>æ•°æ®æµ</td><td>æ— </td><td>Spring Cloud Stream</td></tr><tr><td>æ‰¹é‡ä»»åŠ¡</td><td>æ— </td><td>Spring Cloud Task</td></tr></tbody></table><ul><li>Spring Cloud ä¸ Dubbo éƒ½æ˜¯å®ç°å¾®æœåŠ¡çš„æœ‰æ•ˆå·¥å…·</li><li>Dubbo åªæ˜¯å®ç°äº†æœåŠ¡æ²»ç†ï¼Œè€ŒSpring Cloudå­é¡¹ç›®åˆ†åˆ«è¦†ç›–äº†å¾®æœåŠ¡æ¶æ„ä¸‹çš„ä¼—å¤šéƒ¨ä»¶</li><li>Dubbo ä½¿ç”¨RPC é€šè®¯åè®®ï¼ŒSpring Cloudä½¿ç”¨RESTful å®Œæˆé€šä¿¡ï¼ŒDubboæ•ˆç‡ç•¥é«˜äº Spring Cloud</li></ul><h2 id="äºŒã€æœåŠ¡æ²»ç†" tabindex="-1"><a class="header-anchor" href="#äºŒã€æœåŠ¡æ²»ç†" aria-hidden="true">#</a> äºŒã€æœåŠ¡æ²»ç†</h2><h3 id="_1ã€eureka" tabindex="-1"><a class="header-anchor" href="#_1ã€eureka" aria-hidden="true">#</a> 1ã€Eureka</h3><p><img src="http://images.hellocode.top/e55064e61f6b44ec93c42590f9082fef.png" alt="img" loading="lazy"></p><ul><li>Eurekaæ˜¯Netflixå…¬å¸å¼€æºçš„ä¸€ä¸ªæœåŠ¡æ³¨å†Œä¸å‘ç°çš„ç»„ä»¶</li><li>Eurekaå’Œå…¶ä»–Netflix å…¬å¸çš„æœåŠ¡ç»„ä»¶ï¼ˆä¾‹å¦‚è´Ÿè½½å‡è¡¡ã€ç†”æ–­å™¨ã€ç½‘å…³ç­‰ï¼‰ä¸€èµ·ï¼Œè¢«Spring Cloudç¤¾åŒºæ•´åˆä¸ºSpring-Cloud-Netflixæ¨¡å—</li><li>Eureka åŒ…å«ä¸¤ä¸ªç»„ä»¶ï¼šEureka Serverï¼ˆæ³¨å†Œä¸­å¿ƒï¼‰å’ŒEureka Clientï¼ˆæœåŠ¡æä¾›è€…ã€æœåŠ¡æ¶ˆè´¹è€…ï¼‰</li></ul><h4 id="_1-1-ä½¿ç”¨æ­¥éª¤" tabindex="-1"><a class="header-anchor" href="#_1-1-ä½¿ç”¨æ­¥éª¤" aria-hidden="true">#</a> 1.1. ä½¿ç”¨æ­¥éª¤</h4><p><img src="http://images.hellocode.top/20210323141105314.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"></p><ol><li>æ­å»ºProvider å’Œ ConsumeræœåŠ¡</li><li>ä½¿ç”¨RestTemplate å®Œæˆè¿œç¨‹è°ƒç”¨ï¼ˆprovideræœåŠ¡åœ°å€å‘ç”Ÿå˜åŒ–ï¼Œconsumerä¹Ÿè¦æ”¹ï¼Œé«˜è€¦åˆï¼‰ <ol><li>å®šä¹‰restTemplate Bean</li><li>æ³¨å…¥Bean</li><li>è°ƒç”¨æ–¹æ³•</li></ol></li><li>æ­å»ºEureka ServeræœåŠ¡ <ol><li>åˆ›å»ºeureka-serveræ¨¡å—</li><li>å¼•å…¥SpringCloudå’Œeureka-serverç›¸å…³ä¾èµ–</li><li>å®ŒæˆEureka Serverç›¸å…³é…ç½®</li><li>å¯åŠ¨è¯¥æ¨¡å—</li></ol></li><li>æ”¹é€ Provider å’Œ Consumer æˆä¸ºEureka Client <ol><li>å¼•å…¥eureka-clientç›¸å…³ä¾èµ–</li><li>å®Œæˆeureka clientç›¸å…³é…ç½®</li><li>å¯åŠ¨ æµ‹è¯•</li></ol></li><li>Consumer æœåŠ¡é€šè¿‡ä» Eureka Serverä¸­æŠ“å–Provideråœ°å€å®Œæˆè¿œç¨‹è°ƒç”¨ <ol><li>æ³¨å…¥DiscoveryClientå¯¹è±¡</li><li>æ¿€æ´»ï¼ˆå¯åŠ¨ç±»æ·»åŠ æ³¨è§£ï¼š<code>@EnableDiscoveryClient</code>ï¼Œå¯ä»¥çœç•¥ï¼‰</li><li>è°ƒç”¨æ–¹æ³•</li></ol></li></ol><p><em>RestTemplta</em></p><ul><li>Springæä¾›çš„ä¸€ç§ç®€å•ä¾¿æ·çš„æ¨¡æ¿ç±»ï¼Œç”¨äºåœ¨Javaä»£ç é‡Œè®¿é—®restfulæœåŠ¡</li><li>å…¶åŠŸèƒ½ä¸HttpClientç±»ä¼¼ï¼Œä½†æ˜¯RestTemplateå®ç°æ›´ä¼˜é›…ï¼Œä½¿ç”¨æ›´æ–¹ä¾¿</li></ul><p><em>Eureka Server</em></p><ul><li>éœ€è¦åœ¨å¯åŠ¨ç±»æ·»åŠ æ³¨è§£ï¼š<code>@EnableEurekaServer</code></li><li>é»˜è®¤ç«¯å£ï¼š8761</li><li>é…ç½®ï¼šä¸€å…±å››éƒ¨åˆ† <ul><li>dashboardï¼šeurekaçš„webæ§åˆ¶å°é…ç½®</li><li>instanceï¼šeurekaçš„å®ä¾‹é…ç½®</li><li>clientï¼šeurekaçš„å®¢æˆ·ç«¯é…ç½®</li><li>serverï¼šeurekaçš„æœåŠ¡ç«¯é…ç½®</li></ul></li></ul><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8761</span>

<span class="token comment"># eurekaé…ç½®(ä¸€å…±å››éƒ¨åˆ†)</span>
<span class="token key atrule">eureka</span><span class="token punctuation">:</span>
  <span class="token key atrule">instance</span><span class="token punctuation">:</span>
    <span class="token key atrule">hostname</span><span class="token punctuation">:</span> localhost
  <span class="token key atrule">client</span><span class="token punctuation">:</span>
    <span class="token key atrule">service-url</span><span class="token punctuation">:</span>
      <span class="token comment"># defaultZone: http://localhost:8761/eureka (é»˜è®¤)</span>
      <span class="token comment"># eurekaæœåŠ¡ç«¯åœ°å€ï¼Œå°†æ¥å®¢æˆ·ç«¯ä½¿ç”¨è¯¥åœ°å€å’Œeurekaè¿›è¡Œé€šä¿¡</span>
      <span class="token key atrule">defaultZone</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//$<span class="token punctuation">{</span>eureka.instance.hostname<span class="token punctuation">}</span><span class="token punctuation">:</span>$<span class="token punctuation">{</span>server.port<span class="token punctuation">}</span>/eureka
    <span class="token comment"># æ˜¯å¦å°†è‡ªå·±çš„è·¯å¾„æ³¨å†Œåˆ°eurekaä¸Šï¼Œä¸€èˆ¬serverä¸éœ€è¦ï¼Œproviderï¼ˆclientï¼‰éœ€è¦</span>
    <span class="token key atrule">register-with-eureka</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
    <span class="token comment"># æ˜¯å¦éœ€è¦ä»eurekaä¸ŠæŠ“å–è·¯å¾„ï¼Œserverä¸éœ€è¦ï¼Œconsumerï¼ˆclientï¼‰éœ€è¦</span>
    <span class="token key atrule">fetch-registry</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p><a href="http://localhost:8761/eureka%E6%98%AF%E5%AE%A2%E6%88%B7%E7%AB%AF%E8%BF%9B%E8%A1%8C%E9%80%9A%E4%BF%A1%E4%BD%BF%E7%94%A8%E7%9A%84%EF%BC%8Ceureka%E5%90%8E%E5%8F%B0%E5%9C%B0%E5%9D%80%E6%98%AFhttp://localhost:8761" target="_blank" rel="noopener noreferrer">http://localhost:8761/eurekaæ˜¯å®¢æˆ·ç«¯è¿›è¡Œé€šä¿¡ä½¿ç”¨çš„ï¼Œeurekaåå°åœ°å€æ˜¯http://localhost:8761<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></blockquote><p><img src="http://images.hellocode.top/image-20221220112051622.png" alt="image-20221220112051622" loading="lazy"></p><p><em>Eureka Client</em></p><ul><li>éœ€è¦åœ¨å¯åŠ¨ç±»æ·»åŠ æ³¨è§£ï¼š<code>@EnableEurekaClient</code></li><li>ä¸ºäº†åœ¨eurekaåå°æ˜¾ç¤ºæœåŠ¡åç§°ï¼Œéœ€è¦é…ç½®<code>spring.application.name</code></li><li>éœ€è¦é…ç½®service-urlï¼ˆæ˜¯ä¸€ä¸ªmapï¼Œè¦é…ç½®è¯¥åˆ†ç±»ä¸‹çš„<code>defaultZone</code>ï¼‰</li></ul><p><strong>ä»£ç </strong></p><p><em>ä¾èµ–</em></p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>maven.compiler.source</span><span class="token punctuation">&gt;</span></span>8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>maven.compiler.source</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>maven.compiler.target</span><span class="token punctuation">&gt;</span></span>8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>maven.compiler.target</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>spring-cloud.version</span><span class="token punctuation">&gt;</span></span>Greenwich.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>spring-cloud.version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>properties</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>parent</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.1.6.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-parent<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>parent</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencyManagement</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.projectlombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>lombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.18.20<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- https://mvnrepository.com/artifact/org.springframework.cloud/spring-cloud-dependencies --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-cloud-dependencies<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>${spring-cloud.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>type</span><span class="token punctuation">&gt;</span></span>pom<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>type</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>import<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>


    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencyManagement</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>parent</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>parent<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>top.hellocode<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.0-SNAPSHOT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>parent</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modelVersion</span><span class="token punctuation">&gt;</span></span>4.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modelVersion</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>provider<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>maven.compiler.source</span><span class="token punctuation">&gt;</span></span>8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>maven.compiler.source</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>maven.compiler.target</span><span class="token punctuation">&gt;</span></span>8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>maven.compiler.target</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>properties</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.projectlombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>lombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-cloud-starter-netflix-eureka-client<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-cloud-starter-netflix-eureka-server<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><em>é…ç½®</em></p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8761</span>

<span class="token comment"># eurekaé…ç½®(ä¸€å…±å››éƒ¨åˆ†)</span>
<span class="token key atrule">eureka</span><span class="token punctuation">:</span>
  <span class="token key atrule">instance</span><span class="token punctuation">:</span>
    <span class="token key atrule">hostname</span><span class="token punctuation">:</span> localhost
  <span class="token key atrule">client</span><span class="token punctuation">:</span>
    <span class="token key atrule">service-url</span><span class="token punctuation">:</span>
      <span class="token comment"># defaultZone: http://localhost:8761/eureka (é»˜è®¤)</span>
      <span class="token comment"># eurekaæœåŠ¡ç«¯åœ°å€ï¼Œå°†æ¥å®¢æˆ·ç«¯ä½¿ç”¨è¯¥åœ°å€å’Œeurekaè¿›è¡Œé€šä¿¡</span>
      <span class="token key atrule">defaultZone</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//$<span class="token punctuation">{</span>eureka.instance.hostname<span class="token punctuation">}</span><span class="token punctuation">:</span>$<span class="token punctuation">{</span>server.port<span class="token punctuation">}</span>/eureka
    <span class="token comment"># æ˜¯å¦å°†è‡ªå·±çš„è·¯å¾„æ³¨å†Œåˆ°eurekaä¸Šï¼Œä¸€èˆ¬serverä¸éœ€è¦ï¼Œproviderï¼ˆclientï¼‰éœ€è¦</span>
    <span class="token key atrule">register-with-eureka</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
    <span class="token comment"># æ˜¯å¦éœ€è¦ä»eurekaä¸ŠæŠ“å–è·¯å¾„ï¼Œserverä¸éœ€è¦ï¼Œconsumerï¼ˆclientï¼‰éœ€è¦</span>
    <span class="token key atrule">fetch-registry</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8001</span>

<span class="token key atrule">eureka</span><span class="token punctuation">:</span>
  <span class="token key atrule">client</span><span class="token punctuation">:</span>
    <span class="token key atrule">service-url</span><span class="token punctuation">:</span>
      <span class="token key atrule">defaultZone</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span>8761/eureka

<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">application</span><span class="token punctuation">:</span>
    <span class="token comment"># è®¾ç½®å½“å‰çš„åº”ç”¨åç§°ï¼Œå°†æ¥ä¼šåœ¨eurekaä¸­Applicationæ˜¾ç¤ºã€‚å°†æ¥éœ€è¦ä½¿ç”¨è¯¥åç§°æ¥è·å–è·¯å¾„</span>
    <span class="token key atrule">name</span><span class="token punctuation">:</span> provider
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><em>java</em></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * <span class="token keyword">@author</span> HelloCode
 * <span class="token keyword">@blog</span> https://www.hellocode.top
 * <span class="token keyword">@date</span> 2022å¹´12æœˆ19æ—¥ 16:05
 */</span>
<span class="token annotation punctuation">@RestController</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/order&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OrderController</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token class-name">RestTemplate</span> restTemplate<span class="token punctuation">;</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token class-name">DiscoveryClient</span> discoveryClient<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/goods/{id}&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">Goods</span> <span class="token function">getGoodsById</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span> <span class="token class-name">Long</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ServiceInstance</span><span class="token punctuation">&gt;</span></span> provider <span class="token operator">=</span> discoveryClient<span class="token punctuation">.</span><span class="token function">getInstances</span><span class="token punctuation">(</span><span class="token string">&quot;PROVIDER&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>provider <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> provider<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">ServiceInstance</span> serviceInstance <span class="token operator">=</span> provider<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> host <span class="token operator">=</span> serviceInstance<span class="token punctuation">.</span><span class="token function">getHost</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> port <span class="token operator">=</span> serviceInstance<span class="token punctuation">.</span><span class="token function">getPort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;http://&quot;</span> <span class="token operator">+</span> host <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> port <span class="token operator">+</span> <span class="token string">&quot;/goods/getOne/&quot;</span> <span class="token operator">+</span> id<span class="token punctuation">;</span>
        <span class="token class-name">Goods</span> goods <span class="token operator">=</span> restTemplate<span class="token punctuation">.</span><span class="token function">getForObject</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> <span class="token class-name">Goods</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> goods<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_1-2-é…ç½®è¯¦è§£" tabindex="-1"><a class="header-anchor" href="#_1-2-é…ç½®è¯¦è§£" aria-hidden="true">#</a> 1.2. é…ç½®è¯¦è§£</h4><p><strong>instance</strong></p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">eureka</span><span class="token punctuation">:</span>
  <span class="token key atrule">instance</span><span class="token punctuation">:</span>
  	<span class="token comment"># ä¸»æœºå</span>
    <span class="token key atrule">hostname</span><span class="token punctuation">:</span> localhost	
    <span class="token comment"># æ˜¯å¦å°†è‡ªå·±çš„ipæ³¨å†Œåˆ°eurekaä¸­ã€‚é»˜è®¤falseï¼Œæ³¨å†Œçš„ä¸»æœºå</span>
    <span class="token key atrule">prefer-ip-address</span><span class="token punctuation">:</span>	
    <span class="token comment"># è®¾ç½®webæ§åˆ¶å°æ˜¾ç¤ºçš„å®ä¾‹ip</span>
    <span class="token key atrule">ip-address</span><span class="token punctuation">:</span>	
    <span class="token comment"># ä¿®æ”¹instance-idæ˜¾ç¤º</span>
    <span class="token key atrule">instance-id</span><span class="token punctuation">:</span> 
    <span class="token comment"># æ¯ä¸€æ¬¡eureka clientå‘eureka serverå‘é€å¿ƒè·³çš„æ—¶é—´é—´éš”</span>
    <span class="token key atrule">lease-renewal-interval-in-seconds</span><span class="token punctuation">:</span> <span class="token number">30</span>  
    <span class="token comment"># å¦‚æœ90så†…eureka serveræ²¡æœ‰æ”¶åˆ°eureka clientçš„å¿ƒè·³åŒ…ï¼Œåˆ™å‰”é™¤è¯¥æœåŠ¡</span>
    <span class="token key atrule">lease-expiration-duration-in-seconds</span><span class="token punctuation">:</span> <span class="token number">90</span> 	
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>server</strong></p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">eureka</span><span class="token punctuation">:</span>
  <span class="token key atrule">server</span><span class="token punctuation">:</span>
    <span class="token comment"># æ˜¯å¦å¼€å¯è‡ªæˆ‘ä¿æŠ¤æœºåˆ¶ï¼Œé»˜è®¤true</span>
    <span class="token key atrule">enable-self-preservation</span><span class="token punctuation">:</span>
    <span class="token comment"># æ¸…ç†é—´éš”ï¼ˆå•ä½æ¯«ç§’ï¼Œé»˜è®¤æ˜¯60*1000ï¼‰</span>
    <span class="token key atrule">evication-interval-timer-in-ms</span><span class="token punctuation">:</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_1-3-é«˜å¯ç”¨" tabindex="-1"><a class="header-anchor" href="#_1-3-é«˜å¯ç”¨" aria-hidden="true">#</a> 1.3. é«˜å¯ç”¨</h4><p><img src="http://images.hellocode.top/474ff16d790744e59c85cb445fbdecbb.png" alt="img" loading="lazy"></p><p><strong>æ­¥éª¤</strong></p><ol><li>å‡†å¤‡ä¸¤ä¸ªEureka Server</li><li>åˆ†åˆ«è¿›è¡Œé…ç½®ï¼Œç›¸äº’æ³¨å†Œï¼ˆdefaultZoneï¼‰ï¼Œå®šä¹‰ç›¸åŒçš„åº”ç”¨åç§°ï¼ˆ<a href="http://spring.application.name" target="_blank" rel="noopener noreferrer">spring.application.name<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>ï¼‰</li><li>Eureka Client åˆ†åˆ«æ³¨å†Œåˆ°è¿™ä¸¤ä¸ª Eureka Serverä¸­</li></ol><p><strong>ä»£ç </strong></p><p>eureka-server1</p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8761</span>

<span class="token comment"># eurekaé…ç½®(ä¸€å…±å››éƒ¨åˆ†)</span>
<span class="token key atrule">eureka</span><span class="token punctuation">:</span>
  <span class="token key atrule">instance</span><span class="token punctuation">:</span>
    <span class="token key atrule">hostname</span><span class="token punctuation">:</span> eureka<span class="token punctuation">-</span>server1
  <span class="token key atrule">client</span><span class="token punctuation">:</span>
    <span class="token key atrule">service-url</span><span class="token punctuation">:</span>
      <span class="token key atrule">defaultZone</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span>8762/eureka
    <span class="token key atrule">register-with-eureka</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
    <span class="token key atrule">fetch-registry</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">application</span><span class="token punctuation">:</span>
    <span class="token key atrule">name</span><span class="token punctuation">:</span> eureka<span class="token punctuation">-</span>serve<span class="token punctuation">-</span>ha
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>eureka-server2</p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8762</span>

<span class="token comment"># eurekaé…ç½®(ä¸€å…±å››éƒ¨åˆ†)</span>
<span class="token key atrule">eureka</span><span class="token punctuation">:</span>
  <span class="token key atrule">instance</span><span class="token punctuation">:</span>
    <span class="token key atrule">hostname</span><span class="token punctuation">:</span> eureka<span class="token punctuation">-</span>server2
  <span class="token key atrule">client</span><span class="token punctuation">:</span>
    <span class="token key atrule">service-url</span><span class="token punctuation">:</span>
      <span class="token key atrule">defaultZone</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span>8761/eureka
    <span class="token key atrule">register-with-eureka</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
    <span class="token key atrule">fetch-registry</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">application</span><span class="token punctuation">:</span>
    <span class="token key atrule">name</span><span class="token punctuation">:</span> eureka<span class="token punctuation">-</span>serve<span class="token punctuation">-</span>ha
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>client</p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8001</span>

<span class="token key atrule">eureka</span><span class="token punctuation">:</span>
  <span class="token key atrule">client</span><span class="token punctuation">:</span>
    <span class="token key atrule">service-url</span><span class="token punctuation">:</span>
      <span class="token key atrule">defaultZone</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span>8761/eureka<span class="token punctuation">,</span>http<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span>8762/eureka
  <span class="token key atrule">server</span><span class="token punctuation">:</span>
    <span class="token key atrule">enable-self-preservation</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">application</span><span class="token punctuation">:</span>
    <span class="token key atrule">name</span><span class="token punctuation">:</span> provider
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2ã€consul" tabindex="-1"><a class="header-anchor" href="#_2ã€consul" aria-hidden="true">#</a> 2ã€Consul</h3><ul><li>Consulæ˜¯ç”±HashiCorpåŸºäºGoè¯­è¨€å¼€å‘çš„ï¼Œæ”¯æŒå¤šæ•°æ®ä¸­å¿ƒï¼Œåˆ†å¸ƒå¼é«˜å¯ç”¨çš„æœåŠ¡å‘å¸ƒå’Œæ³¨å†ŒæœåŠ¡è½¯ä»¶</li><li>ç”¨äºå®ç°åˆ†å¸ƒå¼ç³»ç»Ÿçš„æœåŠ¡å‘ç°ä¸é…ç½®</li><li>ä½¿ç”¨èµ·æ¥ä¹Ÿè¾ƒä¸ºç®€å•ã€‚å…·æœ‰å¤©ç„¶å¯ç§»æ¤æ€§ï¼ˆæ”¯æŒLinuxã€Windowså’ŒMac OS Xï¼‰ï¼›å®‰è£…åŒ…ä»…åŒ…å«ä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ï¼Œæ–¹ä¾¿éƒ¨ç½²</li><li>å®˜ç½‘åœ°å€ï¼š<a href="https://www.consul.io" target="_blank" rel="noopener noreferrer">https://www.consul.io<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li>å¯åŠ¨ï¼š<code>.\consul agent -dev</code></li><li>æ§åˆ¶å°é»˜è®¤ç«¯å£ï¼š8500</li></ul><p><strong>å¿«é€Ÿå…¥é—¨</strong></p><p><img src="http://images.hellocode.top/img" alt="SpringCloud-06-Consulæ³¨å†Œä¸­å¿ƒ" loading="lazy"></p><ol><li>æ­å»ºproviderå’ŒconsumeræœåŠ¡</li><li>ä½¿ç”¨RestTemplateå®Œæˆè¿œç¨‹è°ƒç”¨</li><li>å°†provideræœåŠ¡æ³¨å†Œåˆ°consulä¸­</li><li>consumeræœåŠ¡é€šè¿‡ä»Consulä¸­æŠ“å–Provideråœ°å€å®Œæˆè¿œç¨‹è°ƒç”¨</li></ol><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!--consulå®¢æˆ·ç«¯--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-cloud-starter-consul-discovery<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-actuator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å…¶ä»–å’ŒeurekaåŸºæœ¬ä¸Šä¸€è‡´</li></ul><h3 id="_3ã€nacos" tabindex="-1"><a class="header-anchor" href="#_3ã€nacos" aria-hidden="true">#</a> 3ã€Nacos</h3><ul><li>Nacosï¼ˆDynamic <em>Na</em>ming and <em>Co</em>nfiguration <em>S</em>erviceï¼‰æ˜¯é˜¿é‡Œå·´å·´2018å¹´7æœˆå¼€æºçš„é¡¹ç›®</li><li>å®ƒä¸“æ³¨äºæœåŠ¡å‘ç°å’Œé…ç½®ç®¡ç†é¢†åŸŸï¼Œè‡´åŠ›äºå¸®åŠ©æ‚¨å‘ç°ã€é…ç½®å’Œç®¡ç†å¾®æœåŠ¡ã€‚Nacosæ”¯æŒå‡ ä¹æ‰€æœ‰ä¸»æµç±»å‹çš„â€œæœåŠ¡â€çš„å‘ç°ã€é…ç½®å’Œç®¡ç†</li><li>ä¸€å¥è¯æ¦‚æ‹¬å°±æ˜¯Nacos = Spring Cloudæ³¨å†Œä¸­å¿ƒ + Spring Cloudé…ç½®ä¸­å¿ƒ</li><li>å®˜ç½‘ï¼š<a href="https://nacos.io" target="_blank" rel="noopener noreferrer">https://nacos.io<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li>ä¸‹è½½åœ°å€ï¼š<a href="https://github.com/alibaba/nacos/" target="_blank" rel="noopener noreferrer">https://github.com/alibaba/nacos/<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li>é»˜è®¤ç«¯å£ï¼š8848</li><li>æ§åˆ¶å°ï¼š<a href="http://localhost:8848/nacos" target="_blank" rel="noopener noreferrer">http://localhost:8848/nacos<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li>é»˜è®¤è´¦å·å¯†ç ï¼šnacos</li></ul><p><strong>å¿«é€Ÿå…¥é—¨</strong></p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token comment">&lt;!--nacos--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-cloud-starter-alibaba-nacos-discovery<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>0.2.2.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.alibaba.nacos<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>nacos-client<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.1.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-actuator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ä¸‰ã€ribbon-è´Ÿè½½å‡è¡¡" tabindex="-1"><a class="header-anchor" href="#ä¸‰ã€ribbon-è´Ÿè½½å‡è¡¡" aria-hidden="true">#</a> ä¸‰ã€Ribbon è´Ÿè½½å‡è¡¡</h2><blockquote><p>Ribbonæ˜¯Netflixæä¾›çš„ä¸€ä¸ªåŸºäºHTTPå’ŒTCPçš„å®¢æˆ·ç«¯è´Ÿè½½å‡è¡¡å·¥å…·</p></blockquote><p><strong>æœåŠ¡ç«¯è´Ÿè½½å‡è¡¡</strong></p><p><img src="http://images.hellocode.top/72b4e43005e04f02aeb46af1911f04b3.png" alt="img" loading="lazy"></p><ul><li>è´Ÿè½½å‡è¡¡ç®—æ³•åœ¨æœåŠ¡ç«¯</li><li>ç”±è´Ÿè½½å‡è¡¡å™¨ç»´æŠ¤æœåŠ¡åœ°å€åˆ—è¡¨</li></ul><p><strong>å®¢æˆ·ç«¯è´Ÿè½½å‡è¡¡</strong></p><p><img src="http://images.hellocode.top/0c1c4a846b5341cdbc4e0c884144e297.png" alt="img" loading="lazy"></p><ul><li>è´Ÿè½½å‡è¡¡ç®—æ³•åœ¨å®¢æˆ·ç«¯</li><li>å®¢æˆ·ç«¯ç»´æŠ¤æœåŠ¡åœ°å€åˆ—è¡¨</li></ul><p><strong>Ribbonä¸»è¦æœ‰ä¸¤ä¸ªåŠŸèƒ½</strong></p><ol><li>ç®€åŒ–è¿œç¨‹è°ƒç”¨</li><li>è´Ÿè½½å‡è¡¡</li></ol><h3 id="_1ã€ç®€åŒ–è¿œç¨‹è°ƒç”¨" tabindex="-1"><a class="header-anchor" href="#_1ã€ç®€åŒ–è¿œç¨‹è°ƒç”¨" aria-hidden="true">#</a> 1ã€ç®€åŒ–è¿œç¨‹è°ƒç”¨</h3><p>Ribbonå¯ä»¥ç®€åŒ–RestTemplateçš„è¿œç¨‹è°ƒç”¨</p><ol><li>åœ¨å£°æ˜restTemplateçš„Beançš„æ—¶å€™ï¼Œæ·»åŠ ä¸€ä¸ªæ³¨è§£ï¼š<code>@LoadBalanced</code></li><li>åœ¨ä½¿ç”¨restTemplateå‘èµ·è¯·æ±‚æ—¶ï¼Œéœ€è¦å®šä¹‰urlæ—¶ï¼Œ<code>host:post</code>å¯ä»¥æ›¿æ¢ä¸ºæœåŠ¡æä¾›æ–¹çš„åº”ç”¨åç§°</li></ol><blockquote><p>Ribbonå’ŒEurekaæ˜¯é›†æˆçš„ï¼Œä½¿ç”¨æ—¶ä¸éœ€è¦å¯¼åŒ…</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Configuration</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RestTemplateConfig</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@LoadBalanced</span>
    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">RestTemplate</span> <span class="token function">restTemplate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">RestTemplate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/goods2/{id}&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">Goods</span> <span class="token function">getGoodsById2</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span> <span class="token class-name">Long</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">String</span> url <span class="token operator">=</span> <span class="token string">&quot;http://PROVIDER/goods/getOne/&quot;</span> <span class="token operator">+</span> id<span class="token punctuation">;</span>
    <span class="token class-name">Goods</span> goods <span class="token operator">=</span> restTemplate<span class="token punctuation">.</span><span class="token function">getForObject</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> <span class="token class-name">Goods</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> goods<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2ã€è´Ÿè½½å‡è¡¡" tabindex="-1"><a class="header-anchor" href="#_2ã€è´Ÿè½½å‡è¡¡" aria-hidden="true">#</a> 2ã€è´Ÿè½½å‡è¡¡</h3><blockquote><p>Ribboné»˜è®¤é›†æˆäº†è´Ÿè½½å‡è¡¡ï¼Œé»˜è®¤æ˜¯è½®è¯¢çš„ç­–ç•¥</p></blockquote><ul><li>éšæœºï¼šRandomRule</li><li>è½®è¯¢ï¼šRoundRobinRuleï¼ˆé»˜è®¤ï¼‰</li><li>æœ€å°å¹¶å‘ï¼šBestAvailableRule</li><li>è¿‡æ»¤ï¼šAvailabilityFilteringRule</li><li>å“åº”æ—¶é—´ï¼šWeightedResponseTimeRule</li><li>è½®è¯¢é‡è¯•ï¼šRetryRule</li><li>æ€§èƒ½å¯ç”¨æ€§ï¼šZoneAvoidanceRule</li></ul><p><strong>è®¾ç½®è´Ÿè½½å‡è¡¡ç­–ç•¥</strong></p><p><em>æ–¹å¼ä¸€ï¼šç¼–ç </em></p><ol><li>å®šä¹‰ä¸€ä¸ªé…ç½®ç±»ï¼ˆåœ¨å®¢æˆ·ç«¯/æ¶ˆè´¹è€…ï¼‰</li><li>ç±»ä¸­é€šè¿‡<code>@Bean</code>è¿”å›ä¸€ä¸ª<code>IRule</code>å®ä¾‹ï¼ˆå…·ä½“ç­–ç•¥å¯¹è±¡å¦‚ä¸Šï¼‰</li><li>é…ç½®è´Ÿè½½å‡è¡¡ç­–ç•¥çš„ä½œç”¨å¯¹è±¡(åœ¨å¯¹åº”çš„æœåŠ¡å¯åŠ¨ç±»æ·»åŠ <code>@RibbonClient</code>) <ul><li>nameï¼šè®¾ç½®æœåŠ¡æä¾›æ–¹çš„åº”ç”¨åç§°</li><li>configurationï¼šè®¾ç½®è´Ÿè½½å‡è¡¡Bean</li></ul></li></ol><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Configuration</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyRule</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">IRule</span> <span class="token function">rule</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">RandomRule</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * <span class="token keyword">@author</span> HelloCode
 * <span class="token keyword">@blog</span> https://www.hellocode.top
 * <span class="token keyword">@date</span> 2022å¹´12æœˆ19æ—¥ 16:05
 */</span>
<span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token annotation punctuation">@RibbonClient</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">&quot;PROVIDER&quot;</span><span class="token punctuation">,</span>configuration <span class="token operator">=</span> <span class="token class-name">MyRule</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConsummerApp</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">ConsummerApp</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><em>æ–¹å¼äºŒï¼šé…ç½®</em></p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">åº”ç”¨å</span><span class="token punctuation">:</span>
  <span class="token key atrule">ribbon</span><span class="token punctuation">:</span>
    <span class="token key atrule">NFloadBalancerRuleClassName</span><span class="token punctuation">:</span> com.netflix.loadbalancer.RandomRule
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">application</span><span class="token punctuation">:</span>
    <span class="token key atrule">name</span><span class="token punctuation">:</span> consummer

<span class="token key atrule">PROVIDER</span><span class="token punctuation">:</span>
  <span class="token key atrule">ribbon</span><span class="token punctuation">:</span>
    <span class="token key atrule">NFloadBalancerRuleClassName</span><span class="token punctuation">:</span> com.netflix.loadbalancer.RandomRule
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>è¿™é‡Œçš„ç­–ç•¥ç±»è¦å†™å…¨ç±»åã€‚å¯ä»¥é€šè¿‡æŒ‰ä¸¤æ¬¡shiftè¿›è¡Œæœç´¢å¤åˆ¶</p></blockquote><h2 id="å››ã€feign-å£°æ˜å¼æœåŠ¡è°ƒç”¨" tabindex="-1"><a class="header-anchor" href="#å››ã€feign-å£°æ˜å¼æœåŠ¡è°ƒç”¨" aria-hidden="true">#</a> å››ã€Feign å£°æ˜å¼æœåŠ¡è°ƒç”¨</h2><ul><li>Feignæ˜¯ä¸€ä¸ªå£°æ˜å¼çš„RESTå®¢æˆ·ç«¯ï¼Œå®ƒç”¨äº†åŸºäºæ¥å£çš„æ³¨è§£æ–¹å¼ï¼Œå¾ˆæ–¹ä¾¿å®ç°å®¢æˆ·ç«¯é…ç½®</li><li>Feignæœ€åˆç”±Netflixå…¬å¸æä¾›ï¼Œä½†ä¸æ”¯æŒSpringMVCæ³¨è§£ï¼Œåç”±SpringCloudå¯¹å…¶å°è£…ï¼Œæ”¯æŒäº†SpringMVCæ³¨è§£ï¼Œè®©ä½¿ç”¨è€…æ›´æ˜“äºæ¥å—</li></ul><h3 id="_1ã€å¿«é€Ÿå…¥é—¨" tabindex="-1"><a class="header-anchor" href="#_1ã€å¿«é€Ÿå…¥é—¨" aria-hidden="true">#</a> 1ã€å¿«é€Ÿå…¥é—¨</h3><ol><li><p>åœ¨æ¶ˆè´¹ç«¯å¼•å…¥open-feignä¾èµ–</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token comment">&lt;!--feign--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-cloud-starter-openfeign<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>ç¼–å†™Feignè°ƒç”¨æ¥å£(æ·»åŠ æ³¨è§£ï¼š<code>@FeignClient</code>)</p><ul><li>æ³¨è§£çš„valueå±æ€§ä¸ºæœåŠ¡æä¾›è€…çš„åº”ç”¨åç§°</li><li>ç¼–å†™è°ƒç”¨æ¥å£ï¼Œæ¥å£çš„å£°æ˜è§„åˆ™å’Œæä¾›æ–¹æ¥å£ä¿æŒä¸€è‡´</li></ul></li><li><p>åœ¨å¯åŠ¨ç±»æ·»åŠ <code>@EnableFeignClients</code>æ³¨è§£ï¼Œå¼€å¯FeignåŠŸèƒ½</p></li><li><p>æµ‹è¯•è°ƒç”¨</p></li></ol><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * <span class="token keyword">@author</span> HelloCode
 * <span class="token keyword">@blog</span> https://www.hellocode.top
 * <span class="token keyword">@date</span> 2022å¹´12æœˆ19æ—¥ 16:05
 */</span>
<span class="token annotation punctuation">@FeignClient</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;PROVIDER&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">GoodsFeignClient</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/goods/getOne/{id}&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">Goods</span> <span class="token function">getGoodsById</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span> <span class="token class-name">Long</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * <span class="token keyword">@author</span> HelloCode
 * <span class="token keyword">@blog</span> https://www.hellocode.top
 * <span class="token keyword">@date</span> 2022å¹´12æœˆ19æ—¥ 16:05
 */</span>
<span class="token annotation punctuation">@RestController</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/order&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OrderController</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">GoodsFeignClient</span> goodsFeignClient<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/goods/{id}&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">Goods</span> <span class="token function">getGoodsById</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span> <span class="token class-name">Long</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> goodsFeignClient<span class="token punctuation">.</span><span class="token function">getGoodsById</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2ã€è¶…æ—¶è®¾ç½®" tabindex="-1"><a class="header-anchor" href="#_2ã€è¶…æ—¶è®¾ç½®" aria-hidden="true">#</a> 2ã€è¶…æ—¶è®¾ç½®</h3><ul><li>Feignåº•å±‚ä¾èµ–äºRibbonå®ç°è´Ÿè½½å‡è¡¡å’Œè¿œç¨‹è°ƒç”¨</li><li>Ribboné»˜è®¤1ç§’è¶…æ—¶</li></ul><p>è¶…æ—¶é…ç½®ï¼š</p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">ribbon</span><span class="token punctuation">:</span>
  <span class="token key atrule">ConnectTimeout</span><span class="token punctuation">:</span> <span class="token number">1000</span>   <span class="token comment"># è¿æ¥è¶…æ—¶æ—¶é—´ï¼Œæ¯«ç§’</span>
  <span class="token key atrule">ReadTimeout</span><span class="token punctuation">:</span> <span class="token number">1000</span>    <span class="token comment"># é€»è¾‘å¤„ç†è¶…æ—¶æ—¶é—´ï¼Œæ¯«ç§’</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3ã€æ—¥å¿—è®°å½•" tabindex="-1"><a class="header-anchor" href="#_3ã€æ—¥å¿—è®°å½•" aria-hidden="true">#</a> 3ã€æ—¥å¿—è®°å½•</h3><ul><li><p>Feignåªèƒ½è®°å½•debugçº§åˆ«çš„æ—¥å¿—ä¿¡æ¯(è®¾ç½®å…¶ä»–çš„æ— æ•ˆæœ)</p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">logging</span><span class="token punctuation">:</span>
  <span class="token key atrule">level</span><span class="token punctuation">:</span>
    <span class="token key atrule">top.hellocode</span><span class="token punctuation">:</span> debug
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>å®šä¹‰Feignæ—¥å¿—çº§åˆ«Bean</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Bean</span>
<span class="token keyword">public</span> <span class="token class-name">Logger<span class="token punctuation">.</span>Level</span> <span class="token function">feignLoggerLevel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">Logger<span class="token punctuation">.</span>Level<span class="token punctuation">.</span>Full</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>NONEï¼šä¸è®°å½•</li><li>BASICï¼šè®°å½•åŸºæœ¬çš„è¯·æ±‚è¡Œï¼Œå“åº”çŠ¶æ€ç æ•°æ®</li><li>HEADERSï¼šè®°å½•åŸºæœ¬çš„è¯·æ±‚è¡Œï¼Œå“åº”çŠ¶æ€ç æ•°æ®ï¼Œè®°å½•å“åº”å¤´ä¿¡æ¯</li><li>FULLï¼šè®°å½•å®Œæ•´çš„è¯·æ±‚ï¼Œå“åº”æ•°æ®</li></ul></li><li><p>å¯ç”¨è¯¥Beanï¼ˆFeignClientæ¥å£ï¼‰</p><p><code>@FeignClient(configuration = XxxConfig.class)</code></p></li></ul><h2 id="äº”ã€hystrix-ç†”æ–­å™¨" tabindex="-1"><a class="header-anchor" href="#äº”ã€hystrix-ç†”æ–­å™¨" aria-hidden="true">#</a> äº”ã€Hystrix ç†”æ–­å™¨</h2><ul><li>Hystix æ˜¯Netflix å¼€æºçš„ä¸€ä¸ªå»¶è¿Ÿå’Œå®¹é”™åº“ï¼Œç”¨äºéš”ç¦»è®¿é—®è¿œç¨‹æœåŠ¡ã€ç¬¬ä¸‰æ–¹åº“ï¼Œé˜²æ­¢å‡ºç°çº§è”å¤±è´¥ï¼ˆé›ªå´©ï¼‰</li><li>é›ªå´©ï¼šä¸€ä¸ªæœåŠ¡å¤±è´¥ï¼Œå¯¼è‡´æ•´æ¡é“¾è·¯çš„æœåŠ¡éƒ½å¤±è´¥çš„æƒ…å½¢</li></ul><p><strong>ä¸»è¦åŠŸèƒ½</strong></p><ul><li>éš”ç¦» <ul><li>çº¿ç¨‹æ± éš”ç¦»ï¼ˆé»˜è®¤ï¼‰</li><li>ä¿¡å·é‡éš”ç¦»</li></ul></li><li>é™çº§ï¼šå‡ºå¼‚å¸¸ã€è¶…æ—¶ç­‰æƒ…å†µæ—¶ï¼ˆBè®¡åˆ’ï¼‰</li><li>ç†”æ–­</li><li>é™æµ</li></ul><h3 id="_1ã€é™çº§" tabindex="-1"><a class="header-anchor" href="#_1ã€é™çº§" aria-hidden="true">#</a> 1ã€é™çº§</h3><blockquote><p>Hystixé™çº§ï¼šå½“æœåŠ¡å‘é€å¼‚å¸¸æˆ–è°ƒç”¨è¶…æ—¶ï¼Œè¿”å›é»˜è®¤æ•°æ®</p></blockquote><p><strong>æœåŠ¡æä¾›æ–¹</strong></p><ol><li><p>åœ¨æœåŠ¡æä¾›æ–¹ï¼Œå¼•å…¥hystrixä¾èµ–</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token comment">&lt;!--hystrix--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-cloud-starter-netflix-hystrix<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>å®šä¹‰é™çº§æ–¹æ³•</p><ol><li>æ–¹æ³•çš„è¿”å›å€¼éœ€è¦å’ŒåŸæ–¹æ³•ä¸€æ ·</li><li>æ–¹æ³•çš„å‚æ•°éœ€è¦å’ŒåŸæ–¹æ³•ä¸€æ ·</li></ol><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// é™çº§æ–¹æ¡ˆ</span>
<span class="token keyword">public</span> <span class="token class-name">Goods</span> <span class="token function">getOneFallback</span><span class="token punctuation">(</span><span class="token class-name">Long</span> id<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token class-name">Goods</span> goods <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Goods</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    goods<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">&quot;é™çº§äº†~~&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> goods<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>ä½¿ç”¨<code>@HystrixCommand</code>æ³¨è§£é…ç½®é™çº§æ–¹æ³•</p><ul><li>fallbackMethodï¼šæŒ‡å®šé™çº§åè°ƒç”¨çš„æ–¹æ³•åç§°</li><li>commandPropertiesï¼šé€šè¿‡é”®å€¼å¯¹å½¢å¼å¯¹Hystrixçš„ä¸€äº›é…ç½®è¿›è¡Œä¿®æ”¹</li></ul><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/getOne/{id}&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@HystrixCommand</span><span class="token punctuation">(</span>fallbackMethod <span class="token operator">=</span> <span class="token string">&quot;getOneFallback&quot;</span><span class="token punctuation">,</span>
                commandProperties <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">// è¶…æ—¶æ—¶é—´ é»˜è®¤1s</span>
    <span class="token annotation punctuation">@HystrixProperty</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">&quot;execution.isolation.thread.timeoutInMilliseconds&quot;</span><span class="token punctuation">,</span>value <span class="token operator">=</span> <span class="token string">&quot;3000&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
               <span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">Goods</span> <span class="token function">getOne</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span> <span class="token class-name">Long</span> id<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token class-name">Goods</span> goods <span class="token operator">=</span> goodsService<span class="token punctuation">.</span><span class="token function">getOne</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    goods<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span>goods<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> port<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> goods<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>åœ¨å¯åŠ¨ç±»ä¸Šå¼€å¯HystrixåŠŸèƒ½ï¼š<code>@EnableCircuitBreaker</code></p></li></ol><p><strong>æœåŠ¡æ¶ˆè´¹æ–¹</strong></p><blockquote><p>Feignç»„ä»¶å·²ç»é›†æˆäº†hystrixç»„ä»¶ï¼Œä½¿ç”¨æ—¶å°±ä¸éœ€è¦å†å»å¼•å…¥hystrixä¾èµ–äº†</p></blockquote><ol><li>å®šä¹‰feignè°ƒç”¨æ¥å£å®ç°ç±»(<code>@Component</code>)ï¼Œå¤å†™æ–¹æ³•ï¼Œå³é™çº§æ–¹æ³•</li><li>åœ¨<code>@FeignClient</code>æ³¨è§£ä¸­ä½¿ç”¨fallbackå±æ€§è®¾ç½®é™çº§å¤„ç†ç±»</li><li>é…ç½®å¼€å¯ <code>feign.hystrix.enabled = true</code></li></ol><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GoodsFeignClientFallBack</span> <span class="token keyword">implements</span> <span class="token class-name">GoodsFeignClient</span><span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Goods</span> <span class="token function">getGoodsById</span><span class="token punctuation">(</span><span class="token class-name">Long</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Goods</span> goods <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Goods</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        goods<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">&quot;æ¶ˆè´¹æ–¹é™çº§~~&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> goods<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>æä¾›æ–¹å’Œæ¶ˆè´¹æ–¹éƒ½è¿›è¡Œé™çº§çš„æƒ…å†µä¸‹ï¼Œæœ€ç»ˆè¿”å›çš„æ˜¯æä¾›æ–¹é™çº§çš„ç»“æœï¼ˆæä¾›æ–¹å·²ç»é™çº§è¿”å›ï¼Œæ¶ˆè´¹æ–¹å°±ä¸éœ€è¦å†è¿›è¡Œé™çº§äº†ï¼‰</p></blockquote><h3 id="_2ã€ç†”æ–­" tabindex="-1"><a class="header-anchor" href="#_2ã€ç†”æ–­" aria-hidden="true">#</a> 2ã€ç†”æ–­</h3><ul><li>Hystrix ç†”æ–­æœºåˆ¶ï¼Œç”¨äºç›‘æ§å¾®æœåŠ¡è°ƒç”¨æƒ…å†µï¼Œå½“å¤±è´¥çš„æƒ…å†µè¾¾åˆ°é¢„å®šçš„é˜ˆå€¼ï¼ˆ5ç§’å¤±è´¥20æ¬¡ï¼‰ï¼Œä¼šæ‰“å¼€æ–­è·¯å™¨ï¼Œæ‹’ç»æ‰€æœ‰è¯·æ±‚ï¼Œç›´åˆ°æœåŠ¡å™¨æ¢å¤æ­£å¸¸ä¸ºæ­¢</li><li>æ–­è·¯å™¨ä¸€å…±æœ‰ä¸‰ç§çŠ¶æ€ï¼šæ‰“å¼€ã€å…³é—­ã€åŠå¼€</li><li>å½“å¤±è´¥è¾¾åˆ°é˜ˆå€¼ï¼Œæ–­è·¯å™¨ä¼šæ‰“å¼€ï¼Œæ‹’ç»æ‰€æœ‰è¯·æ±‚ã€‚å½“æ–­è·¯å™¨å¼€å¯æ—¶é—´è¾¾åˆ°é…ç½®çš„å€¼ï¼ˆé»˜è®¤5ç§’ï¼‰ï¼Œä¼šå¤„äºåŠå¼€çŠ¶æ€ï¼Œå‘å¾®æœåŠ¡å‘èµ·è¯·æ±‚ï¼šè‹¥è¯·æ±‚è¾¾ä¸åˆ°é¢„å®šçš„é˜ˆå€¼ï¼Œåˆ™å…³é—­æ–­è·¯å™¨ï¼›è‹¥è¯·æ±‚è¿˜æ˜¯è¾¾åˆ°äº†é¢„å®šçš„é˜ˆå€¼ï¼Œåˆ™ç»§ç»­æ‰“å¼€æ–­è·¯å™¨</li></ul><p><strong>ç†”æ–­æœºåˆ¶é»˜è®¤å¤„äºæ‰“å¼€çŠ¶æ€ï¼Œå¯ä»¥é€šè¿‡å‚æ•°ä¿®æ”¹é…ç½®</strong></p><ul><li>circuitBreaker.sleepWindowInMillisecondsï¼šç›‘æ§æ—¶é—´</li><li>circuitBreaker.requestVolumeThresholdï¼šå¤±è´¥æ¬¡æ•°</li><li>circuitBreaker.errorThresholdPercentageï¼šå¤±è´¥ç‡</li></ul><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/getOne/{id}&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@HystrixCommand</span><span class="token punctuation">(</span>fallbackMethod <span class="token operator">=</span> <span class="token string">&quot;getOneFallback&quot;</span><span class="token punctuation">,</span>
                commandProperties <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">// ç›‘æ§æ—¶é—´ é»˜è®¤5000ms</span>
    <span class="token annotation punctuation">@HystrixProperty</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">&quot;circuitBreaker.sleepWindowInMilliseconds&quot;</span><span class="token punctuation">,</span>value <span class="token operator">=</span> <span class="token string">&quot;5000&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// å¤±è´¥æ¬¡æ•° é»˜è®¤20æ¬¡</span>
    <span class="token annotation punctuation">@HystrixProperty</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">&quot;circuitBreaker.requestVolumeThreshold&quot;</span><span class="token punctuation">,</span>value <span class="token operator">=</span> <span class="token string">&quot;20&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// å¤±è´¥ç‡ é»˜è®¤50%</span>
    <span class="token annotation punctuation">@HystrixProperty</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">&quot;circuitBreaker.errorThresholdPercentage&quot;</span><span class="token punctuation">,</span>value <span class="token operator">=</span> <span class="token string">&quot;50&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
               <span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">Goods</span> <span class="token function">getOne</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span> <span class="token class-name">Long</span> id<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>id <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">// æ¨¡æ‹Ÿå¼‚å¸¸</span>
        <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">/</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token class-name">Goods</span> goods <span class="token operator">=</span> goodsService<span class="token punctuation">.</span><span class="token function">getOne</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    goods<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span>goods<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> port<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> goods<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3ã€ç†”æ–­ç›‘æ§" tabindex="-1"><a class="header-anchor" href="#_3ã€ç†”æ–­ç›‘æ§" aria-hidden="true">#</a> 3ã€ç†”æ–­ç›‘æ§</h3><ul><li>Hystrix æä¾›äº† Hystrix-dashboard åŠŸèƒ½ï¼Œç”¨äºå®æ—¶ç›‘æ§å¾®æœåŠ¡è¿è¡ŒçŠ¶æ€</li><li>ä½†æ˜¯Hystrix-dashboardåªèƒ½ç›‘æ§ä¸€ä¸ªå¾®æœåŠ¡</li><li>Netflixè¿˜æä¾›äº†Turbineï¼Œè¿›è¡Œèšåˆç›‘æ§</li></ul><p><strong>ä¸€. æ­å»ºç›‘æ§æ¨¡å—</strong></p><ol><li><p>åˆ›å»ºç›‘æ§æ¨¡å—</p><p>åˆ›å»ºhystrix-monitoræ¨¡å—ï¼Œä½¿ç”¨Turbineèšåˆç›‘æ§å¤šä¸ªHystrix dashboardåŠŸèƒ½</p></li><li><p>å¼•å…¥Turbineèšåˆç›‘æ§èµ·æ­¥ä¾èµ–</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-cloud-starter-netflix-hystrix-dashboard<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-cloud-starter-netflix-turbine<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-actuator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-cloud-starter-netflix-eureka-client<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>ä¿®æ”¹application.yml</p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">application</span><span class="token punctuation">:</span>
    <span class="token key atrule">name</span><span class="token punctuation">:</span> hystrix<span class="token punctuation">-</span>monitor
<span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8769</span>
<span class="token key atrule">turbine</span><span class="token punctuation">:</span>
  <span class="token key atrule">combine-host-port</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
  <span class="token comment"># é…ç½®éœ€è¦è¢«ç›‘æ§çš„æœåŠ¡åç§°åˆ—è¡¨</span>
  <span class="token key atrule">app-config</span><span class="token punctuation">:</span> provider<span class="token punctuation">,</span>consummer
  <span class="token key atrule">cluster-name-expression</span><span class="token punctuation">:</span> <span class="token string">&quot;&#39;default&#39;&quot;</span>
  <span class="token key atrule">aggregator</span><span class="token punctuation">:</span>
    <span class="token key atrule">cluster-config</span><span class="token punctuation">:</span> default
  <span class="token comment"># instanceUrlSuffix: /actuator/hystrix.stream</span>
<span class="token key atrule">eureka</span><span class="token punctuation">:</span>
  <span class="token key atrule">client</span><span class="token punctuation">:</span>
    <span class="token key atrule">service-url</span><span class="token punctuation">:</span> 
      <span class="token key atrule">defaultZone</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span>8761/eureka/
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>åˆ›å»ºå¯åŠ¨ç±»</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * <span class="token keyword">@author</span> HelloCode
 * <span class="token keyword">@blog</span> https://www.hellocode.top
 * <span class="token keyword">@date</span> 2022å¹´12æœˆ23æ—¥ 11:57
 */</span>
<span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token annotation punctuation">@EnableEurekaClient</span>

<span class="token annotation punctuation">@EnableTurbine</span>  <span class="token comment">// å¼€å¯Turbineï¼Œèšåˆç›‘æ§åŠŸèƒ½</span>
<span class="token annotation punctuation">@EnableHystrixDashboard</span> <span class="token comment">// å¼€å¯Hystrixä»ªè¡¨ç›˜ç›‘æ§åŠŸèƒ½</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MonitorApp</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">MonitorApp</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><p><strong>äºŒã€ä¿®æ”¹è¢«ç›‘æ§æ¨¡å—</strong></p><ol><li><p>å¯¼å…¥ä¾èµ–</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token comment">&lt;!--turbineç›‘æ§--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-cloud-starter-netflix-hystrix<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-actuator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-cloud-starter-netflix-hystrix-dashboard<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>é…ç½®Bean</p><p>ä¸ºäº†æ–¹ä¾¿ï¼Œå°†å…¶é…ç½®åœ¨å¯åŠ¨ç±»ä¸­ï¼ˆé…ç½®å®ŒBeanè¿˜éœ€è¦åœ¨å¯åŠ¨ç±»æ·»åŠ æ³¨è§£ï¼š<code>@EnableHystrixDashboard</code>ï¼‰</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Bean</span>
<span class="token keyword">public</span> <span class="token class-name">ServletRegistrationBean</span> <span class="token function">getServlet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token class-name">HystrixMetricsStreamServlet</span> streamServlet <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HystrixMetricsStreamServlet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">ServletRegistrationBean</span> registrationBean <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ServletRegistrationBean</span><span class="token punctuation">(</span>streamServlet<span class="token punctuation">)</span><span class="token punctuation">;</span>
    registrationBean<span class="token punctuation">.</span><span class="token function">setLoadOnStartup</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    registrationBean<span class="token punctuation">.</span><span class="token function">addUrlMappings</span><span class="token punctuation">(</span><span class="token string">&quot;/actuator/hystrix.stream&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    registrationBean<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">&quot;HystrixMetricsStreamServlet&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> registrationBean<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><p>**è®¿é—®ï¼š**<a href="http://localhost:8769/hystrix/" target="_blank" rel="noopener noreferrer">http://localhost:8769/hystrix/<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> è¿›å…¥Hystrix Dashboardç•Œé¢</p><p><img src="http://images.hellocode.top/image-20221223121318393.png" alt="image-20221223121318393" loading="lazy"></p><p>ç•Œé¢ä¸­è¾“å…¥ç›‘æ§çš„Urlåœ°å€ï¼š<a href="http://localhost:8769/turbine.stream%EF%BC%88%E6%8E%A7%E5%88%B6%E5%8F%B0%E5%8F%AF%E4%BB%A5%E6%9F%A5%E7%9C%8B%EF%BC%89%EF%BC%8C%E7%9B%91%E6%8E%A7%E6%97%B6%E9%97%B4%E9%97%B4%E9%9A%942000ms" target="_blank" rel="noopener noreferrer">http://localhost:8769/turbine.streamï¼ˆæ§åˆ¶å°å¯ä»¥æŸ¥çœ‹ï¼‰ï¼Œç›‘æ§æ—¶é—´é—´éš”2000ms<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p><img src="http://images.hellocode.top/image-20221223121603972.png" alt="image-20221223121603972" loading="lazy"></p><h2 id="å…­ã€gateway-ç½‘å…³" tabindex="-1"><a class="header-anchor" href="#å…­ã€gateway-ç½‘å…³" aria-hidden="true">#</a> å…­ã€Gateway ç½‘å…³</h2><h3 id="_1ã€æ¦‚è¿°" tabindex="-1"><a class="header-anchor" href="#_1ã€æ¦‚è¿°" aria-hidden="true">#</a> 1ã€æ¦‚è¿°</h3><p><img src="http://images.hellocode.top/20200830222634447.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"></p><ul><li>ç½‘å…³æ—¨åœ¨ä¸ºå¾®æœåŠ¡æ¶æ„æä¾›ä¸€ç§ç®€å•è€Œæœ‰æ•ˆçš„ç»Ÿä¸€APIè·¯ç”±ç®¡ç†æ–¹å¼</li><li>åœ¨å¾®æœåŠ¡æ¶æ„ä¸­ï¼Œä¸åŒçš„å¾®æœåŠ¡å¯ä»¥æœ‰ä¸åŒçš„ç½‘ç»œåœ°å€ï¼Œå„ä¸ªå¾®æœåŠ¡ä¹‹é—´é€šè¿‡äº’ç›¸è°ƒç”¨å®Œæˆç”¨æˆ·è¯·æ±‚ï¼Œå®¢æˆ·ç«¯å¯èƒ½é€šè¿‡è°ƒç”¨Nä¸ªå¾®æœåŠ¡çš„æ¥å£å®Œæˆä¸€ä¸ªç”¨æˆ·è¯·æ±‚</li><li>ç½‘å…³å°±æ˜¯ç³»ç»Ÿçš„å…¥å£ï¼Œå°è£…äº†åº”ç”¨ç¨‹åºçš„å†…éƒ¨ç»“æ„ï¼Œä¸ºå®¢æˆ·ç«¯æä¾›ç»Ÿä¸€æœåŠ¡ï¼Œä¸€äº›ä¸ä¸šåŠ¡æœ¬èº«åŠŸèƒ½æ— å…³çš„å…¬å…±é€»è¾‘å¯ä»¥åœ¨è¿™é‡Œå®ç°ï¼Œè¯¸å¦‚è®¤è¯ã€é‰´æƒã€ç›‘æ§ã€ç¼“å­˜ã€è´Ÿè½½å‡è¡¡ã€æµé‡ç®¡æ§ã€è·¯ç”±è½¬å‘ç­‰</li><li>åœ¨ç›®å‰çš„ç½‘å…³è§£å†³æ–¹æ¡ˆé‡Œï¼Œæœ‰Nginx + Luaã€Netflix Zuulã€Spring Cloud Gatewayç­‰ç­‰</li></ul><p><strong>å­˜åœ¨çš„é—®é¢˜</strong></p><ol><li>å®¢æˆ·ç«¯å¤šæ¬¡è¯·æ±‚ä¸åŒçš„å¾®æœåŠ¡ï¼Œå¢åŠ å®¢æˆ·ç«¯çš„å¤æ‚æ€§</li><li>è®¤è¯å¤æ‚ï¼Œæ¯ä¸ªæœåŠ¡éƒ½è¦è¿›è¡Œè®¤è¯</li><li>httpè¯·æ±‚ä¸åŒæœåŠ¡æ¬¡æ•°å¢åŠ ï¼Œæ€§èƒ½ä¸é«˜</li></ol><h3 id="_2ã€å¿«é€Ÿå…¥é—¨" tabindex="-1"><a class="header-anchor" href="#_2ã€å¿«é€Ÿå…¥é—¨" aria-hidden="true">#</a> 2ã€å¿«é€Ÿå…¥é—¨</h3><ol><li><p>æ­å»ºç½‘å…³æ¨¡å—</p></li><li><p>å¼•å…¥ä¾èµ–ï¼šstarter-gateway</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-cloud-starter-netflix-eureka-client<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-cloud-starter-gateway<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>ç¼–å†™å¯åŠ¨ç±»</p></li><li><p>ç¼–å†™é…ç½®æ–‡ä»¶</p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">80</span>
<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">application</span><span class="token punctuation">:</span>
    <span class="token key atrule">name</span><span class="token punctuation">:</span> api<span class="token punctuation">-</span>gateway
  
  <span class="token key atrule">cloud</span><span class="token punctuation">:</span>
    <span class="token comment"># ç½‘å…³é…ç½®</span>
    <span class="token key atrule">gateway</span><span class="token punctuation">:</span>
      <span class="token comment"># è·¯ç”±é…ç½®ï¼šè½¬å‘è§„åˆ™</span>
      <span class="token key atrule">routes</span><span class="token punctuation">:</span>   <span class="token comment"># é›†åˆ</span>
      <span class="token comment"># idï¼šå”¯ä¸€æ ‡è¯†ï¼Œé»˜è®¤æ˜¯UUID</span>
      <span class="token comment"># uriï¼šè½¬å‘è·¯å¾„</span>
      <span class="token comment"># predicatesï¼šæ¡ä»¶ï¼Œç”¨äºè¯·æ±‚ç½‘å…³è·¯å¾„çš„åŒ¹é…è§„åˆ™</span>
      <span class="token punctuation">-</span> <span class="token key atrule">id</span><span class="token punctuation">:</span> provider
        <span class="token key atrule">uri</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span>8003/
        <span class="token key atrule">predicates</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> Path=/goods/<span class="token important">**</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>å¯åŠ¨æµ‹è¯•</p></li></ol><h3 id="_3ã€è·¯ç”±é…ç½®" tabindex="-1"><a class="header-anchor" href="#_3ã€è·¯ç”±é…ç½®" aria-hidden="true">#</a> 3ã€è·¯ç”±é…ç½®</h3><p><strong>é™æ€è·¯ç”±</strong></p><blockquote><p>äº†è§£å³å¯ï¼Œå¾ˆå°‘ç”¨</p></blockquote><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">application</span><span class="token punctuation">:</span>
    <span class="token key atrule">name</span><span class="token punctuation">:</span> api<span class="token punctuation">-</span>gateway
  
  <span class="token key atrule">cloud</span><span class="token punctuation">:</span>
    <span class="token comment"># ç½‘å…³é…ç½®</span>
    <span class="token key atrule">gateway</span><span class="token punctuation">:</span>
      <span class="token comment"># è·¯ç”±é…ç½®ï¼šè½¬å‘è§„åˆ™</span>
      <span class="token key atrule">routes</span><span class="token punctuation">:</span>   <span class="token comment"># é›†åˆ</span>
      <span class="token comment"># idï¼šå”¯ä¸€æ ‡è¯†ï¼Œé»˜è®¤æ˜¯UUID</span>
      <span class="token comment"># uriï¼šè½¬å‘è·¯å¾„</span>
      <span class="token comment"># predicatesï¼šæ¡ä»¶ï¼Œç”¨äºè¯·æ±‚ç½‘å…³è·¯å¾„çš„åŒ¹é…è§„åˆ™</span>
      <span class="token comment"># filtersï¼šé…ç½®å±€éƒ¨è¿‡æ»¤å™¨</span>
      <span class="token punctuation">-</span> <span class="token key atrule">id</span><span class="token punctuation">:</span> provider
        <span class="token key atrule">uri</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span>8003/
        <span class="token key atrule">predicates</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> Path=/goods/<span class="token important">**</span>
      <span class="token punctuation">-</span> <span class="token key atrule">id</span><span class="token punctuation">:</span> consumer
        <span class="token key atrule">uri</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span>9000/
        <span class="token key atrule">predicates</span><span class="token punctuation">:</span>
        <span class="token punctuation">-</span> Path=/order/<span class="token important">**</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>åŠ¨æ€è·¯ç”±</strong></p><blockquote><p>æœåŠ¡çš„ipå’Œç«¯å£éƒ½ä¼šæ³¨å†Œåˆ°Eurekaä¸­ï¼Œå› æ­¤Gatewayåªéœ€è¦ä»Eurekaä¸­è·å–å³å¯</p></blockquote><ol><li>å¼•å…¥eureka-clienté…ç½®</li><li>ä¿®æ”¹uriå±æ€§ï¼š<code>lb://æœåŠ¡åç§°</code></li></ol><p><strong>å¾®æœåŠ¡åç§°é…ç½®</strong></p><blockquote><p>éšç€æœåŠ¡æ•°é‡çš„å¢å¤šï¼Œé…ç½®çš„è·¯ç”±åŒ¹é…è§„åˆ™ä¹Ÿæœ‰å¯èƒ½ä¼šå†²çªï¼Œæ¯”å¦‚ï¼š<code>http://localhost/goods/getOne/1</code>ï¼Œé€šè¿‡å¾®æœåŠ¡åç§°çš„é…ç½®ï¼Œå¯ä»¥å°†ä¸Šé¢é“¾æ¥æ”¹ä¸ºï¼š<code>http://localhost/æœåŠ¡å/goods/getOne/1</code>ï¼Œé˜²æ­¢å†²çª</p></blockquote><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">application</span><span class="token punctuation">:</span>
    <span class="token key atrule">name</span><span class="token punctuation">:</span> api<span class="token punctuation">-</span>gateway

  <span class="token key atrule">cloud</span><span class="token punctuation">:</span>
  	<span class="token comment"># ç½‘å…³é…ç½®</span>
    <span class="token key atrule">gateway</span><span class="token punctuation">:</span>
      <span class="token key atrule">discovery</span><span class="token punctuation">:</span>
        <span class="token key atrule">locator</span><span class="token punctuation">:</span>
          <span class="token key atrule">enabled</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>   <span class="token comment"># å¼€å¯å¾®æœåŠ¡å‘ç°åŠŸèƒ½(è¯·æ±‚è·¯å¾„å‰å¯ä»¥æ·»åŠ å¾®æœåŠ¡åç§°)</span>
          <span class="token key atrule">lower-case-service-id</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>   <span class="token comment"># å°†è¯·æ±‚è·¯å¾„ä¸Šçš„æœåŠ¡åç§°é…ç½®ä¸ºå°å†™</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4ã€è¿‡æ»¤å™¨" tabindex="-1"><a class="header-anchor" href="#_4ã€è¿‡æ»¤å™¨" aria-hidden="true">#</a> 4ã€è¿‡æ»¤å™¨</h3><ul><li>Gatewayæ”¯æŒè¿‡æ»¤å™¨åŠŸèƒ½ï¼Œå¯¹è¯·æ±‚æˆ–å“åº”è¿›è¡Œæ‹¦æˆªï¼Œå®Œæˆä¸€äº›é€šç”¨æ“ä½œ</li><li>Gatewayæä¾›ä¸¤ç§è¿‡æ»¤å™¨æ–¹å¼ï¼šâ€œpreâ€å’Œâ€œpostâ€</li><li>preè¿‡æ»¤å™¨ï¼Œåœ¨è½¬å‘ä¹‹å‰æ‰§è¡Œï¼Œå¯ä»¥åšå‚æ•°æ ¡éªŒã€æƒé™æ ¡éªŒã€æµé‡ç›‘æ§ã€æ—¥å¿—è¾“å‡ºã€åè®®è½¬æ¢ç­‰</li><li>postè¿‡æ»¤å™¨ï¼Œåœ¨å“åº”ä¹‹å‰æ‰§è¡Œï¼Œå¯ä»¥åšå“åº”å†…å®¹ã€å“åº”å¤´çš„ä¿®æ”¹ï¼Œæ—¥å¿—çš„è¾“å‡ºï¼Œæµé‡ç›‘æ§ç­‰</li><li>Gatewayè¿˜æä¾›äº†ä¸¤ç§ç±»å‹è¿‡æ»¤å™¨ <ul><li>GatewayFilterï¼šå±€éƒ¨è¿‡æ»¤å™¨ï¼Œé’ˆå¯¹å•ä¸ªè·¯ç”±</li><li>GlobalFilterï¼šå…¨å±€è¿‡æ»¤å™¨ï¼Œé’ˆå¯¹æ‰€æœ‰è·¯ç”±</li></ul></li></ul><p><strong>å±€éƒ¨è¿‡æ»¤å™¨</strong></p><ul><li>GatewayFilterå±€éƒ¨è¿‡æ»¤å™¨ï¼Œæ˜¯é’ˆå¯¹å•ä¸ªè·¯ç”±çš„è¿‡æ»¤å™¨</li><li>åœ¨Spring Cloud Gatewayç»„ä»¶ä¸­æä¾›äº†å¤§é‡å†…ç½®çš„å±€éƒ¨è¿‡æ»¤å™¨ï¼Œå¯¹è¯·æ±‚å’Œå“åº”åšè¿‡æ»¤æ“ä½œ</li><li>éµå¾ªçº¦å®šå¤§äºé…ç½®çš„æ€æƒ³ï¼Œåªéœ€è¦åœ¨é…ç½®æ–‡ä»¶é…ç½®å±€éƒ¨è¿‡æ»¤å™¨åç§°ï¼Œå¹¶ä¸ºå…¶æŒ‡å®šå¯¹åº”çš„å€¼ï¼Œå°±å¯ä»¥è®©å…¶ç”Ÿæ•ˆ</li></ul><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">application</span><span class="token punctuation">:</span>
    <span class="token key atrule">name</span><span class="token punctuation">:</span> api<span class="token punctuation">-</span>gateway

  <span class="token key atrule">cloud</span><span class="token punctuation">:</span>
    <span class="token comment"># ç½‘å…³é…ç½®</span>
    <span class="token key atrule">gateway</span><span class="token punctuation">:</span>
      <span class="token comment"># è·¯ç”±é…ç½®ï¼šè½¬å‘è§„åˆ™</span>
      <span class="token key atrule">routes</span><span class="token punctuation">:</span>   <span class="token comment"># é›†åˆ</span>
      <span class="token comment"># filters: é…ç½®å±€éƒ¨è¿‡æ»¤å™¨</span>
        <span class="token punctuation">-</span> <span class="token key atrule">id</span><span class="token punctuation">:</span> provider
          <span class="token key atrule">uri</span><span class="token punctuation">:</span> lb<span class="token punctuation">:</span>//PROVIDER
          <span class="token key atrule">predicates</span><span class="token punctuation">:</span>
            <span class="token punctuation">-</span> Path=/goods/<span class="token important">**</span>
          <span class="token key atrule">filters</span><span class="token punctuation">:</span>
            <span class="token punctuation">-</span> AddRequestParameter=username<span class="token punctuation">,</span>zhangsan		<span class="token comment"># é”®,å€¼</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><table><thead><tr><th>è¿‡æ»¤å™¨å·¥å‚</th><th>ä½œç”¨</th><th>å‚æ•°</th></tr></thead><tbody><tr><td>AddRequestHeader</td><td>ä¸ºåŸå§‹è¯·æ±‚æ·»åŠ Header</td><td>Headerçš„åç§°åŠå€¼</td></tr><tr><td>AddRequestParameter</td><td>ä¸ºåŸå§‹è¯·æ±‚æ·»åŠ è¯·æ±‚å‚æ•°</td><td>å‚æ•°åç§°åŠå€¼</td></tr><tr><td>AddResponseHeader</td><td>ä¸ºåŸå§‹å“åº”æ·»åŠ Header</td><td>Headerçš„åç§°åŠå€¼</td></tr><tr><td>DedupeResponseHeader</td><td>å‰”é™¤å“åº”å¤´ä¸­é‡å¤çš„å€¼</td><td>éœ€è¦å»é‡çš„Headeråç§°åŠå»é‡ç­–ç•¥</td></tr><tr><td>Hystrix</td><td>ä¸ºè·¯ç”±å¼•å…¥Hystrixçš„æ–­è·¯å™¨ä¿æŠ¤</td><td>Hystrixcommandçš„åç§°</td></tr><tr><td>FallbackHeaders</td><td>ä¸ºfallbackUriçš„è¯·æ±‚å¤´ä¸­æ·»åŠ å…·ä½“çš„å¼‚å¸¸ä¿¡æ¯</td><td>Headerçš„åç§°</td></tr><tr><td>PrefixPath</td><td>ä¸ºåŸå§‹è¯·æ±‚è·¯å¾„æ·»åŠ å‰ç¼€</td><td>å‰ç¼€è·¯å¾„</td></tr><tr><td>PreserveHostHeader</td><td>ä¸ºè¯·æ±‚æ·»åŠ ä¸€ä¸ªpreserveHostHeader=trueçš„å±æ€§ï¼Œè·¯ç”±è¿‡æ»¤å™¨ä¼šæ£€æŸ¥è¯¥å±æ€§ä»¥å†³å®šæ˜¯å¦è¦å‘é€åŸå§‹çš„Host</td><td>æ— </td></tr><tr><td>RequestRateLimiter</td><td>ç”¨äºå¯¹è¯·æ±‚é™æµï¼Œé™æµç®—æ³•ä¸ºä»¤ç‰Œæ¡¶</td><td>keyResolverã€rateLimiterã€statusCodeã€denyEmptyKeyã€emptyKeyStatus</td></tr><tr><td>RedirectTo</td><td>å°†åŸå§‹è¯·æ±‚é‡å®šå‘åˆ°æŒ‡å®šçš„URL</td><td>httpçŠ¶æ€ç åŠé‡å®šå‘çš„url</td></tr><tr><td>RemoveHopByHopHeadersFilter</td><td>ä¸ºåŸå§‹è¯·æ±‚åˆ é™¤IETFç»„ç»‡è§„å®šçš„ä¸€ç³»åˆ—Header</td><td>Headeråç§°</td></tr><tr><td>RemoveResponseHeader</td><td>ä¸ºåŸå§‹è¯·æ±‚åˆ é™¤æŸä¸ªHeader</td><td>Headeråç§°</td></tr><tr><td>RewritePath</td><td>é‡å†™åŸå§‹çš„è¯·æ±‚è·¯å¾„</td><td>åŸå§‹è·¯å¾„æ­£åˆ™è¡¨è¾¾å¼ä»¥åŠé‡å†™åè·¯å¾„çš„æ­£åˆ™è¡¨è¾¾å¼</td></tr><tr><td>RewriteResponseHeader</td><td>é‡å†™åŸå§‹å“åº”ä¸­çš„æŸä¸ªHeader</td><td>Headeråç§°ï¼Œå€¼çš„æ­£åˆ™è¡¨è¾¾å¼ï¼Œé‡å†™åçš„å€¼</td></tr><tr><td>SaveSession</td><td>åœ¨è½¬å‘è¯·æ±‚ä¹‹å‰ï¼Œå¼ºåˆ¶æ‰§è¡Œ<code>websession::save</code>æ“ä½œ</td><td>æ— </td></tr><tr><td>secureHeaders</td><td>ä¸ºåŸå§‹å“åº”æ·»åŠ ä¸€ç³»åˆ—èµ·å®‰å…¨ä½œç”¨çš„å“åº”å¤´</td><td>æ— ï¼Œæ”¯æŒä¿®æ”¹è¿™äº›å®‰å…¨å“åº”å¤´çš„å€¼</td></tr><tr><td>SetPath</td><td>ä¿®æ”¹åŸå§‹çš„è¯·æ±‚è·¯å¾„</td><td>ä¿®æ”¹åçš„è·¯å¾„</td></tr><tr><td>SetResponseHeader</td><td>ä¿®æ”¹åŸå§‹å“åº”ä¸­æŸä¸ªHeaderçš„å€¼</td><td>Headeråç§°ï¼Œä¿®æ”¹åçš„å€¼</td></tr><tr><td>SetStatus</td><td>ä¿®æ”¹åŸå§‹å“åº”çš„çŠ¶æ€ç </td><td>HTTPçŠ¶æ€ç ï¼Œå¯ä»¥æ˜¯æ•°å­—ï¼Œä¹Ÿå¯ä»¥æ˜¯å­—ç¬¦ä¸²</td></tr><tr><td>StripPrefix</td><td>ç”¨äºæˆªæ–­åŸå§‹è¯·æ±‚çš„è·¯å¾„</td><td>ä½¿ç”¨æ•°å­—è¡¨ç¤ºè¦æˆªæ–­çš„è·¯å¾„çš„æ•°é‡</td></tr><tr><td>Retry</td><td>é’ˆå¯¹ä¸åŒçš„å“åº”è¿›è¡Œé‡è¯•</td><td>retriesã€statusesã€methodsã€ series</td></tr><tr><td>RequestSize</td><td>è®¾ç½®å…è®¸æ¥æ”¶æœ€å¤§è¯·æ±‚åŒ…çš„å¤§å°ã€‚å¦‚æœè¯·æ±‚åŒ…å¤§å°è¶…è¿‡è®¾ç½®çš„å€¼ï¼Œåˆ™è¿”413Payload Too Large</td><td>è¯·æ±‚åŒ…å¤§å°ï¼Œå•ä½ä¸ºå­—èŠ‚ï¼Œé»˜è®¤å€¼ä¸º5M</td></tr><tr><td>ModifyRequestBody</td><td>åœ¨è½¬å‘è¯·æ±‚ä¹‹å‰ä¿®æ”¹åŸå§‹è¯·æ±‚ä½“å†…å®¹</td><td>ä¿®æ”¹åçš„è¯·æ±‚ä½“å†…å®¹</td></tr><tr><td>ModifyResponseBody</td><td>ä¿®æ”¹åŸå§‹å“åº”ä½“çš„å†…å®¹</td><td>ä¿®æ”¹åçš„å“åº”ä½“å†…å®¹</td></tr></tbody></table><p><strong>å…¨å±€è¿‡æ»¤å™¨</strong></p><p><img src="http://images.hellocode.top/20210706194840951.png" alt="img" loading="lazy"></p><ul><li>GlobalFilter å…¨å±€è¿‡æ»¤å™¨ï¼Œä¸éœ€è¦åœ¨é…ç½®æ–‡ä»¶ä¸­é…ç½®ï¼Œç³»ç»Ÿåˆå§‹åŒ–æ—¶åŠ è½½ï¼Œå¹¶ä½œç”¨åœ¨æ¯ä¸ªè·¯ç”±ä¸Š</li><li>Spring Cloud Gateway æ ¸å¿ƒçš„åŠŸèƒ½ä¹Ÿæ˜¯é€šè¿‡å†…ç½®çš„å…¨å±€è¿‡æ»¤å™¨æ¥å®Œæˆ</li></ul><p><em>è‡ªå®šä¹‰å…¨å±€è¿‡æ»¤å™¨</em></p><ol><li>å®šä¹‰ç±»å®ç°GlobalFilterå’ŒOrderedæ¥å£</li><li>å¤å†™æ–¹æ³•</li><li>å®Œæˆé€»è¾‘å¤„ç†</li></ol><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * <span class="token keyword">@author</span> HelloCode
 * <span class="token keyword">@blog</span> https://www.hellocode.top
 * <span class="token keyword">@date</span> 2022å¹´12æœˆ23æ—¥ 19:23
 */</span>
<span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestFilter</span> <span class="token keyword">implements</span> <span class="token class-name">GlobalFilter</span><span class="token punctuation">,</span> <span class="token class-name">Ordered</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Mono</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Void</span><span class="token punctuation">&gt;</span></span> <span class="token function">filter</span><span class="token punctuation">(</span><span class="token class-name">ServerWebExchange</span> exchange<span class="token punctuation">,</span> <span class="token class-name">GatewayFilterChain</span> chain<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;è‡ªå®šä¹‰å…¨å±€è¿‡æ»¤å™¨æ‰§è¡Œäº†~~~&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> chain<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>exchange<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// æ”¾è¡Œ</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * @Description: è¿‡æ»¤å™¨æ’åº
     * <span class="token keyword">@return</span> intï¼Œæ•°å€¼è¶Šå°ï¼Œè¶Šå…ˆæ‰§è¡Œ
     **/</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getOrder</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ä¸ƒã€config-åˆ†å¸ƒå¼é…ç½®ä¸­å¿ƒ" tabindex="-1"><a class="header-anchor" href="#ä¸ƒã€config-åˆ†å¸ƒå¼é…ç½®ä¸­å¿ƒ" aria-hidden="true">#</a> ä¸ƒã€config åˆ†å¸ƒå¼é…ç½®ä¸­å¿ƒ</h2><h3 id="_1ã€æ¦‚è¿°-1" tabindex="-1"><a class="header-anchor" href="#_1ã€æ¦‚è¿°-1" aria-hidden="true">#</a> 1ã€æ¦‚è¿°</h3><blockquote><p>Spring Cloud Configè§£å†³äº†åœ¨åˆ†å¸ƒå¼åœºæ™¯ä¸‹å¤šç¯å¢ƒé…ç½®æ–‡ä»¶çš„ç®¡ç†å’Œç»´æŠ¤</p></blockquote><p><img src="http://images.hellocode.top/f7da956abdee44ac9ba23296cd071aee.png" alt="img" loading="lazy"></p><p><strong>å¥½å¤„</strong></p><ul><li>é›†ä¸­ç®¡ç†é…ç½®æ–‡ä»¶</li><li>ä¸åŒç¯å¢ƒä¸åŒé…ç½®ï¼ŒåŠ¨æ€åŒ–çš„é…ç½®æ›´æ–°</li><li>é…ç½®ä¿¡æ¯æ”¹å˜æ—¶ï¼Œä¸éœ€è¦é‡å¯å³å¯æ›´æ–°é…ç½®ä¿¡æ¯åˆ°æœåŠ¡</li></ul><h3 id="_2ã€å¿«é€Ÿå…¥é—¨-1" tabindex="-1"><a class="header-anchor" href="#_2ã€å¿«é€Ÿå…¥é—¨-1" aria-hidden="true">#</a> 2ã€å¿«é€Ÿå…¥é—¨</h3><p><strong>config serverï¼š</strong></p><ol><li><p>ä½¿ç”¨giteeåˆ›å»ºè¿œç¨‹ä»“åº“ï¼Œä¸Šä¼ é…ç½®æ–‡ä»¶</p></li><li><p>æ­å»º config server æ¨¡å—ï¼ˆå¯åŠ¨ç±»æ·»åŠ <code>@EnableConfigServer</code>ï¼‰</p></li><li><p>å¯¼å…¥ config-server ä¾èµ–</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token comment">&lt;!--config-server--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-cloud-config-server<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>ç¼–å†™é…ç½®ï¼Œè®¾ç½®giteeè¿œç¨‹ä»“åº“åœ°å€ï¼ˆé»˜è®¤ç«¯å£8888ï¼‰</p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8888</span>
<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">application</span><span class="token punctuation">:</span>
    <span class="token key atrule">name</span><span class="token punctuation">:</span> config<span class="token punctuation">-</span>server
  <span class="token comment"># Spring Cloud Config</span>
  <span class="token key atrule">cloud</span><span class="token punctuation">:</span>
    <span class="token key atrule">config</span><span class="token punctuation">:</span>
      <span class="token key atrule">server</span><span class="token punctuation">:</span>
        <span class="token comment"># git çš„è¿œç¨‹ä»“åº“åœ°å€</span>
        <span class="token key atrule">git</span><span class="token punctuation">:</span>
          <span class="token key atrule">uri</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//gitee.com/java<span class="token punctuation">-</span>navigation/config<span class="token punctuation">-</span>server.git
          <span class="token comment"># å¦‚æœä»“åº“ç§æœ‰éœ€è¦è´¦å·å¯†ç ï¼ˆå…¬æœ‰ä¸éœ€è¦ï¼‰</span>
          <span class="token comment">#username:</span>
          <span class="token comment">#password:</span>
      <span class="token key atrule">label</span><span class="token punctuation">:</span> master   <span class="token comment"># åˆ†æ”¯é…ç½®</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>æµ‹è¯•è®¿é—®è¿œç¨‹é…ç½®æ–‡ä»¶ï¼šè®¿é—®<a href="http://localhost:8888/master/config-dev" target="_blank" rel="noopener noreferrer">http://localhost:8888/master/config-dev<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li></ol><p><strong>config clientï¼š</strong></p><ol><li><p>å¯¼å…¥ starter-config ä¾èµ–</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token comment">&lt;!--config--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-cloud-starter-config<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>é…ç½®config serveråœ°å€ï¼Œè¯»å–é…ç½®æ–‡ä»¶åç­‰ä¿¡æ¯ï¼ˆbootstrap.ymlï¼‰</p><p><code>config-dev.yml</code>ï¼ˆconfigä¸ºæ–‡ä»¶åï¼Œdevä¸ºprofileï¼‰</p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token comment"># é…ç½®config-serveråœ°å€</span>
<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">cloud</span><span class="token punctuation">:</span>
    <span class="token key atrule">config</span><span class="token punctuation">:</span>
      <span class="token comment"># config-serveråœ°å€</span>
      <span class="token key atrule">uri</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span><span class="token number">8888</span>
      <span class="token comment"># æ–‡ä»¶åç§°</span>
      <span class="token key atrule">name</span><span class="token punctuation">:</span> config
      <span class="token comment"># profileæŒ‡å®š</span>
      <span class="token key atrule">profile</span><span class="token punctuation">:</span> dev  <span class="token comment"># config-dev.yml</span>
      <span class="token comment"># åˆ†æ”¯å</span>
      <span class="token key atrule">label</span><span class="token punctuation">:</span> master
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p><code>bootstrap.yml</code>æ¯”<code>application.yml</code>ä¼˜å…ˆçº§æ›´é«˜ä¸€äº›ï¼Œä¸€èˆ¬ç”¨äºåŠ è½½ç³»ç»Ÿé…ç½®</p></blockquote></li><li><p>è·å–é…ç½®å€¼</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * <span class="token keyword">@author</span> HelloCode
 * <span class="token keyword">@blog</span> https://www.hellocode.top
 * <span class="token keyword">@date</span> 2022å¹´12æœˆ19æ—¥ 16:00
 */</span>
<span class="token annotation punctuation">@RestController</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/goods&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GoodsController</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">&quot;${hellocode}&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> hellocode<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>å¯åŠ¨æµ‹è¯•</p></li></ol><p><strong>å®¢æˆ·ç«¯åˆ·æ–°</strong></p><ol><li><p>åœ¨config å®¢æˆ·ç«¯å¼•å…¥actuator ä¾èµ–</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-actuator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>è·å–é…ç½®ä¿¡æ¯ç±»ä¸Šï¼Œæ·»åŠ <code>@RefreshScope</code>æ³¨è§£ï¼Œå¼€å¯åˆ·æ–°åŠŸèƒ½</p></li><li><p>æ·»åŠ é…ç½®ï¼š<code>management.endpoints.web.exposure.include=refresh</code>ï¼ˆbootstrap.ymlï¼‰</p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">management</span><span class="token punctuation">:</span>
  <span class="token key atrule">endpoints</span><span class="token punctuation">:</span>
    <span class="token key atrule">web</span><span class="token punctuation">:</span>
      <span class="token key atrule">exposure</span><span class="token punctuation">:</span>
        <span class="token key atrule">include</span><span class="token punctuation">:</span> <span class="token string">&#39;*&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>ä½¿ç”¨curlå·¥å…·å‘é€postè¯·æ±‚ï¼ˆcmdå‘½ä»¤è¡Œï¼‰</p><p><code>curl -X POST http://localhost:ç«¯å£/actuator/refresh</code></p><p><img src="http://images.hellocode.top/image-20221224122008951.png" alt="image-20221224122008951" loading="lazy"></p></li></ol><h3 id="_3ã€é›†æˆeureka" tabindex="-1"><a class="header-anchor" href="#_3ã€é›†æˆeureka" aria-hidden="true">#</a> 3ã€é›†æˆEureka</h3><p><strong>config-serveré…ç½®</strong></p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">eureka</span><span class="token punctuation">:</span>
  <span class="token key atrule">client</span><span class="token punctuation">:</span>
    <span class="token key atrule">service-url</span><span class="token punctuation">:</span>
      <span class="token key atrule">defaultZone</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span>8761/eureka  <span class="token comment"># eurekaåœ°å€</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>config-clienté…ç½®</strong></p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token comment"># é…ç½®config-serveråœ°å€</span>
<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">cloud</span><span class="token punctuation">:</span>
    <span class="token key atrule">config</span><span class="token punctuation">:</span>
      <span class="token comment"># æ–‡ä»¶åç§°</span>
      <span class="token key atrule">name</span><span class="token punctuation">:</span> config
      <span class="token comment"># profileæŒ‡å®š</span>
      <span class="token key atrule">profile</span><span class="token punctuation">:</span> dev  <span class="token comment"># config-dev.yml</span>
      <span class="token comment"># åˆ†æ”¯å</span>
      <span class="token key atrule">label</span><span class="token punctuation">:</span> master
      <span class="token key atrule">discovery</span><span class="token punctuation">:</span>
        <span class="token comment"># ä»æ³¨å†Œä¸­å¿ƒå»å¯»æ‰¾config-server</span>
        <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
        <span class="token comment"># åº”ç”¨åç§°</span>
        <span class="token key atrule">service-id</span><span class="token punctuation">:</span> config<span class="token punctuation">-</span>server  
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æµ‹è¯•åŠŸèƒ½</strong></p><h2 id="å…«ã€bus-æ¶ˆæ¯æ€»çº¿" tabindex="-1"><a class="header-anchor" href="#å…«ã€bus-æ¶ˆæ¯æ€»çº¿" aria-hidden="true">#</a> å…«ã€bus æ¶ˆæ¯æ€»çº¿</h2><blockquote><p>åœ¨configä¸­ï¼Œå½“é…ç½®æ–‡ä»¶å‘ç”Ÿä¿®æ”¹ï¼Œéœ€è¦æ‰§è¡Œcurlå‘½ä»¤è¿›è¡Œåˆ·æ–°ï¼ˆæ‰èƒ½ä¸é‡å¯æœåŠ¡è·å¾—æœ€æ–°å€¼ï¼‰ï¼Œå½“å¾®æœåŠ¡æ•°é‡å¢å¤šæ—¶ï¼Œè¿™ç§æ–¹å¼å°±ä¸å¤ªåˆé€‚</p></blockquote><p><img src="http://images.hellocode.top/20200709184624248.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"></p><ul><li>Spring Cloud Bus æ˜¯ç”¨è½»é‡çš„æ¶ˆæ¯ä¸­é—´ä»¶å°†åˆ†å¸ƒå¼çš„èŠ‚ç‚¹è¿æ¥èµ·æ¥ï¼Œå¯ä»¥ç”¨äºå¹¿æ’­é…ç½®æ–‡ä»¶çš„æ›´æ”¹æˆ–è€…æœåŠ¡çš„ç›‘æ§ç®¡ç†ã€‚å…³é”®çš„æ€æƒ³å°±æ˜¯ï¼Œæ¶ˆæ¯æ€»çº¿å¯ä»¥ä¸ºå¾®æœåŠ¡åšç›‘æ§ï¼Œä¹Ÿå¯ä»¥å®ç°åº”ç”¨ç¨‹åºä¹‹é—´ç›¸äº’é€šä¿¡</li><li>Spring Cloud Buså¯é€‰çš„æ¶ˆæ¯ä¸­é—´ä»¶åŒ…æ‹¬ RabbitMQ å’Œ Kafka</li><li>å»ºè®®å…ˆå›é¡¾ä¸€ä¸‹<em>RabbitMQ</em>ï¼ŒåŠ æ·±å°è±¡</li></ul><p><strong>å¿«é€Ÿå…¥é—¨</strong></p><ol><li><p>åˆ†åˆ«åœ¨config-server å’Œ config-client ä¸­å¼•å…¥bus ä¾èµ–ï¼šbus-amqp</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token comment">&lt;!--bus--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-cloud-starter-bus-amqp<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>åˆ†åˆ«åœ¨config-server å’Œ config-client ä¸­é…ç½®RabbitMQï¼ˆbootstrap.ymlï¼‰</p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">rabbitmq</span><span class="token punctuation">:</span>
    <span class="token key atrule">host</span><span class="token punctuation">:</span> 192.168.36.128
    <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">5672</span>
    <span class="token key atrule">username</span><span class="token punctuation">:</span> hellocode
    <span class="token key atrule">password</span><span class="token punctuation">:</span> <span class="token number">123456</span>
    <span class="token key atrule">virtual-host</span><span class="token punctuation">:</span> /
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>åœ¨config-serverä¸­è®¾ç½®æš´éœ²ç›‘æ§æ–­ç‚¹ï¼šbus-refresh</p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token comment"># æš´éœ²busçš„åˆ·æ–°æ–­ç‚¹</span>
<span class="token key atrule">management</span><span class="token punctuation">:</span>
  <span class="token key atrule">endpoints</span><span class="token punctuation">:</span>
    <span class="token key atrule">web</span><span class="token punctuation">:</span>
      <span class="token key atrule">exposure</span><span class="token punctuation">:</span>
        <span class="token key atrule">include</span><span class="token punctuation">:</span> <span class="token string">&#39;bus-refresh&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>å¯åŠ¨æµ‹è¯•</p></li></ol><h2 id="ä¹ã€stream-æ¶ˆæ¯é©±åŠ¨" tabindex="-1"><a class="header-anchor" href="#ä¹ã€stream-æ¶ˆæ¯é©±åŠ¨" aria-hidden="true">#</a> ä¹ã€stream æ¶ˆæ¯é©±åŠ¨</h2><h3 id="_1ã€æ¦‚è¿°-2" tabindex="-1"><a class="header-anchor" href="#_1ã€æ¦‚è¿°-2" aria-hidden="true">#</a> 1ã€æ¦‚è¿°</h3><ul><li>Spring Cloud Stream æ˜¯ä¸€ä¸ªæ„å»ºæ¶ˆæ¯é©±åŠ¨å¾®æœåŠ¡åº”ç”¨çš„æ¡†æ¶</li><li>Stream è§£å†³äº†å¼€å‘äººå‘˜æ— æ„ŸçŸ¥çš„ä½¿ç”¨æ¶ˆæ¯ä¸­é—´ä»¶çš„é—®é¢˜ï¼Œå› ä¸ºStreamå¯¹æ¶ˆæ¯ä¸­é—´ä»¶çš„è¿›ä¸€æ­¥å°è£…ï¼Œå¯ä»¥åšåˆ°ä»£ç å±‚é¢å¯¹ä¸­é—´ä»¶çš„æ— æ„ŸçŸ¥ï¼Œç”šè‡³äºåŠ¨æ€çš„åˆ‡æ¢ä¸­é—´ä»¶ï¼Œä½¿å¾—å¾®æœåŠ¡å¼€å‘çš„é«˜åº¦è§£è€¦ï¼ŒæœåŠ¡å¯ä»¥å…³æ³¨æ›´å¤šè‡ªå·±çš„ä¸šåŠ¡æµç¨‹</li><li>Spring Cloud Streamç›®å‰æ”¯æŒä¸¤ç§æ¶ˆæ¯ä¸­é—´ä»¶ RabbitMQå’ŒKafka</li></ul><p><strong>ç»„ä»¶</strong></p><p><img src="http://images.hellocode.top/99bd8dd5b5854684a685438fb859ca05.png" alt="img" loading="lazy"></p><ul><li>Spring Cloud Stream æ„å»ºçš„åº”ç”¨ç¨‹åºä¸æ¶ˆæ¯ä¸­é—´ä»¶ä¹‹é—´æ˜¯é€šè¿‡ç»‘å®šå™¨Binderç›¸å…³è”çš„ã€‚ç»‘å®šå™¨å¯¹äºåº”ç”¨ç¨‹åºè€Œè¨€èµ·åˆ°äº†éš”ç¦»ä½œç”¨ï¼Œä»–ä½¿å¾—ä¸åŒæ¶ˆæ¯ä¸­é—´ä»¶çš„å®ç°ç»†èŠ‚å¯¹åº”ç”¨ç¨‹åºæ¥è¯´æ˜¯é€æ˜çš„</li><li>binding æ˜¯æˆ‘ä»¬é€šè¿‡é…ç½®æŠŠåº”ç”¨å’ŒSpring Cloud Stream çš„binder ç»‘å®šåœ¨ä¸€èµ·</li><li>outputï¼šå‘é€æ¶ˆæ¯Channelï¼Œå†…ç½®Sourceæ¥å£</li><li>inputï¼šæ¥æ”¶æ¶ˆæ¯Channelï¼Œå†…ç½®Sinkæ¥å£</li></ul><h3 id="_2ã€æ¶ˆæ¯ç”Ÿäº§è€…" tabindex="-1"><a class="header-anchor" href="#_2ã€æ¶ˆæ¯ç”Ÿäº§è€…" aria-hidden="true">#</a> 2ã€æ¶ˆæ¯ç”Ÿäº§è€…</h3><ol><li><p>åˆ›å»ºæ¶ˆæ¯ç”Ÿäº§è€…æ¨¡å—ï¼Œå¼•å…¥ä¾èµ–ï¼šstarter-stream-rabbit</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-cloud-starter-stream-rabbit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>ç¼–å†™é…ç½®ï¼Œå®šä¹‰binder å’Œ bingings</p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8000</span>
<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">cloud</span><span class="token punctuation">:</span>
    <span class="token key atrule">stream</span><span class="token punctuation">:</span>
      <span class="token comment"># å®šä¹‰ç»‘å®šå™¨ï¼Œç»‘å®šåˆ°å“ªä¸ªæ¶ˆæ¯ä¸­é—´ä»¶ä¸Š</span>
      <span class="token key atrule">binders</span><span class="token punctuation">:</span> 
        <span class="token comment"># è‡ªå®šä¹‰ç»‘å®šå™¨å</span>
        <span class="token key atrule">hellocode_binder</span><span class="token punctuation">:</span>
          <span class="token comment"># ç»‘å®šå™¨ç±»å‹</span>
          <span class="token key atrule">type</span><span class="token punctuation">:</span> rabbit
          <span class="token comment"># æŒ‡å®šmqçš„ç¯å¢ƒ</span>
          <span class="token key atrule">environment</span><span class="token punctuation">:</span>
            <span class="token key atrule">spring</span><span class="token punctuation">:</span>
              <span class="token key atrule">rabbitmq</span><span class="token punctuation">:</span>
                <span class="token key atrule">host</span><span class="token punctuation">:</span> 192.168.36.128
                <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">5672</span>
                <span class="token key atrule">username</span><span class="token punctuation">:</span> hellocode
                <span class="token key atrule">password</span><span class="token punctuation">:</span> lh18391794828
                <span class="token key atrule">virtual-host</span><span class="token punctuation">:</span> /
      <span class="token key atrule">bindings</span><span class="token punctuation">:</span> 
        <span class="token comment"># channelåç§°</span>
        <span class="token key atrule">output</span><span class="token punctuation">:</span>
          <span class="token comment"># æŒ‡å®šä½¿ç”¨å“ªä¸€ä¸ªbinder</span>
          <span class="token key atrule">binder</span><span class="token punctuation">:</span> hellocode_binder
          <span class="token comment"># æ¶ˆæ¯ç›®çš„åœ°</span>
          <span class="token key atrule">destination</span><span class="token punctuation">:</span> hellocode_exchange
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>å®šä¹‰æ¶ˆæ¯å‘é€ä¸šåŠ¡ç±»ã€‚æ·»åŠ <code>@EnableBinding(Source.class)</code>ï¼Œæ³¨å…¥MessageChannel outputï¼Œå®Œæˆæ¶ˆæ¯å‘é€</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * <span class="token keyword">@author</span> HelloCode
 * <span class="token keyword">@blog</span> https://www.hellocode.top
 * <span class="token keyword">@date</span> 2022å¹´12æœˆ24æ—¥ 14:52
 */</span>
<span class="token annotation punctuation">@Component</span>
<span class="token annotation punctuation">@EnableBinding</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token class-name">Source</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MessageProducer</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">MessageChannel</span> output<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">String</span> message <span class="token operator">=</span> <span class="token string">&quot;hello stream~~&quot;</span><span class="token punctuation">;</span>
        <span class="token comment">// å‘é€æ¶ˆæ¯</span>
        output<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token class-name">MessageBuilder</span><span class="token punctuation">.</span><span class="token function">withPayload</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æ¶ˆæ¯å‘é€æˆåŠŸ~~~&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>ç¼–å†™å¯åŠ¨ç±»ï¼Œæµ‹è¯•</p></li></ol><h3 id="_3ã€æ¶ˆæ¯æ¶ˆè´¹è€…" tabindex="-1"><a class="header-anchor" href="#_3ã€æ¶ˆæ¯æ¶ˆè´¹è€…" aria-hidden="true">#</a> 3ã€æ¶ˆæ¯æ¶ˆè´¹è€…</h3><ol><li><p>åˆ›å»ºæ¶ˆæ¯æ¶ˆè´¹è€…æ¨¡å—ï¼Œå¼•å…¥ä¾èµ–ï¼šstarter-stream-rabbitï¼ˆå’Œç”Ÿäº§è€…ä¸€è‡´ï¼‰</p></li><li><p>ç¼–å†™é…ç½®ï¼Œå®šä¹‰binder å’Œ bingingsï¼ˆåªéœ€è¦å°†ç”Ÿäº§è€…çš„outputæ”¹ä¸ºinputï¼‰</p></li><li><p>å®šä¹‰æ¶ˆæ¯æ¥æ”¶ä¸šåŠ¡ç±»ã€‚æ·»åŠ <code>@EnableBinding(Sink.class)</code>ï¼Œä½¿ç”¨<code>@StreamListener(Sink.INPUT)</code>å®Œæˆæ¶ˆæ¯æ¥æ”¶</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * <span class="token keyword">@author</span> HelloCode
 * <span class="token keyword">@blog</span> https://www.hellocode.top
 * <span class="token keyword">@date</span> 2022å¹´12æœˆ24æ—¥ 15:07
 */</span>
<span class="token annotation punctuation">@Component</span>
<span class="token annotation punctuation">@EnableBinding</span><span class="token punctuation">(</span><span class="token class-name">Sink</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MessageListener</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@StreamListener</span><span class="token punctuation">(</span><span class="token class-name">Sink</span><span class="token punctuation">.</span><span class="token constant">INPUT</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">receive</span><span class="token punctuation">(</span><span class="token class-name">Message</span> message<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>message<span class="token punctuation">.</span><span class="token function">getPayload</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="http://images.hellocode.top/image-20221224151039452.png" alt="image-20221224151039452" loading="lazy"></p></li><li><p>ç¼–å†™å¯åŠ¨ç±»ï¼Œæµ‹è¯•</p></li></ol><h2 id="åã€sleuth-zipkin-é“¾è·¯è¿½è¸ª" tabindex="-1"><a class="header-anchor" href="#åã€sleuth-zipkin-é“¾è·¯è¿½è¸ª" aria-hidden="true">#</a> åã€Sleuth+Zipkin é“¾è·¯è¿½è¸ª</h2><ul><li>Spring Cloud Sleuth æ˜¯ä¸€ä¸ªå·¥å…·ï¼Œå®ƒåœ¨æ•´ä¸ªåˆ†å¸ƒå¼ç³»ç»Ÿä¸­èƒ½è·Ÿè¸ªä¸€ä¸ªç”¨æˆ·è¯·æ±‚çš„è¿‡ç¨‹ï¼Œæ•è·è¿™äº›è·Ÿè¸ªæ•°æ®ï¼Œå°±èƒ½æ„å»ºå¾®æœåŠ¡çš„æ•´ä¸ªè°ƒç”¨é“¾çš„è§†å›¾ï¼Œè¿™æ˜¯è°ƒè¯•å’Œç›‘æ§å¾®æœåŠ¡çš„å…³é”®å·¥å…· <ul><li>è€—æ—¶åˆ†æ</li><li>å¯è§†åŒ–é”™è¯¯</li><li>é“¾è·¯ä¼˜åŒ–</li></ul></li><li>Zipkin æ˜¯ Twitter çš„ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼Œå®ƒè‡´åŠ›äºæ”¶é›†æœåŠ¡çš„å®šæ—¶æ•°æ®ï¼Œä»¥è§£å†³å¾®æœåŠ¡æ¶æ„ä¸­çš„å»¶è¿Ÿé—®é¢˜ï¼ŒåŒ…æ‹¬æ•°æ®çš„æ”¶é›†ã€å­˜å‚¨ã€æŸ¥æ‰¾å’Œå±•ç°</li></ul><p><strong>å¿«é€Ÿå…¥é—¨</strong></p><ol><li><p>å®‰è£…å¯åŠ¨zipkin</p><ul><li>ä¸‹è½½ï¼š<a href="https://repo1.maven.org/maven2/io/zipkin/zipkin-server/" target="_blank" rel="noopener noreferrer">https://repo1.maven.org/maven2/io/zipkin/zipkin-server/<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li>å¯åŠ¨ï¼š<code>java -jar zipkin.jar</code></li></ul><p><img src="http://images.hellocode.top/image-20221224153128842.png" alt="image-20221224153128842" loading="lazy"></p></li><li><p>è®¿é—®zipkin webç•Œé¢ï¼š<a href="http://localhost:9411" target="_blank" rel="noopener noreferrer">http://localhost:9411<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></li><li><p>åœ¨æœåŠ¡æä¾›æ–¹å’Œæ¶ˆè´¹æ–¹åˆ†åˆ«å¼•å…¥ sleuth å’Œ zipkin ä¾èµ–</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token comment">&lt;!--sleuth-zipkin--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-cloud-starter-sleuth<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-cloud-starter-zipkin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>zipkinå·²ç»ä¾èµ–äº†sleuthï¼Œæ‰€ä»¥å¯ä»¥çœç•¥sleuthçš„ä¾èµ–</p></blockquote></li><li><p>åˆ†åˆ«é…ç½®æœåŠ¡æä¾›æ–¹å’Œæ¶ˆè´¹æ–¹</p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">application</span><span class="token punctuation">:</span>
    <span class="token key atrule">name</span><span class="token punctuation">:</span> provider
  
  <span class="token key atrule">zipkin</span><span class="token punctuation">:</span>
    <span class="token comment"># è®¾ç½®zipkinçš„æœåŠ¡ç«¯è·¯å¾„</span>
    <span class="token key atrule">base-url</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span><span class="token number">9411</span>
  <span class="token key atrule">sleuth</span><span class="token punctuation">:</span>
    <span class="token key atrule">sampler</span><span class="token punctuation">:</span>
      <span class="token comment"># é‡‡é›†ç‡ï¼Œé»˜è®¤0.1ï¼ˆç™¾åˆ†ä¹‹10ï¼‰</span>
      <span class="token key atrule">probability</span><span class="token punctuation">:</span> <span class="token number">1</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="http://images.hellocode.top/image-20221224153200196.png" alt="image-20221224153200196" loading="lazy"></p></li></ol><p><img src="http://images.hellocode.top/20210407225219126.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"></p><p><img src="http://images.hellocode.top/20210407225230437.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"></p><p><strong>SpringCloudæ€»ç»“</strong></p><p><img src="http://images.hellocode.top/2021040722524284.jpg" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°" loading="lazy"></p><p>æœåŠ¡æ²»ç† : æ³¨å†Œä¸­å¿ƒ , æä¾›æœåŠ¡ç®¡ç†åŠŸèƒ½(æœåŠ¡æ³¨å†Œ æœåŠ¡å‘ç° æœåŠ¡çŠ¶æ€ç›‘ç®¡)</p><ul><li>Eureka</li><li>Consul</li><li>Nacos</li></ul><p>è´Ÿè½½å‡è¡¡ : æ ¹æ®ä¸åŒçš„è´Ÿè½½å‡è¡¡ç®—æ³•, å°†ç”¨æˆ·è¯·æ±‚åˆ†å‘åˆ°ä¸åŒçš„æœåŠ¡å™¨</p><ul><li>Ribbon</li></ul><p>æœåŠ¡ä¿æŠ¤ : ç†”æ–­å™¨ , ä¿è¯ç³»ç»ŸæœåŠ¡çš„å¯ç”¨æ€§</p><ul><li>Hystrix</li></ul><p>æœåŠ¡è°ƒç”¨ : ç®€åŒ–æœåŠ¡è°ƒç”¨è¿‡</p><ul><li>Feign</li></ul><p>æœåŠ¡ç½‘å…³ : ç³»ç»ŸæœåŠ¡çš„å”¯ä¸€å…¥å£ , ä¸»è¦è´Ÿè´£ é‰´æƒ , åŠ¨æ€è·¯ç”± , è·¨åŸŸè¯·æ±‚</p><ul><li>Zuul</li><li>Spring Cloud Gateway</li></ul><p>é…ç½®ç®¡ç† : é…ç½®ä¸­å¿ƒ , å¯ä»¥å®ç°é…ç½®çš„ç»Ÿä¸€ç®¡ç†(git/svn)</p><ul><li>Spring Cloud Config</li><li>Nacos</li></ul><p>æ¶ˆæ¯æ€»çº¿ : æœåŠ¡é€šä¿¡ , å¯ä»¥å®ç°é…ç½®çš„ä¸é‡å¯æ›´æ–°</p><ul><li>Spring Cloud BUS</li></ul><p>æœåŠ¡è°ƒç”¨é“¾è·¯è¿½è¸ª : è¿½è¸ªæœåŠ¡è°ƒç”¨è¿‡ç¨‹, åŠæ—¶å‘ç°æœ‰é—®é¢˜æˆ–è€…æ•ˆç‡ä½çš„æœåŠ¡å™¨</p><ul><li>Sleuth+Zipkin</li></ul></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/HelloCode66/Java-Navigation/edit/main/src/md/spring/cloud.md" rel="noopener noreferrer" target="_blank" aria-label="åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item update-time"><span class="label">ä¸Šæ¬¡ç¼–è¾‘äº: </span><!----></div><div class="meta-item contributors"><span class="label">è´¡çŒ®è€…: </span><!--[--><!--[--><span class="contributor" title="email: 10837907@qq.com">HelloCode</span><!--]--><!--]--></div></footer><nav class="page-nav"><a href="/md/spring/boot.html" class="nav-link prev" aria-label="SpringBoot"><div class="hint"><span class="arrow left"></span>ä¸Šä¸€é¡µ</div><div class="link"><!---->SpringBoot</div></a><a href="/md/spring/interview.html" class="nav-link next" aria-label="é¢è¯•å®å…¸"><div class="hint">ä¸‹ä¸€é¡µ<span class="arrow right"></span></div><div class="link">é¢è¯•å®å…¸<!----></div></a></nav><div class="giscus-wrapper input-top" style="display:block;"><div style="text-align:center">Loading...</div></div><!----><!--]--></main><!--]--><footer class="footer-wrapper"><div class="footer">é»˜è®¤é¡µè„š</div><div class="copyright">Copyright Â© 2023 HelloCode.</div></footer><!--]--></div><!--]--><!----><!----><!--]--></div>
    <script type="module" src="/assets/app.401b812b.js" defer></script>
  </body>
</html>
